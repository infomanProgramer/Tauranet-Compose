(function(t){function a(a){for(var s,i,n=a[0],l=a[1],c=a[2],u=0,p=[];u<n.length;u++)i=n[u],r[i]&&p.push(r[i][0]),r[i]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);d&&d(a);while(p.length)p.shift()();return o.push.apply(o,c||[]),e()}function e(){for(var t,a=0;a<o.length;a++){for(var e=o[a],s=!0,n=1;n<e.length;n++){var l=e[n];0!==r[l]&&(s=!1)}s&&(o.splice(a--,1),t=i(i.s=e[0]))}return t}var s={},r={app:0},o=[];function i(a){if(s[a])return s[a].exports;var e=s[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=t,i.c=s,i.d=function(t,a,e){i.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,a){if(1&a&&(t=i(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var s in t)i.d(e,s,function(a){return t[a]}.bind(null,s));return e},i.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(a,"a",a),a},i.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},i.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=a,n=n.slice();for(var c=0;c<n.length;c++)a(n[c]);var d=l;o.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"0268":function(t,a,e){},"083d":function(t,a,e){"use strict";var s=e("2ad5"),r=e.n(s);r.a},"09ec":function(t,a,e){},"2ad5":function(t,a,e){},3028:function(t,a,e){},3350:function(t,a,e){},3536:function(t,a,e){"use strict";var s=e("e540"),r=e.n(s);r.a},"36f1":function(t,a,e){"use strict";var s=e("0268"),r=e.n(s);r.a},"3ab0":function(t,a,e){},4448:function(t,a,e){"use strict";var s=e("3350"),r=e.n(s);r.a},4678:function(t,a,e){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(t){var a=o(t);return e(a)}function o(t){var a=s[t];if(!(a+1)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a}r.keys=function(){return Object.keys(s)},r.resolve=o,t.exports=r,r.id="4678"},"4c39":function(t,a,e){},"4d7c":function(t,a,e){t.exports=e.p+"img/logo-tauranet.ac425e3c.svg"},"53d0":function(t,a,e){"use strict";var s=e("70af"),r=e.n(s);r.a},"54ad":function(t,a,e){"use strict";var s=e("a114"),r=e.n(s);r.a},"56d7":function(t,a,e){"use strict";e.r(a);e("cadf"),e("551c"),e("f751"),e("097d");var s,r,o,i,n=e("2b0e"),l=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[e("router-view"),e("vue-progress-bar")],1)},c=[],d=(e("5c0b"),e("2877")),u={},p=Object(d["a"])(u,l,c,!1,null,null,null),m=p.exports,f=e("8c4f"),v=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"cuerpo"}},[e("MenuLeft",{staticClass:"menu-izquierdo"}),e("router-view",{staticClass:"contenido-principal"})],1)},h=[],b=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ul",{staticClass:"nav flex-column",attrs:{id:"MenuLeft"}},[t._m(0),e("li",{staticClass:"nav-item",attrs:{id:"datos-usuario"}},[e("a",{staticClass:"nav-link",attrs:{"data-toggle":"collapse",href:"#subMenuAdministrador",role:"button","aria-expanded":"false","aria-controls":"collapseExample"},on:{click:t.changeArrowA}},[e("img",{staticClass:"rounded-circle",attrs:{id:"foto-perfil",src:t.fotoperfil,alt:"Cinque Terre",width:"40",height:"40"}}),e("label",{staticClass:"align-middle",staticStyle:{"line-height":"0.9"},attrs:{for:""}},[e("strong",[e("DataUser",{attrs:{dataReturn:["nombre_usuario"]}})],1),e("br"),e("span",{attrs:{id:"rol_usuario"}},[t._v(t._s(t.rol))])]),e("i",{ref:"iconoSubMenuAdmin",staticClass:"fas fa-angle-left arrow"})]),e("ul",{staticClass:"collapse",attrs:{id:"subMenuAdministrador"}},[e("li",{staticClass:"nav-link"},[e("router-link",{attrs:{to:{name:"logout"}}},[t._v("Cerrar sesión")])],1)])]),t._l(t.menu,function(a){return e("li",{key:a.id,staticClass:"nav-item opciones"},[a.sub_menus.length>0?e("a",{staticClass:"nav-link",attrs:{"data-toggle":"collapse",href:"#collapseExample"+a.id,role:"button","aria-expanded":"false","aria-controls":"collapseExample"},on:{click:function(e){return t.changeArrow(a.id-1)}}},[e("i",{class:a.icon+" menu-icon"}),e("span",{staticClass:"menu-text"},[t._v(t._s(a.name))]),a.sub_menus.length>0?e("i",{ref:"iconoSubMenu",refInFor:!0,staticClass:"fas fa-angle-left arrow"}):t._e()]):e("router-link",{staticClass:"nav-link",attrs:{tag:"a",to:{name:a.name_path}}},[e("i",{class:a.icon+" menu-icon"}),e("span",{staticClass:"menu-text"},[t._v(t._s(a.name))]),e("i",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"iconoSubMenu",refInFor:!0,staticClass:"fas fa-angle-left arrow"})]),e("ul",{staticClass:"collapse",attrs:{id:"collapseExample"+a.id}},t._l(a.sub_menus,function(a){return e("li",{key:a.id,staticClass:"nav-link"},[e("router-link",{attrs:{to:{name:a.name_path}}},[t._v(t._s(a.name))])],1)}),0)],1)})],2)},g=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("li",{staticClass:"nav-item",attrs:{id:"logo-tauranet"}},[s("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[s("img",{attrs:{alt:"Perfil Usuario",src:e("4d7c"),width:"120"}})])])}],_=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("span",t._l(t.dataReturn,function(a){return e("span",{key:a.id},[t._v("\n        "+t._s(t.datosUsuarioObj[a])+"\n    ")])}),0)},C=[],y=e("bc3a"),P={name:"DataUser",props:{dataReturn:{type:Array}},data:function(){return{datosUsuarioObj:{}}},created:function(){this.dataUser()},methods:{dataUser:function(){var t=this,a="";0==this.$store.state.type_user?a="me-mozo":1==this.$store.state.type_user?a="me-cajero":2==this.$store.state.type_user?a="me-administrador":3==this.$store.state.type_user?a="me-sadmin":4==this.$store.state.type_user&&(a="me-cocinero"),y.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,y.post(this.$store.state.url_root+"api/auth/"+a).then(function(a){t.datosUsuarioObj=a.data}).catch(function(t){alert("DataUser.vue: "+t)})}}},$=P,w=Object(d["a"])($,_,C,!1,null,null,null),x=w.exports,j={components:{DataUser:x},created:function(){this.datosUsuario(),0===parseInt(this.$store.state.type_user)?this.rol="Mozo":1===parseInt(this.$store.state.type_user)?this.rol="Cajero":2===parseInt(this.$store.state.type_user)?this.rol="Administrador":3===parseInt(this.$store.state.type_user)?this.rol="Super Administrador":4===parseInt(this.$store.state.type_user)&&(this.rol="Cocinero")},data:function(){return{rol:"",fotoperfil:"".concat(this.$store.state.url_root,"imgPerfilUsuarios/").concat(this.$store.state.fotoPerfil),tipo_usuario:null,menu:[],ruta_publica:this.$store.state.url_root,menu_administrador:[{id:1,name:"Sucursal",icon:"fas fa-building",sub_menus:[{id:1,name_path:"sucursal",name:"Sucursal"},{id:2,name_path:"caja",name:"Caja"}]},{id:2,name:"Personal",icon:"fas fa-users",sub_menus:[{id:1,name_path:"gestorempleados",name:"Gestor de empleados"}]},{id:3,name:"Productos",icon:"fab fa-product-hunt",sub_menus:[{id:1,name_path:"categoriproductos",name:"Categoria de Productos"},{id:2,name_path:"productos",name:"Productos"}]},{id:4,name:"Reportes",icon:"fas fa-chart-bar",sub_menus:[{id:1,name_path:"hoy",name:"Hoy"},{id:2,name_path:"detalleventas",name:"Detalle Ventas"},{id:3,name_path:"estadisticas",name:"Estadísticas"},{id:4,name_path:"cajareport",name:"Cajas"}]},{id:5,name:"Configuracion",icon:"fas fa-wrench",sub_menus:[{id:1,name_path:"tipomoneda",name:"Simbolo Moneda"},{id:2,name_path:"password",name:"Cambiar contraseña"},{id:3,name_path:"configdni",name:"Tipo identificación"}]}],menu_mozo:[{id:1,name:"Nuevo Pedido",name_path:"nuevopedido",icon:"fas fa-plus-circle",sub_menus:[]},{id:2,name:"Historial de pedidos",name_path:"historialpedidos",icon:"fas fa-history",sub_menus:[]},{id:3,name:"Configuracion",icon:"fas fa-wrench",sub_menus:[{id:1,name_path:"password",name:"Cambiar contraseña"}]}],menu_cocinero:[{id:1,name:"Historial de pedidos",name_path:"cocinapedidos",icon:"fas fa-history",sub_menus:[]},{id:2,name:"Configuracion",icon:"fas fa-wrench",sub_menus:[{id:1,name_path:"password",name:"Cambiar contraseña"}]}],menu_cajero:[{id:1,name:"A/C de caja",name_path:"aperturacierre",icon:"fas fa-wallet",sub_menus:[]},{id:2,name:"Nuevo Pedido",name_path:"nuevopedido",icon:"fas fa-plus-circle",sub_menus:[]},{id:3,name:"Historial de pedidos",name_path:"historialpedidos",icon:"fas fa-history",sub_menus:[]},{id:4,name:"Configuracion",icon:"fas fa-wrench",sub_menus:[{id:1,name_path:"password",name:"Cambiar contraseña"}]}],menu_superadmin:[{id:1,name:"Restaurantes",name_path:"restaurant",icon:"fas fa-utensils",sub_menus:[]},{id:2,name:"Sucursales",name_path:"sucursales",icon:"fas fa-building",sub_menus:[]},{id:3,name:"Administradores",name_path:"administrador",icon:"fas fa-user",sub_menus:[]}]}},methods:{datosUsuario:function(){this.menu=[],this.tipo_usuario=this.$store.state.type_user,0==this.tipo_usuario?this.menu=this.menu_mozo:1==this.tipo_usuario?this.menu=this.menu_cajero:2==this.tipo_usuario?this.menu=this.menu_administrador:3==this.tipo_usuario?this.menu=this.menu_superadmin:4==this.tipo_usuario&&(this.menu=this.menu_cocinero)},changeArrow:function(t){"fas fa-angle-left arrow"==this.$refs.iconoSubMenu[t].className?this.$refs.iconoSubMenu[t].className="fas fa-angle-down arrow":this.$refs.iconoSubMenu[t].className="fas fa-angle-left arrow"},changeArrowA:function(){"fas fa-angle-left arrow"==this.$refs.iconoSubMenuAdmin.className?this.$refs.iconoSubMenuAdmin.className="fas fa-angle-down arrow":this.$refs.iconoSubMenuAdmin.className="fas fa-angle-left arrow"}}},k=j,A=(e("8fba"),Object(d["a"])(k,b,g,!1,null,null,null)),E=A.exports,S={components:{MenuLeft:E}},M=S,N=(e("a006"),Object(d["a"])(M,v,h,!1,null,null,null)),B=N.exports,L=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container-fluid fondo-login"},[e("div",{staticClass:"row d-flex h-100"},[e("div",{staticClass:"col-md-4"}),e("div",{staticClass:"col-md-4 align-self-center"},[e("Autenticacion")],1),e("div",{staticClass:"col-md-4"})])])},R=[],O=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"autenticacion-marco container-fluid"},[t._m(0),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("BoxMessage",{attrs:{message:t.advertenciaLogin,cod:"wa"}}),e("form",{attrs:{action:"#"},on:{submit:function(a){return a.preventDefault(),t.login(a)}}},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"borde-input"},[e("i",{staticClass:"fas fa-user"}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.nombre_usuario,expression:"nombre_usuario"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Usuario"},domProps:{value:t.nombre_usuario},on:{input:function(a){a.target.composing||(t.nombre_usuario=a.target.value)}}})]),e("ListErrors",{attrs:{errores:t.errores.nombre_usuario}})],1),e("div",{staticClass:"form-group"},[e("div",{staticClass:"borde-input"},[e("i",{staticClass:"fas fa-unlock"}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Contraseña"},domProps:{value:t.password},on:{input:function(a){a.target.composing||(t.password=a.target.value)}}})]),e("ListErrors",{attrs:{errores:t.errores.password}})],1),e("div",{staticClass:"form-group"},[e("div",{staticClass:"form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.type_user,expression:"type_user"}],staticClass:"form-check-input",attrs:{type:"radio",name:"type_user",id:"checkMozo",value:"0",checked:""},domProps:{checked:t._q(t.type_user,"0")},on:{change:function(a){t.type_user="0"}}}),e("label",{staticClass:"form-check-label",attrs:{for:"exampleRadios1"}},[t._v("\n                            Mozo\n                        ")])]),e("div",{staticClass:"form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.type_user,expression:"type_user"}],staticClass:"form-check-input",attrs:{type:"radio",name:"type_user",id:"checkCajero",value:"1"},domProps:{checked:t._q(t.type_user,"1")},on:{change:function(a){t.type_user="1"}}}),e("label",{staticClass:"form-check-label",attrs:{for:"exampleRadios1"}},[t._v("\n                            Cajero\n                        ")])]),e("div",{staticClass:"form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.type_user,expression:"type_user"}],staticClass:"form-check-input",attrs:{type:"radio",name:"type_user",id:"checkAdministrador",value:"2"},domProps:{checked:t._q(t.type_user,"2")},on:{change:function(a){t.type_user="2"}}}),e("label",{staticClass:"form-check-label",attrs:{for:"exampleRadios1"}},[t._v("\n                            Administrador\n                        ")])]),e("div",{staticClass:"form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.type_user,expression:"type_user"}],staticClass:"form-check-input",attrs:{type:"radio",name:"type_user",id:"checkCocinero",value:"4"},domProps:{checked:t._q(t.type_user,"4")},on:{change:function(a){t.type_user="4"}}}),e("label",{staticClass:"form-check-label",attrs:{for:"exampleRadios1"}},[t._v("\n                            Cocinero\n                        ")])]),e("ListErrors",{attrs:{errores:t.errores.type_user}})],1),e("div",{staticClass:"form-group d-flex justify-content-center"},[e("button",{ref:"botonLogin",staticClass:"btn-login",attrs:{type:"submit"}},[t._v("Ingresar")])])])],1)])])},D=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12 text-center"},[s("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[s("img",{staticClass:"img-fluid",attrs:{alt:"Perfil Usuario",src:e("4d7c"),width:"300"}}),s("br"),s("span",[t._v("Sistema de restaurante")])])])])}],z=function(){var t=this,a=t.$createElement,e=t._self._c||a;return t.errores?e("ul",{staticClass:"ListErrors-text"},t._l(t.errores,function(a){return e("li",{key:a.id},[t._v("\n        * "+t._s(a)+"\n    ")])}),0):t._e()},F=[],I={neme:"ListErrors",props:{errores:{type:Array}}},T=I,U=(e("aa36"),Object(d["a"])(T,z,F,!1,null,null,null)),q=U.exports,G=function(){var t=this,a=t.$createElement,e=t._self._c||a;return""==!t.message?e("div",{staticClass:"boxMessageAncho",class:t.name_property,attrs:{role:"alert"},domProps:{innerHTML:t._s(t.tieneIcono+t.message)}}):t._e()},H=[],V=(e("ac6a"),{name:"BoxMessage",props:{cod:{type:String},message:{type:String},icono:{type:String,default:""}},data:function(){return{types:[{id:1,cod:"pr",color:"primary"},{id:2,cod:"se",color:"secondary"},{id:3,cod:"su",color:"success"},{id:4,cod:"da",color:"danger"},{id:5,cod:"wa",color:"warning"},{id:6,cod:"in",color:"info"},{id:7,cod:"li",color:"light"},{id:8,cod:"dk",color:"dark"}],icon:""}},computed:{name_property:function(){var t=this,a="alert alert-";return this.types.forEach(function(e){e.cod===t.cod&&(a+=e.color)}),a},tieneIcono:function(){return""!=this.icono?(this.icon='<i class="'.concat(this.icono,'"></i> '),this.icon):""}}}),Y=V,J=(e("94f9"),Object(d["a"])(Y,G,H,!1,null,null,null)),Q=J.exports,K={name:"Autenticacion",components:{ListErrors:q,BoxMessage:Q},data:function(){return{nombre_usuario:"",password:"",errores:{},advertenciaLogin:"",type_user:null,uploadPercentage:0}},methods:{login:function(){var t=this;this.$refs.botonLogin.className="btn-login disabled-btn",this.$Progress.start(),this.errores={},null!=this.type_user?this.$store.dispatch("retrieveToken",{nombre_usuario:this.nombre_usuario,password:this.password,type_user:this.type_user}).then(function(a){null!=a.data.access_token&&""!=a.data.access_token?0==t.type_user?(t.$router.push({name:"nuevopedido"}),t.$Progress.finish()):1==t.type_user?(t.$router.push({name:"nuevopedido"}),t.$Progress.finish()):2==t.type_user?(t.$router.push({name:"hoy"}),t.$Progress.finish()):4==t.type_user&&(console.log("cocinero autenticado"),t.$router.push({name:"cocinapedidos"}),t.$Progress.finish()):null!=a.data.error?(t.advertenciaLogin=a.data.error,t.$Progress.fail(),t.$refs.botonLogin.className="btn-login"):(t.errores=a.data.errors,t.$Progress.fail(),t.$refs.botonLogin.className="btn-login")}).catch(function(a){t.$toasted.show(a,{type:"error"}),t.$Progress.fail(),t.$refs.botonLogin.className="btn-login"}):(this.errores.type_user=["Debe asignar el tipo de usuario"],this.$Progress.fail(),this.$refs.botonLogin.className="btn-login")}}},W=K,X=(e("53d0"),Object(d["a"])(W,O,D,!1,null,null,null)),Z=X.exports,tt={name:"Login",components:{Autenticacion:Z}},at=tt,et=(e("fab3"),Object(d["a"])(at,L,R,!1,null,null,null)),st=et.exports,rt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div")},ot=[],it={created:function(){var t=this;3==this.$store.state.type_user?this.$store.dispatch("destroyToken").then(function(a){t.$router.push({name:"superadmin"})}).catch(function(t){alert("Logout.vue: "+t)}):this.$store.dispatch("destroyToken").then(function(a){t.$router.push({name:"login"})}).catch(function(t){alert("Logout.vue: "+t)})}},nt=it,lt=Object(d["a"])(nt,rt,ot,!1,null,null,null),ct=lt.exports,dt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("Marco",{attrs:{titulo:"Sucursales",icono:"fas fa-table"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("label",{attrs:{for:""}},[t._v("\n                        Entradas\n                        "),e("select",{ref:"nroEntradas",attrs:{id:"nroEntradas"},on:{change:t.cambiaOption}},[e("option",[t._v("2")]),e("option",[t._v("4")]),e("option",[t._v("6")])])])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"table-responsive"},[e("table-component",{attrs:{data:t.listaSucursales,tableClass:"table",theadClass:"head-table",filterPlaceholder:"Buscar...","filter-input-class":"inputSearchText","show-caption":!1}},[e("table-column",{attrs:{show:"id_sucursal",label:"Nro."}}),e("table-column",{attrs:{show:"nombre",label:"Sucursal"}}),e("table-column",{attrs:{show:"direccion",label:"Dirección"}})],1)],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 table-responsive"},[e("Pagination",{attrs:{pagination:t.pagination},on:{funcion:t.datosSucursal}})],1)])])])},ut=[],pt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("nav",{attrs:{"aria-label":"..."}},[e("ul",{staticClass:"pagination"},[e("li",{staticClass:"page-item",class:{disabled:!t.pagination.first_page_url},on:{click:function(a){return t.$emit("funcion",t.pagination.first_page_url)}}},[e("a",{staticClass:"page-link",attrs:{href:"#"}},[t._v("First")])]),e("li",{staticClass:"page-item",class:{disabled:!t.pagination.prev_page_url},on:{click:function(a){return t.$emit("funcion",t.pagination.prev_page_url)}}},[e("a",{staticClass:"page-link",attrs:{href:"#"}},[t._v("Previous")])]),t._l(t.pagination.last_page,function(a){return e("li",{key:a,staticClass:"page-item",class:{active:t.pagination.current_page==a},on:{click:function(e){return t.$emit("funcion",t.pagination.path+"?page="+a)}}},[e("a",{staticClass:"page-link",attrs:{href:"#"}},[t._v(t._s(a))])])}),e("li",{staticClass:"page-item",class:{disabled:!t.pagination.next_page_url},on:{click:function(a){return t.$emit("funcion",t.pagination.next_page_url)}}},[e("a",{staticClass:"page-link",attrs:{href:"#"}},[t._v("Next")])]),e("li",{staticClass:"page-item",class:{disabled:!t.pagination.last_page_url},on:{click:function(a){return t.$emit("funcion",t.pagination.last_page_url)}}},[e("a",{staticClass:"page-link",attrs:{href:"#"}},[t._v("Last")])])],2)])},mt=[],ft={name:"Pagination",props:{pagination:{type:Object,default:{}}}},vt=ft,ht=(e("8d7f"),Object(d["a"])(vt,pt,mt,!1,null,null,null)),bt=ht.exports,gt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"marco-component"},[e("div",{staticClass:"cabecera"},[e("div",{staticClass:"encabezdo-style"},[e("h3",[e("i",{class:t.icono}),t._v(" "+t._s(t.titulo))])]),t.data_res!={}?e("div",{staticClass:"datos_restaurante align-self-center"},[t._v("\n            "+t._s(t.data_res.restaurant)+" "),e("br"),null!=t.data_res.sucursal?e("span",{staticClass:"datos_sucursal"},[t._v(t._s(t.data_res.sucursal))]):t._e(),e("br"),null!=t.data_res.caja?e("span",{staticClass:"datos_sucursal"},[t._v(t._s(t.data_res.caja))]):t._e()]):t._e()]),e("div",{staticClass:"contenido-style-body"},[t._t("default")],2)])},_t=[],Ct=e("bc3a"),yt={data:function(){return{mixin_data_usuario:{}}},methods:{getDataUser:function(t){Ct.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token;var a="";return 0==t?a=this.$store.state.url_root+"api/auth/me-mozo":1==t?a=this.$store.state.url_root+"api/auth/me-cajero":2==t?a=this.$store.state.url_root+"api/auth/me-administrador":3==t?a=this.$store.state.url_root+"api/auth/me-sadmin":4==t&&(a=this.$store.state.url_root+"api/auth/me-cocinero"),new Promise(function(t,e){Ct.post(a).then(function(a){t(a)}).catch(function(t){alert("misMixin.js: "+t),e(t)})})},getDataRestaurante:function(t,a){var e=this;return Ct.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,new Promise(function(s,r){Ct.get(e.$store.state.url_root+"api/auth/restaurantedatos/user/".concat(a,"/type/").concat(t)).then(function(t){s(t)}).catch(function(t){e.$toasted.show("misMixin.js: "+t,{type:"error"}),r(t)})})}}},Pt={name:"Marco",props:{titulo:{type:String},icono:{type:String}},data:function(){return{data_usr:{},data_res:{}}},mixins:[yt],created:function(){var t=this;this.getDataUser(this.$store.state.type_user).then(function(a){var e=-1;t.data_usr=a.data,0==t.$store.state.type_user?e=t.data_usr.id_mozo:1==t.$store.state.type_user?e=t.data_usr.id_cajero:2==t.$store.state.type_user?e=t.data_usr.id_administrador:3==t.$store.state.type_user?e=t.data_usr.id_superadministrador:4==t.$store.state.type_user&&(e=t.data_usr.id_cocinero),0!=t.$store.state.type_user&&1!=t.$store.state.type_user&&2!=t.$store.state.type_user&&4!=t.$store.state.type_user||t.getDataRestaurante(t.$store.state.type_user,e).then(function(a){t.data_res=a.data.data[0],t.$store.dispatch("retrieveDataRestaurantAction",t.data_res)}).catch(function(a){t.$toasted.show(a,{type:"error"})})}).catch(function(a){t.$toasted.show(a,{type:"error"})})}},$t=Pt,wt=(e("ca26"),Object(d["a"])($t,gt,_t,!1,null,null,null)),xt=wt.exports,jt=e("bc3a"),kt={name:"Sucursal",components:{Pagination:bt,Marco:xt},created:function(){this.datosSucursal()},data:function(){return{listaSucursales:[],nro_page:2,pagination:{}}},methods:{datosSucursal:function(t){var a=this;this.$Progress.start(),this.listaSucursales=[],t=t||this.$store.state.url_root+"api/auth/sucursal/restaurant/".concat(this.nro_page,"/").concat(this.$store.state.id_restaurant),jt.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,jt.get(t).then(function(t){a.listaSucursales=t.data.data.data,a.pagination=t.data.data,a.$Progress.finish()}).catch(function(t){a.$toasted.show("Sucursales.vue: "+t,{type:"error"}),a.$Progress.fail()})},cambiaOption:function(){this.nro_page=this.$refs.nroEntradas.value,this.datosSucursal()}}},At=kt,Et=Object(d["a"])(At,dt,ut,!1,null,null,null),St=Et.exports,Mt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("Marco",{attrs:{titulo:"Sucursales",icono:"fas fa-table"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("label",{attrs:{for:""}},[t._v("\n                        Entradas\n                        "),e("select",{ref:"nroEntradas",attrs:{id:"nroEntradas"},on:{change:t.cambiaOption}},[e("option",[t._v("3")]),e("option",[t._v("5")]),e("option",[t._v("10")])])])]),e("div",{staticClass:"col-md-6"},[e("button",{staticClass:"btn btn-primary float-right",attrs:{type:"button","data-toggle":"modal","data-target":"#modalNuevoSucursal"}},[e("i",{staticClass:"fas fa-plus"}),t._v(" Nuevo")])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("label",{attrs:{for:""}},[t._v("\n                        Restaurante\n                        "),e("select",{ref:"selectMostrarPorRestaurante",attrs:{id:"nroEntradas"},on:{change:t.mostrarPorRestaurante}},[e("option",{attrs:{value:"-1",selected:""}},[t._v("Seleccionar...")]),t._l(t.Restaurantes,function(a){return e("option",{key:a.id_restaurant,domProps:{value:a.id_restaurant}},[t._v(t._s(a.nombre))])})],2)])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("BoxMessage",{attrs:{message:t.nuevoSucursalMsg,cod:"su",icono:"fas fa-check"}}),e("div",{staticClass:"table-responsive"},[e("table-component",{attrs:{data:t.listaSucursales,tableClass:"table",theadClass:"head-table",filterPlaceholder:"Buscar...","filter-input-class":"inputSearchText","show-caption":!1}},[e("table-column",{attrs:{show:"nombreRestaurante",label:"Restaurante"}}),e("table-column",{attrs:{show:"nombre",label:"Sucursal"}}),e("table-column",{attrs:{show:"descripcion",label:"Descripción"}}),e("table-column",{attrs:{show:"direccion",label:"Dirección"}}),e("table-column",{attrs:{label:"Acciones",sortable:!1,filterable:!1},scopedSlots:t._u([{key:"default",fn:function(a){return[e("button",{staticClass:"btn btn-info",attrs:{type:"button","data-toggle":"modal","data-target":"#modalEditaSucursal"},on:{click:function(e){return t.getDatosSucursal(a.id_sucursal)}}},[e("i",{staticClass:"fas fa-edit"})])]}}])})],1)],1)],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 table-responsive"},[e("Pagination",{attrs:{pagination:t.pagination},on:{funcion:t.datosSucursal}})],1)]),e("div",{staticClass:"row"},[e("form",{on:{submit:function(a){return a.preventDefault(),t.nuevoSucursal(a)}}},[e("Modal",{attrs:{titulo:"Registro Sucursal",idModal:"modalNuevoSucursal",icono:"fas fa-plus"},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Sucursal.nombre,expression:"Sucursal.nombre"}],staticClass:"form-control input-style",attrs:{type:"text",placeholder:"Nombre"},domProps:{value:t.Sucursal.nombre},on:{input:function(a){a.target.composing||t.$set(t.Sucursal,"nombre",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.nombre}})],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.Sucursal.id_restaurant,expression:"Sucursal.id_restaurant"}],staticClass:"form-control input-style",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){var a="_value"in t?t._value:t.value;return a});t.$set(t.Sucursal,"id_restaurant",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"-1",selected:""}},[t._v("Restaurante...")]),t._l(t.Restaurantes,function(a){return e("option",{key:a.id_restaurant,domProps:{value:a.id_restaurant}},[t._v(t._s(a.nombre))])})],2),e("ListErrors",{attrs:{errores:t.errores.id_restaurant}})],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Sucursal.descripcion,expression:"Sucursal.descripcion"}],staticClass:"form-control input-style",attrs:{type:"text",id:"exampleFormControlTextarea1",rows:"3",placeholder:"Descripción"},domProps:{value:t.Sucursal.descripcion},on:{input:function(a){a.target.composing||t.$set(t.Sucursal,"descripcion",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.descripcion}})],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Sucursal.direccion,expression:"Sucursal.direccion"}],staticClass:"form-control input-style",attrs:{type:"text",placeholder:"Dirección"},domProps:{value:t.Sucursal.direccion},on:{input:function(a){a.target.composing||t.$set(t.Sucursal,"direccion",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.direccion}})],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Sucursal.telefono,expression:"Sucursal.telefono"}],staticClass:"form-control input-style",attrs:{type:"text",placeholder:"Telefono"},domProps:{value:t.Sucursal.telefono},on:{input:function(a){a.target.composing||t.$set(t.Sucursal,"telefono",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.telefono}})],1)]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Sucursal.celular,expression:"Sucursal.celular"}],staticClass:"form-control input-style",attrs:{type:"text",placeholder:"Celular"},domProps:{value:t.Sucursal.celular},on:{input:function(a){a.target.composing||t.$set(t.Sucursal,"celular",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.celular}})],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Sucursal.pais,expression:"Sucursal.pais"}],staticClass:"form-control input-style",attrs:{type:"text",placeholder:"País"},domProps:{value:t.Sucursal.pais},on:{input:function(a){a.target.composing||t.$set(t.Sucursal,"pais",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.pais}})],1)]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Sucursal.ciudad,expression:"Sucursal.ciudad"}],staticClass:"form-control input-style",attrs:{type:"text",placeholder:"Ciudad"},domProps:{value:t.Sucursal.ciudad},on:{input:function(a){a.target.composing||t.$set(t.Sucursal,"ciudad",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.ciudad}})],1)])])])]},proxy:!0},{key:"footer",fn:function(){return[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.limpiaSucursal}},[t._v("Cerrar")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Guardar")])]},proxy:!0}])})],1),e("form",{on:{submit:function(a){return a.preventDefault(),t.editaSucursal(t.Sucursal.id_sucursal)}}},[e("Modal",{attrs:{titulo:"Edita Sucursal",idModal:"modalEditaSucursal",icono:"fas fa-edit"},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("BoxMessage",{attrs:{message:t.datosRepetidos,cod:"da",icono:"fas fa-exclamation-circle"}}),e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("Nombre")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.Sucursal.nombre,expression:"Sucursal.nombre"}],staticClass:"form-control input-style",attrs:{type:"text"},domProps:{value:t.Sucursal.nombre},on:{input:function(a){a.target.composing||t.$set(t.Sucursal,"nombre",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.nombre}})],1)])],1),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("Restaurante")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.Sucursal.id_restaurant,expression:"Sucursal.id_restaurant"}],staticClass:"form-control input-style",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){var a="_value"in t?t._value:t.value;return a});t.$set(t.Sucursal,"id_restaurant",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"-1"}},[t._v("Seleccionar...")]),t._l(t.Restaurantes,function(a){return e("option",{key:a.id_restaurant,domProps:{value:a.id_restaurant}},[t._v(t._s(a.nombre))])})],2),e("ListErrors",{attrs:{errores:t.errores.id_restaurant}})],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("Descripción")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.Sucursal.descripcion,expression:"Sucursal.descripcion"}],staticClass:"form-control input-style",attrs:{id:"exampleFormControlTextarea1",rows:"3"},domProps:{value:t.Sucursal.descripcion},on:{input:function(a){a.target.composing||t.$set(t.Sucursal,"descripcion",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.descripcion}})],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("Dirección")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.Sucursal.direccion,expression:"Sucursal.direccion"}],staticClass:"form-control input-style",attrs:{type:"text"},domProps:{value:t.Sucursal.direccion},on:{input:function(a){a.target.composing||t.$set(t.Sucursal,"direccion",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.direccion}})],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Sucursal.telefono,expression:"Sucursal.telefono"}],staticClass:"form-control input-style",attrs:{type:"text",placeholder:"Telefono"},domProps:{value:t.Sucursal.telefono},on:{input:function(a){a.target.composing||t.$set(t.Sucursal,"telefono",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.telefono}})],1)]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Sucursal.celular,expression:"Sucursal.celular"}],staticClass:"form-control input-style",attrs:{type:"text",placeholder:"Celular"},domProps:{value:t.Sucursal.celular},on:{input:function(a){a.target.composing||t.$set(t.Sucursal,"celular",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.celular}})],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Sucursal.pais,expression:"Sucursal.pais"}],staticClass:"form-control input-style",attrs:{type:"text",placeholder:"País"},domProps:{value:t.Sucursal.pais},on:{input:function(a){a.target.composing||t.$set(t.Sucursal,"pais",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.pais}})],1)]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Sucursal.ciudad,expression:"Sucursal.ciudad"}],staticClass:"form-control input-style",attrs:{type:"text",placeholder:"Ciudad"},domProps:{value:t.Sucursal.ciudad},on:{input:function(a){a.target.composing||t.$set(t.Sucursal,"ciudad",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.ciudad}})],1)])])])]},proxy:!0},{key:"footer",fn:function(){return[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.limpiaSucursal}},[t._v("Cerrar")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Guardar")])]},proxy:!0}])})],1)])])])},Nt=[],Bt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal",attrs:{id:t.idModal,tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[""!=t.icono?e("i",{class:t.icono}):t._e(),t._v(" "+t._s(t.titulo))])]),e("div",{staticClass:"modal-body"},[t._t("body")],2),e("div",{staticClass:"modal-footer"},[t._t("footer")],2)])])])},Lt=[],Rt={name:"Modal",props:{titulo:{type:String},idModal:{type:String},icono:{type:String,default:""}},mounted:function(){window.$("#".concat(this.idModal)).modal({backdrop:"static",keyboard:!1,show:!1})}},Ot=Rt,Dt=(e("96dc"),Object(d["a"])(Ot,Bt,Lt,!1,null,null,null)),zt=Dt.exports,Ft=e("bc3a"),It={name:"Sucursales",components:{Modal:zt,BoxMessage:Q,ListErrors:q,Pagination:bt,Marco:xt},mixins:[yt],created:function(){var t=this;this.datosSucursal(),this.getAllRestaurantes(),this.getDataUser(3).then(function(a){t.data_usr=a.data}).catch(function(t){console.log(t)})},data:function(){return{listaSucursales:[],Sucursal:{nombre:null,descripcion:null,direccion:null,id_restaurant:-1},Restaurantes:[],nuevoSucursalMsg:"",datosRepetidos:"",errores:{},restaurantEstado:null,pagination:{},nro_page:3,sucursalesActivos:0,data_usr:{}}},methods:{datosSucursal:function(t){var a=this;this.listaSucursales=[],Ft.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,t=t||this.$store.state.url_root+"api/auth/sucursal/all/".concat(this.nro_page),Ft.get(t).then(function(t){a.listaSucursales=t.data.data.data,a.pagination=t.data.data}).catch(function(t){alert("restaurantes.vue: "+t)})},limpiaSucursal:function(){this.restaurant={},this.Sucursal={nombre:null,descripcion:null,direccion:null,id_restaurant:-1,id_superadministrador:null,estado:null},this.nuevoSucursalMsg="",this.datosRepetidos="",this.errores={},this.$refs.selectMostrarPorRestaurante.value=-1},nuevoSucursal:function(){var t=this;this.errores={},Ft.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,this.Sucursal.id_superadministrador=this.data_usr.id_superadministrador,Ft.post(this.$store.state.url_root+"api/auth/sucursal",this.Sucursal).then(function(a){null==a.data.error?(t.datosSucursal(),window.$("#modalNuevoSucursal").modal("hide"),t.limpiaSucursal(),t.nuevoSucursalMsg="La sucursal <strong>".concat(a.data.data.nombre,"</strong> se creo correctamente")):t.errores=a.data.error}).catch(function(t){alert("Sucursales.vue: "+t)})},getDatosSucursal:function(t){var a=this;this.limpiaSucursal(),Ft.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,Ft.get(this.$store.state.url_root+"api/auth/sucursal/"+t).then(function(t){a.Sucursal=t.data.data}).catch(function(t){alert("Sucursales.vue: "+t)})},editaSucursal:function(t){var a=this;this.errores={},Ft.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,this.Sucursal.id_superadministrador=this.data_usr.id_superadministrador,Ft.put(this.$store.state.url_root+"api/auth/sucursal/"+t,this.Sucursal).then(function(t){null==t.data.error?(a.datosSucursal(a.$store.state.url_root+"api/auth/sucursal/all/".concat(a.nro_page,"?page=").concat(a.pagination.current_page)),window.$("#modalEditaSucursal").modal("hide"),a.limpiaSucursal(),a.nuevoSucursalMsg="La sucursal <strong>".concat(t.data.data.nombre,"</strong> se actualizo correctamente")):null!=t.data.error.valores?a.datosRepetidos=t.data.error.valores:a.errores=t.data.error}).catch(function(t){alert("Sucursales.vue: "+t)})},cambiaOption:function(){this.nro_page=this.$refs.nroEntradas.value,this.datosSucursal()},getAllRestaurantes:function(){var t=this;Ft.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,Ft.get(this.$store.state.url_root+"api/auth/restaurantall").then(function(a){t.Restaurantes=a.data.data}).catch(function(t){alert("Sucursales.vue: "+t)})},mostrarPorRestaurante:function(){var t=this;this.listaSucursales=[],-1!=this.$refs.selectMostrarPorRestaurante.value?(Ft.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,Ft.get(this.$store.state.url_root+"api/auth/sucursal/restaurant/".concat(this.nro_page,"/").concat(this.$refs.selectMostrarPorRestaurante.value)).then(function(a){t.listaSucursales=a.data.data.data,t.pagination=a.data.data}).catch(function(t){alert("Sucursales.vue: "+t)})):this.datosSucursal()}}},Tt=It,Ut=(e("3536"),Object(d["a"])(Tt,Mt,Nt,!1,null,null,null)),qt=Ut.exports,Gt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("Marco",{attrs:{titulo:"Cajas",icono:"fas fa-table"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("label",{attrs:{for:""}},[t._v("\n                        Entradas\n                        "),e("select",{ref:"nroEntradas",attrs:{id:"nroEntradas"},on:{change:t.cambiaOption}},[e("option",[t._v("3")]),e("option",[t._v("6")]),e("option",[t._v("10")])])])]),e("div",{staticClass:"col-md-6"},[e("button",{staticClass:"btn btn-primary float-right",attrs:{type:"button","data-toggle":"modal","data-target":"#modalNuevoCaja"}},[e("i",{staticClass:"fas fa-plus"}),t._v(" Nuevo")])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("label",{attrs:{for:""}},[t._v("\n                        Sucursal\n                        "),e("select",{ref:"refListaSucursal",attrs:{id:"nroEntradas"},on:{change:t.mostrarPorSucursal}},[e("option",{attrs:{value:"-1",selected:""}},[t._v("Seleccionar...")]),t._l(t.listaSucursales,function(a){return e("option",{key:a.id_sucursal,domProps:{value:a.id_sucursal}},[t._v(t._s(a.nombre))])})],2)])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("BoxMessage",{attrs:{message:t.nuevaCajaMsg,cod:t.cod,icono:t.icono}}),e("div",{staticClass:"table-responsive"},[e("table-component",{attrs:{data:t.listaCajas,tableClass:"table",theadClass:"head-table",filterPlaceholder:"Buscar...","filter-input-class":"inputSearchText","show-caption":!1}},[e("table-column",{attrs:{show:"nombreSucursal",label:"Sucursal"}}),e("table-column",{attrs:{show:"nombre",label:"Caja"}}),e("table-column",{attrs:{label:"Editar",sortable:!1,filterable:!1},scopedSlots:t._u([{key:"default",fn:function(a){return[e("button",{staticClass:"btn btn-info",attrs:{type:"button","data-toggle":"modal","data-target":"#modalEditaCaja"},on:{click:function(e){return t.getDatosCaja(a.id_caja)}}},[e("i",{staticClass:"fas fa-edit"})])]}}])}),e("table-column",{attrs:{label:"Eliminar",sortable:!1,filterable:!1},scopedSlots:t._u([{key:"default",fn:function(a){return[e("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.eliminarCaja(a.id_caja,a.nombre)}}},[e("i",{staticClass:"fas fa-trash-alt"})])]}}])})],1)],1)],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 table-responsive"},[e("Pagination",{attrs:{pagination:t.pagination},on:{funcion:t.mostrarPorSucursalPagination}})],1)]),e("form",{on:{submit:function(a){return a.preventDefault(),t.nuevoCaja(a)}}},[e("Modal",{attrs:{titulo:"Registro Caja",idModal:"modalNuevoCaja",icono:"fas fa-plus"},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("BoxMessage",{attrs:{message:t.datosRepetidos,cod:"da",icono:"fas fa-exclamation-circle"}}),e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("* Nombre")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.Caja.nombre,expression:"Caja.nombre"}],staticClass:"form-control input-style",attrs:{type:"text",placeholder:"Nombre"},domProps:{value:t.Caja.nombre},on:{input:function(a){a.target.composing||t.$set(t.Caja,"nombre",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.nombre}})],1)])],1),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("* Sucursal")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.Caja.id_sucursal,expression:"Caja.id_sucursal"}],staticClass:"form-control input-style",attrs:{id:"hol"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){var a="_value"in t?t._value:t.value;return a});t.$set(t.Caja,"id_sucursal",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"-1",selected:""}},[t._v("Sucursal...")]),t._l(t.listaSucursales,function(a){return e("option",{key:a.id_sucursal,domProps:{value:a.id_sucursal}},[t._v(t._s(a.nombre))])})],2),e("ListErrors",{attrs:{errores:t.errores.id_sucursal}})],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("Descripción")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.Caja.descripcion,expression:"Caja.descripcion"}],staticClass:"form-control input-style",attrs:{type:"text",id:"exampleFormControlTextarea1",rows:"3",placeholder:"Descripción"},domProps:{value:t.Caja.descripcion},on:{input:function(a){a.target.composing||t.$set(t.Caja,"descripcion",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.descripcion}})],1)])])])]},proxy:!0},{key:"footer",fn:function(){return[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.limpiaCaja}},[t._v("Cerrar")]),e("button",{ref:"nuevaCajaBtn",staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Guardar")])]},proxy:!0}])})],1),e("form",{on:{submit:function(a){return a.preventDefault(),t.editaCaja(t.Caja.id_caja)}}},[e("Modal",{attrs:{titulo:"Edita Caja",idModal:"modalEditaCaja",icono:"fas fa-edit"},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("BoxMessage",{attrs:{message:t.datosRepetidos,cod:"da",icono:"fas fa-exclamation-circle"}}),e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("* Nombre")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.Caja.nombre,expression:"Caja.nombre"}],staticClass:"form-control input-style",attrs:{type:"text"},domProps:{value:t.Caja.nombre},on:{input:function(a){a.target.composing||t.$set(t.Caja,"nombre",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.nombre}})],1)])],1),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("* Sucursal")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.Caja.id_sucursal,expression:"Caja.id_sucursal"}],staticClass:"form-control input-style",attrs:{id:"hol"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){var a="_value"in t?t._value:t.value;return a});t.$set(t.Caja,"id_sucursal",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"-1",selected:""}},[t._v("Sucursal...")]),t._l(t.listaSucursales,function(a){return e("option",{key:a.id_sucursal,domProps:{value:a.id_sucursal}},[t._v(t._s(a.nombre))])})],2),e("ListErrors",{attrs:{errores:t.errores.id_sucursal}})],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("Descripción")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.Caja.descripcion,expression:"Caja.descripcion"}],staticClass:"form-control input-style",attrs:{type:"text",id:"exampleFormControlTextarea1",rows:"3"},domProps:{value:t.Caja.descripcion},on:{input:function(a){a.target.composing||t.$set(t.Caja,"descripcion",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.descripcion}})],1)])])])]},proxy:!0},{key:"footer",fn:function(){return[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.limpiaCaja}},[t._v("Cerrar")]),e("button",{ref:"editaCajaBtn",staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Guardar")])]},proxy:!0}])})],1)])])},Ht=[],Vt=e("bc3a"),Yt={name:"Caja",components:{Pagination:bt,Marco:xt,Modal:zt,ListErrors:q,BoxMessage:Q},created:function(){var t=this;this.listaSucursalesMethod(),this.$Progress.start(),this.getDataUser(2).then(function(a){t.data_usr=a.data,t.$Progress.finish()}).catch(function(a){t.$toasted.show(a,{type:"error"}),t.$Progress.fail()})},data:function(){return{listaSucursales:[],listaCajas:[],pagination:{},Caja:{id_sucursal:-1},data_usr:{},errores:{},nro_page:3,nuevaCajaMsg:"",datosRepetidos:"",cod:"su",icono:"fas fa-check"}},mixins:[yt],methods:{listaSucursalesMethod:function(){var t=this;this.$Progress.start(),Vt.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,Vt.get(this.$store.state.url_root+"api/auth/sucursalcombo/".concat(this.$store.state.id_restaurant)).then(function(a){t.listaSucursales=a.data.data,t.$Progress.finish()}).catch(function(a){t.$toasted.show("Caja.vue: "+a,{type:"error"}),t.$Progress.fail()})},mostrarPorSucursal:function(){var t=this;this.$Progress.start(),this.listaCajas=[];var a=this.$store.state.url_root+"api/auth/caja/sucursal/".concat(this.$refs.refListaSucursal.value,"/page/").concat(this.nro_page);Vt.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,Vt.get(a).then(function(a){t.listaCajas=a.data.data.data,t.pagination=a.data.data,t.$Progress.finish()}).catch(function(a){t.$toasted.show("Caja.vue: "+a,{type:"error"}),t.$Progress.fail()})},mostrarPorSucursalPagination:function(t){var a=this;this.$Progress.start(),this.listaCajas=[],t=t||this.$store.state.url_root+"api/auth/caja/sucursal/".concat(this.$refs.refListaSucursal.value,"/page/").concat(this.nro_page),Vt.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,Vt.get(t).then(function(t){a.listaCajas=t.data.data.data,a.pagination=t.data.data,a.$Progress.finish()}).catch(function(t){a.$toasted.show("Caja.vue: "+t,{type:"error"}),a.$Progress.fail()})},cambiaOption:function(){this.nro_page=this.$refs.nroEntradas.value,this.mostrarPorSucursalPagination()},getDatosCaja:function(t){var a=this;this.$Progress.start(),this.limpiaCaja(),Vt.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,Vt.get(this.$store.state.url_root+"api/auth/caja/"+t).then(function(t){a.Caja=t.data.data,a.$Progress.finish()}).catch(function(t){a.$toasted.show("Caja.vue: "+t,{type:"error"}),a.$Progress.fail()})},nuevoCaja:function(){var t=this;this.$refs.nuevaCajaBtn.className="btn btn-primary disabled",this.$Progress.start(),this.Caja.id_administrador=this.data_usr.id_administrador,Vt.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,Vt.post(this.$store.state.url_root+"api/auth/caja",this.Caja).then(function(a){null==a.data.error?(t.mostrarPorSucursal(),window.$("#modalNuevoCaja").modal("hide"),t.limpiaCaja(),t.nuevaCajaMsg="La caja <strong>".concat(a.data.data.nombre,"</strong> se creo correctamente"),t.$Progress.finish(),t.$refs.nuevaCajaBtn.className="btn btn-primary"):(null==a.data.error.limite_cajas?t.errores=a.data.error:t.datosRepetidos=a.data.error.limite_cajas,t.$refs.nuevaCajaBtn.className="btn btn-primary",t.$Progress.fail())}).catch(function(a){t.$toasted.show("Caja.vue: "+a,{type:"error"}),t.$refs.nuevaCajaBtn.className="btn btn-primary",t.$Progress.fail()})},editaCaja:function(t){var a=this;this.$Progress.start(),this.$refs.editaCajaBtn.className="btn btn-primary disabled",this.Caja.id_administrador=this.data_usr.id_administrador,Vt.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,Vt.put(this.$store.state.url_root+"api/auth/caja/".concat(t),this.Caja).then(function(t){null==t.data.error?(a.mostrarPorSucursalPagination(a.$store.state.url_root+"api/auth/caja/sucursal/".concat(a.$refs.refListaSucursal.value,"/page/").concat(a.nro_page,"?page=").concat(a.pagination.current_page)),window.$("#modalEditaCaja").modal("hide"),a.limpiaCaja(),a.nuevaCajaMsg="La caja <strong>".concat(t.data.data.nombre,"</strong> se actualizo correctamente"),a.$refs.editaCajaBtn.className="btn btn-primary",a.$Progress.finish()):(null!=t.data.error.valores?a.datosRepetidos=t.data.error.valores:a.errores=t.data.error,a.$refs.editaCajaBtn.className="btn btn-primary",a.$Progress.fail())}).catch(function(t){a.$toasted.show("Caja.vue: "+t,{type:"error"}),a.$refs.editaCajaBtn.className="btn btn-primary",a.$Progress.fail()})},limpiaCaja:function(){this.Caja={id_sucursal:-1},this.nuevaCajaMsg="",this.errores={},this.datosRepetidos="",this.cod="su",this.icono="fas fa-check"},eliminarCaja:function(t,a){var e=this;this.$Progress.start();var s=confirm("Desea eliminar la caja ".concat(a));s&&(Vt.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,Vt.delete(this.$store.state.url_root+"api/auth/caja/".concat(t)).then(function(t){e.mostrarPorSucursalPagination(e.$store.state.url_root+"api/auth/caja/sucursal/".concat(e.$refs.refListaSucursal.value,"/page/").concat(e.nro_page,"?page=").concat(e.pagination.current_page)),e.limpiaCaja(),null!=t.data.data.error?(e.nuevaCajaMsg="No se puede eliminar la caja <strong>".concat(a,"</strong>, existen cajeros asignados"),e.cod="da",e.icono="fas fa-ban",e.$Progress.fail()):e.nuevaCajaMsg="La caja <strong>".concat(a,"</strong> se elimino correctamente")}).catch(function(t){e.$toasted.show("Caja.vue: "+t,{type:"error"}),e.$Progress.fail()}))}}},Jt=Yt,Qt=Object(d["a"])(Jt,Gt,Ht,!1,null,null,null),Kt=Qt.exports,Wt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container-fluid fondo-login"},[e("div",{staticClass:"row d-flex h-100"},[e("div",{staticClass:"col-md-4"}),e("div",{staticClass:"col-md-4 align-self-center"},[e("AutenticacionSuperAdmin")],1),e("div",{staticClass:"col-md-4"})])])},Xt=[],Zt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"autenticacion-marco container-fluid"},[t._m(0),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("BoxMessage",{attrs:{message:t.advertenciaLogin,cod:"wa"}}),e("form",{attrs:{action:"#"},on:{submit:function(a){return a.preventDefault(),t.login(a)}}},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"borde-input"},[e("i",{staticClass:"fas fa-user"}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.nombre_usuario,expression:"nombre_usuario"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Usuario"},domProps:{value:t.nombre_usuario},on:{input:function(a){a.target.composing||(t.nombre_usuario=a.target.value)}}})]),e("ListErrors",{attrs:{errores:t.errores.nombre_usuario}})],1),e("div",{staticClass:"form-group"},[e("div",{staticClass:"borde-input"},[e("i",{staticClass:"fas fa-unlock"}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Contraseña"},domProps:{value:t.password},on:{input:function(a){a.target.composing||(t.password=a.target.value)}}})]),e("ListErrors",{attrs:{errores:t.errores.password}})],1),t._m(1)])],1)])])},ta=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12 text-center"},[s("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[s("img",{staticClass:"img-fluid",attrs:{alt:"Perfil Usuario",src:e("4d7c"),width:"300"}}),s("br"),s("span",[t._v("Sistema de Restaurante")])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"form-group d-flex justify-content-center"},[e("button",{staticClass:"btn-login",attrs:{type:"submit"}},[t._v("Ingresar")])])}],aa={name:"AutenticacionSuperAdmin",components:{ListErrors:q,BoxMessage:Q},data:function(){return{nombre_usuario:"",password:"",errores:{},advertenciaLogin:"",type_user:3}},methods:{login:function(){var t=this;this.errores={},null!=this.type_user?this.$store.dispatch("retrieveToken",{nombre_usuario:this.nombre_usuario,password:this.password,type_user:this.type_user}).then(function(a){null!=a.data.access_token&&""!=a.data.access_token?t.$router.push({name:"restaurant"}):null!=a.data.error?t.advertenciaLogin=a.data.error:t.errores=a.data.errors}).catch(function(t){alert("Error en el servidor: "+t)}):this.errores.type_user=["Debe asignar el tipo de usuario"]}}},ea=aa,sa=Object(d["a"])(ea,Zt,ta,!1,null,null,null),ra=sa.exports,oa={name:"LoginSA",components:{AutenticacionSuperAdmin:ra}},ia=oa,na=Object(d["a"])(ia,Wt,Xt,!1,null,null,null),la=na.exports,ca=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("Marco",{attrs:{titulo:"Restaurantes",icono:"fas fa-table"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("label",{attrs:{for:""}},[t._v("\n                        Activos\n                        "),e("input",{ref:"refInputCheckbox_RestaurantesActivos",attrs:{type:"checkbox",value:"",id:"defaultCheck1"},on:{click:t.eventInputCheckbox_RestaurantesActivos}})])]),e("div",{staticClass:"col-md-6"},[e("button",{staticClass:"btn btn-primary float-right",attrs:{type:"button","data-toggle":"modal","data-target":"#modalNuevoRestaurante"}},[e("i",{staticClass:"fas fa-plus"}),t._v(" Nuevo")])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("label",{attrs:{for:""}},[t._v("\n                        Entradas\n                        "),e("select",{ref:"nroEntradas",attrs:{id:"nroEntradas"},on:{change:t.cambiaOption}},[e("option",[t._v("3")]),e("option",[t._v("5")]),e("option",[t._v("10")])])])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("BoxMessage",{attrs:{message:t.nuevoRestaurante,cod:"su",icono:"fas fa-check"}}),e("div",{staticClass:"table-responsive"},[e("table-component",{attrs:{data:t.listaRetaurantes,tableClass:"table",theadClass:"head-table",filterPlaceholder:"Buscar...","filter-input-class":"inputSearchText","show-caption":!1}},[e("table-column",{attrs:{show:"nombre",label:"Nombre"}}),e("table-column",{attrs:{label:"Estado",sortable:!1,filterable:!1},scopedSlots:t._u([{key:"default",fn:function(t){return[e("div",{staticClass:"form-check"},[t.estado?e("input",{staticClass:"form-check-input",attrs:{type:"checkbox",checked:"",disabled:""}}):e("input",{staticClass:"form-check-input",attrs:{type:"checkbox",disabled:""}})])]}}])}),e("table-column",{attrs:{show:"observacion",label:"Observacion"}}),e("table-column",{attrs:{show:"tipo_suscripcion",label:"Suscripción"}}),e("table-column",{attrs:{show:"nombre_usuario",label:"Super Admin"}}),e("table-column",{attrs:{label:"Acciones",sortable:!1,filterable:!1},scopedSlots:t._u([{key:"default",fn:function(a){return[e("button",{staticClass:"btn btn-info",attrs:{type:"button","data-toggle":"modal","data-target":"#modalEditaRestaurante"},on:{click:function(e){return t.getDatosRestaurant(a.id_restaurant)}}},[e("i",{staticClass:"fas fa-edit"})])]}}])})],1)],1)],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 table-responsive"},[e("Pagination",{attrs:{pagination:t.pagination},on:{funcion:t.datosrestaurant}})],1)]),e("div",{staticClass:"row"},[e("form",{on:{submit:function(a){return a.preventDefault(),t.nuevoRestaurant(a)}}},[e("Modal",{attrs:{titulo:"Registro Restaurante",idModal:"modalNuevoRestaurante",icono:"fas fa-plus"},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.restaurant.nombre,expression:"restaurant.nombre"}],staticClass:"form-control input-style",attrs:{type:"text",placeholder:"Nombre"},domProps:{value:t.restaurant.nombre},on:{input:function(a){a.target.composing||t.$set(t.restaurant,"nombre",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.nombre}})],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.restaurant.estado,expression:"restaurant.estado"}],attrs:{type:"hidden",value:"true"},domProps:{value:t.restaurant.estado},on:{input:function(a){a.target.composing||t.$set(t.restaurant,"estado",a.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.restaurant.descripcion,expression:"restaurant.descripcion"}],staticClass:"form-control input-style",attrs:{type:"text",id:"exampleFormControlTextarea1",rows:"3",placeholder:"Descripción"},domProps:{value:t.restaurant.descripcion},on:{input:function(a){a.target.composing||t.$set(t.restaurant,"descripcion",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.descripcion}})],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.restaurant.observacion,expression:"restaurant.observacion"}],staticClass:"form-control input-style",attrs:{type:"text",id:"exampleFormControlTextarea1",rows:"3",placeholder:"Observación"},domProps:{value:t.restaurant.observacion},on:{input:function(a){a.target.composing||t.$set(t.restaurant,"observacion",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.observacion}})],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.restaurant.id_suscripcion,expression:"restaurant.id_suscripcion"}],staticClass:"form-control input-style",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){var a="_value"in t?t._value:t.value;return a});t.$set(t.restaurant,"id_suscripcion",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"-1",selected:""}},[t._v("Suscripción...")]),t._l(t.Suscripciones,function(a){return e("option",{key:a.id_suscripcion,domProps:{value:a.id_suscripcion}},[t._v(t._s(a.tipo_suscripcion))])})],2),e("ListErrors",{attrs:{errores:t.errores.id_suscripcion}})],1)])])])]},proxy:!0},{key:"footer",fn:function(){return[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.limpiaRestaurant}},[t._v("Cerrar")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Guardar")])]},proxy:!0}])})],1),e("form",{on:{submit:function(a){return a.preventDefault(),t.editaRestaurant(t.restaurant.id_restaurant)}}},[e("Modal",{attrs:{titulo:"Edita Restaurante",idModal:"modalEditaRestaurante",icono:"fas fa-edit"},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("BoxMessage",{attrs:{message:t.datosRepetidos,cod:"da",icono:"fas fa-exclamation-circle"}}),e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("Nombre")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.restaurant.nombre,expression:"restaurant.nombre"}],staticClass:"form-control input-style",attrs:{type:"text"},domProps:{value:t.restaurant.nombre},on:{input:function(a){a.target.composing||t.$set(t.restaurant,"nombre",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.nombre}})],1)])],1),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("Descripción")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.restaurant.descripcion,expression:"restaurant.descripcion"}],staticClass:"form-control input-style",attrs:{id:"exampleFormControlTextarea1",rows:"3"},domProps:{value:t.restaurant.descripcion},on:{input:function(a){a.target.composing||t.$set(t.restaurant,"descripcion",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.descripcion}})],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("Observación")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.restaurant.observacion,expression:"restaurant.observacion"}],staticClass:"form-control input-style",attrs:{id:"exampleFormControlTextarea1",rows:"3"},domProps:{value:t.restaurant.observacion},on:{input:function(a){a.target.composing||t.$set(t.restaurant,"observacion",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.observacion}})],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("Suscripción")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.restaurant.id_suscripcion,expression:"restaurant.id_suscripcion"}],staticClass:"form-control input-style",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){var a="_value"in t?t._value:t.value;return a});t.$set(t.restaurant,"id_suscripcion",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"-1",selected:""}},[t._v("Seleccionar...")]),t._l(t.Suscripciones,function(a){return e("option",{key:a.id_suscripcion,domProps:{value:a.id_suscripcion}},[t._v(t._s(a.tipo_suscripcion))])})],2),e("ListErrors",{attrs:{errores:t.errores.id_suscripcion}})],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6 label-style"},[t._v("Estado")]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.restaurant.estado,expression:"restaurant.estado"}],ref:"estadoRestaurant",staticClass:"form-check-input",attrs:{type:"checkbox",checked:""},domProps:{checked:Array.isArray(t.restaurant.estado)?t._i(t.restaurant.estado,null)>-1:t.restaurant.estado},on:{click:t.cambiaEstado,change:function(a){var e=t.restaurant.estado,s=a.target,r=!!s.checked;if(Array.isArray(e)){var o=null,i=t._i(e,o);s.checked?i<0&&t.$set(t.restaurant,"estado",e.concat([o])):i>-1&&t.$set(t.restaurant,"estado",e.slice(0,i).concat(e.slice(i+1)))}else t.$set(t.restaurant,"estado",r)}}})])])])])]},proxy:!0},{key:"footer",fn:function(){return[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.limpiaRestaurant}},[t._v("Cerrar")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Guardar")])]},proxy:!0}])})],1)])])])},da=[],ua=(e("386d"),e("4917"),e("bc3a")),pa={name:"Restaurant",components:{Modal:zt,BoxMessage:Q,ListErrors:q,Pagination:bt,Marco:xt},mixins:[yt],created:function(){var t=this;this.datosrestaurant(),this.getAllSuscriciones(),this.getDataUser(3).then(function(a){t.data_usr=a.data}).catch(function(t){console.log(t)})},data:function(){return{listaRetaurantes:[],restaurant:{nombre:null,descripcion:null,observacion:null,estado:null,id_suscripcion:-1},Suscripciones:[],nuevoRestaurante:"",datosRepetidos:"",errores:{},restaurantEstado:null,pagination:{},nro_page:3,restaurantesActivos:0,data_usr:{}}},computed:{filterdRestaurnates:function(){var t=this;return this.listaRetaurantes.filter(function(a){return null==t.obj?a.nombre.match(""):1==t.obj.ide?a.nombre.match(t.obj.search):2==t.obj.ide?a.descripcion.match(t.obj.search):3==t.obj.ide?a.nombre_usuario.match(t.obj.search):void 0})}},methods:{datosrestaurant:function(t){var a=this;this.listaRetaurantes=[],ua.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,ua.defaults.headers.common["Content-Type"]="application/json",t=t||this.$store.state.url_root+"api/auth/restaurant/page/".concat(this.nro_page,"/").concat(this.restaurantesActivos),ua.get(t).then(function(t){a.listaRetaurantes=t.data.data.data,a.pagination=t.data.data}).catch(function(t){alert("restaurantes.vue: "+t)})},limpiaRestaurant:function(){this.restaurant.nombre=null,this.restaurant.descripcion=null,this.restaurant.observacion=null,this.restaurant.id_suscripcion=-1,this.nuevoRestaurante="",this.datosRepetidos="",this.errores={},this.$refs.estadoRestaurant.checked=!1},nuevoRestaurant:function(){var t=this;this.errores={},ua.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,this.restaurant.estado=!0,this.restaurant.id_superadministrador=this.data_usr.id_superadministrador,ua.post(this.$store.state.url_root+"api/auth/restaurant",this.restaurant).then(function(a){null==a.data.error?(t.datosrestaurant(),window.$("#modalNuevoRestaurante").modal("hide"),t.limpiaRestaurant(),t.nuevoRestaurante="El restaurante <strong>".concat(a.data.data.nombre,"</strong> se creo correctamente")):t.errores=a.data.error}).catch(function(t){alert("restaurantes.vue: "+t)})},getDatosRestaurant:function(t){var a=this;this.limpiaRestaurant(),ua.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,ua.get(this.$store.state.url_root+"api/auth/restaurant/"+t).then(function(t){a.restaurant=t.data.data,null==a.restaurant.id_suscripcion?a.restaurant.id_suscripcion=-1:a.restaurant.id_suscripcion,a.$refs.estadoRestaurant.checked=a.restaurant.estado}).catch(function(t){alert("restaurantes.vue: "+t)})},editaRestaurant:function(t){var a=this;this.errores={},ua.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,this.restaurant.id_superadministrador=this.data_usr.id_superadministrador,ua.put(this.$store.state.url_root+"api/auth/restaurant/"+t,this.restaurant).then(function(t){null==t.data.error?(a.datosrestaurant(a.$store.state.url_root+"api/auth/restaurant/page/".concat(a.nro_page,"/").concat(a.restaurantesActivos,"?page=").concat(a.pagination.current_page)),window.$("#modalEditaRestaurante").modal("hide"),a.limpiaRestaurant(),a.nuevoRestaurante="El restaurante <strong>".concat(t.data.data.nombre,"</strong> se actualizo correctamente")):null!=t.data.error.valores?a.datosRepetidos=t.data.error.valores:a.errores=t.data.error}).catch(function(t){alert("restaurantes.vue: "+t)})},cambiaEstado:function(){this.$refs.estadoRestaurant.checked?this.$refs.estadoRestaurant.value=!0:this.$refs.estadoRestaurant.value=!1},cambiaOption:function(){this.nro_page=this.$refs.nroEntradas.value,this.datosrestaurant()},eventInputCheckbox_RestaurantesActivos:function(){this.$refs.refInputCheckbox_RestaurantesActivos.checked?this.restaurantesActivos=1:this.restaurantesActivos=0,this.datosrestaurant(this.$store.state.url_root+"api/auth/restaurant/page/".concat(this.nro_page,"/").concat(this.restaurantesActivos,"?page=").concat(this.pagination.current_page))},getAllSuscriciones:function(){var t=this;this.Suscripciones=[],ua.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,ua.get(this.$store.state.url_root+"api/auth/suscripcion").then(function(a){t.Suscripciones=a.data.data}).catch(function(t){alert("restaurantes.vue: "+t)})}}},ma=pa,fa=(e("083d"),Object(d["a"])(ma,ca,da,!1,null,null,null)),va=fa.exports,ha=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("Marco",{attrs:{titulo:"Administradores",icono:"fas fa-table"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("label",{attrs:{for:""}},[t._v("\n                        Entradas\n                        "),e("select",{ref:"nroEntradas",attrs:{id:"nroEntradas"},on:{change:t.cambiaOption}},[e("option",[t._v("3")]),e("option",[t._v("5")]),e("option",[t._v("10")])])])]),e("div",{staticClass:"col-md-6"},[e("button",{staticClass:"btn btn-primary float-right",attrs:{type:"button","data-toggle":"modal","data-target":"#modalNuevoAdministrador"}},[e("i",{staticClass:"fas fa-plus"}),t._v(" Nuevo")])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("label",{attrs:{for:""}},[t._v("\n                    Restaurante\n                    "),e("select",{ref:"selectMostrarPorRestaurante",attrs:{id:"nroEntradas"},on:{change:t.mostrarPorRestaurante}},[e("option",{attrs:{value:"-1",selected:""}},[t._v("Seleccionar...")]),t._l(t.Restaurantes,function(a){return e("option",{key:a.id_restaurant,domProps:{value:a.id_restaurant}},[t._v(t._s(a.nombre))])})],2)])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("BoxMessage",{attrs:{message:t.nuevoAdministradorMsg,cod:"su",icono:"fas fa-check"}}),e("div",{staticClass:"col-md-12 table-responsive"},[e("table-component",{attrs:{data:t.listaAdministradores,tableClass:"table",theadClass:"head-table",filterPlaceholder:"Buscar...","filter-input-class":"inputSearchText","show-caption":!1}},[e("table-column",{attrs:{show:"nombreRestaurante",label:"Restaurante"}}),e("table-column",{attrs:{show:"tipo_suscripcion",label:"Suscripción"}}),e("table-column",{attrs:{label:"Estado Restaurante",sortable:!1,filterable:!1},scopedSlots:t._u([{key:"default",fn:function(t){return[e("div",{staticClass:"form-check"},[t.estado_resturante?e("input",{staticClass:"form-check-input",attrs:{type:"checkbox",checked:"",disabled:""}}):e("input",{staticClass:"form-check-input",attrs:{type:"checkbox",disabled:""}})])]}}])}),e("table-column",{attrs:{show:"nombre_usuario",label:"Usuario"}}),e("table-column",{attrs:{show:"nombre_completo",label:"Administrador"}}),e("table-column",{attrs:{show:"dni",label:"DNI"}}),e("table-column",{attrs:{label:"Acciones",sortable:!1,filterable:!1},scopedSlots:t._u([{key:"default",fn:function(a){return[e("button",{staticClass:"btn btn-info",attrs:{type:"button","data-toggle":"modal","data-target":"#modalEditaAdministrador"},on:{click:function(e){return t.getDatosAdministrador(a.id_administrador)}}},[e("i",{staticClass:"fas fa-edit"})])]}}])})],1)],1)],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 table-responsive"},[e("Pagination",{attrs:{pagination:t.pagination},on:{funcion:t.datosAdministrador}})],1)]),e("div",{staticClass:"row"},[e("form",{attrs:{enctype:"multipart/form-data",method:"post"},on:{submit:function(a){return a.preventDefault(),t.nuevoAdministrador(a)}}},[e("Modal",{attrs:{titulo:"Registro Administrador",idModal:"modalNuevoAdministrador",icono:"fas fa-user-plus"},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.administrador.paterno,expression:"administrador.paterno"}],staticClass:"form-control input-style",attrs:{type:"text",placeholder:"Ap. Paterno"},domProps:{value:t.administrador.paterno},on:{input:function(a){a.target.composing||t.$set(t.administrador,"paterno",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.paterno}})],1)]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.administrador.materno,expression:"administrador.materno"}],staticClass:"form-control input-style",attrs:{type:"text",placeholder:"Ap. Materno"},domProps:{value:t.administrador.materno},on:{input:function(a){a.target.composing||t.$set(t.administrador,"materno",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.materno}})],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.administrador.primer_nombre,expression:"administrador.primer_nombre"}],staticClass:"form-control input-style",attrs:{type:"text",placeholder:"Primer Nombre"},domProps:{value:t.administrador.primer_nombre},on:{input:function(a){a.target.composing||t.$set(t.administrador,"primer_nombre",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.primer_nombre}})],1)]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.administrador.segundo_nombre,expression:"administrador.segundo_nombre"}],staticClass:"form-control input-style",attrs:{type:"text",placeholder:"Segundo Nombre"},domProps:{value:t.administrador.segundo_nombre},on:{input:function(a){a.target.composing||t.$set(t.administrador,"segundo_nombre",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.segundo_nombre}})],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.administrador.password,expression:"administrador.password"}],staticClass:"form-control input-style",attrs:{type:"password",placeholder:"Contraseña"},domProps:{value:t.administrador.password},on:{input:function(a){a.target.composing||t.$set(t.administrador,"password",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.password}})],1)]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.administrador.password_confirmation,expression:"administrador.password_confirmation"}],staticClass:"form-control input-style",attrs:{type:"password",placeholder:"Confirmar contraseña"},domProps:{value:t.administrador.password_confirmation},on:{input:function(a){a.target.composing||t.$set(t.administrador,"password_confirmation",a.target.value)}}})])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.administrador.nombre_usuario,expression:"administrador.nombre_usuario"}],staticClass:"form-control input-style",attrs:{type:"text",placeholder:"Usuario"},domProps:{value:t.administrador.nombre_usuario},on:{input:function(a){a.target.composing||t.$set(t.administrador,"nombre_usuario",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.nombre_usuario}})],1)]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.administrador.direccion,expression:"administrador.direccion"}],staticClass:"form-control input-style",attrs:{type:"text",placeholder:"Direcciön"},domProps:{value:t.administrador.direccion},on:{input:function(a){a.target.composing||t.$set(t.administrador,"direccion",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.direccion}})],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("flat-pickr",{staticClass:"form-control input-style",attrs:{config:t.config,placeholder:"Fecha Nacimiento"},model:{value:t.administrador.fecha_nac,callback:function(a){t.$set(t.administrador,"fecha_nac",a)},expression:"administrador.fecha_nac"}}),e("ListErrors",{attrs:{errores:t.errores.fecha_nac}})],1)]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.administrador.email,expression:"administrador.email"}],staticClass:"form-control input-style",attrs:{type:"email",placeholder:"Email"},domProps:{value:t.administrador.email},on:{input:function(a){a.target.composing||t.$set(t.administrador,"email",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.email}})],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("Sexo")]),e("div",{staticClass:"form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.administrador.sexo,expression:"administrador.sexo"}],staticClass:"form-check-input",attrs:{type:"radio",name:"sexo",id:"checkMozo",value:"1"},domProps:{checked:!0,checked:t._q(t.administrador.sexo,"1")},on:{change:function(a){return t.$set(t.administrador,"sexo","1")}}}),e("label",{staticClass:"form-check-label",attrs:{for:"exampleRadios1"}},[t._v("\n                                                Masculino\n                                            ")])]),e("div",{staticClass:"form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.administrador.sexo,expression:"administrador.sexo"}],staticClass:"form-check-input",attrs:{type:"radio",name:"sexo",id:"checkCajero",value:"0"},domProps:{checked:t._q(t.administrador.sexo,"0")},on:{change:function(a){return t.$set(t.administrador,"sexo","0")}}}),e("label",{staticClass:"form-check-label",attrs:{for:"exampleRadios1"}},[t._v("\n                                                Femenino\n                                            ")])]),e("ListErrors",{attrs:{errores:t.errores.sexo}})],1)]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.administrador.id_restaurant,expression:"administrador.id_restaurant"}],staticClass:"form-control input-style",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){var a="_value"in t?t._value:t.value;return a});t.$set(t.administrador,"id_restaurant",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"-1",selected:""}},[t._v("Restaurante...")]),t._l(t.Restaurantes,function(a){return e("option",{key:a.id_restaurant,domProps:{value:a.id_restaurant}},[t._v(t._s(a.nombre))])})],2),e("ListErrors",{attrs:{errores:t.errores.id_restaurant}})],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"}),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.administrador.dni,expression:"administrador.dni"}],staticClass:"form-control input-style",attrs:{type:"text",placeholder:"DNI"},domProps:{value:t.administrador.dni},on:{input:function(a){a.target.composing||t.$set(t.administrador,"dni",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.dni}})],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.administrador.celular,expression:"administrador.celular"}],staticClass:"form-control input-style",attrs:{type:"text",placeholder:"Celular"},domProps:{value:t.administrador.celular},on:{input:function(a){a.target.composing||t.$set(t.administrador,"celular",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.celular}})],1)]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.administrador.telefono,expression:"administrador.telefono"}],staticClass:"form-control input-style",attrs:{type:"text",placeholder:"Telefono"},domProps:{value:t.administrador.telefono},on:{input:function(a){a.target.composing||t.$set(t.administrador,"telefono",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.telefono}})],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("Foto Perfil")]),e("input",{ref:"fileImage",staticClass:"form-control-file input-style",class:{disabled:null!=t.fotoPerfilPreview},attrs:{type:"file"},on:{change:t.imageChanged}}),e("ListErrors",{attrs:{errores:t.errores.nombre_fotoperfil}})],1)]),e("div",{staticClass:"col-md-6 my-auto"},[0!=t.uploadPercentage?e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-striped bg-info",style:"width: "+t.uploadPercentage+"%",attrs:{role:"progressbar","aria-valuenow":"50","aria-valuemin":"0","aria-valuemax":"100"}},[t._v(t._s(t.uploadPercentage)+"%")])]):t._e(),null!=t.fotoPerfilPreview?e("a",{staticClass:"btnEliminarImagen",attrs:{href:"#"},on:{click:function(a){return t.deleteImage(t.fotoPerfilPreview.id_perfilimagen)}}},[e("i",{staticClass:"fas fa-times"})]):t._e(),null!=t.fotoPerfilPreview?e("img",{staticClass:"img-thumbnail fotoPerfil",attrs:{src:t.ruta_publica+"imgPerfilUsuarios/"+t.fotoPerfilPreview.nombre,alt:"sin imagen"}}):t._e(),e("input",{directives:[{name:"model",rawName:"v-model",value:t.administrador.nombre_fotoperfil,expression:"administrador.nombre_fotoperfil"}],attrs:{type:"hidden"},domProps:{value:t.administrador.nombre_fotoperfil},on:{input:function(a){a.target.composing||t.$set(t.administrador,"nombre_fotoperfil",a.target.value)}}})])])])]},proxy:!0},{key:"footer",fn:function(){return[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(a){return t.cerrarVentanaNuevoUsuario(t.fotoPerfilPreview.id_perfilimagen)}}},[t._v("Cerrar")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Guardar")])]},proxy:!0}])})],1),e("form",{on:{submit:function(a){return a.preventDefault(),t.editaAdministrador(t.administrador.id_administrador)}}},[e("Modal",{attrs:{titulo:"Edita Administrador",idModal:"modalEditaAdministrador",icono:"fas fa-user-edit"},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("BoxMessage",{attrs:{message:t.datosRepetidos,cod:"da",icono:"fas fa-exclamation-circle"}}),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("Ap. Paterno")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.administrador.paterno,expression:"administrador.paterno"}],staticClass:"form-control input-style",attrs:{type:"text"},domProps:{value:t.administrador.paterno},on:{input:function(a){a.target.composing||t.$set(t.administrador,"paterno",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.paterno}})],1)]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("Ap. Materno")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.administrador.materno,expression:"administrador.materno"}],staticClass:"form-control input-style",attrs:{type:"text"},domProps:{value:t.administrador.materno},on:{input:function(a){a.target.composing||t.$set(t.administrador,"materno",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.materno}})],1)])],1),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("Primer Nombre")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.administrador.primer_nombre,expression:"administrador.primer_nombre"}],staticClass:"form-control input-style",attrs:{type:"text"},domProps:{value:t.administrador.primer_nombre},on:{input:function(a){a.target.composing||t.$set(t.administrador,"primer_nombre",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.primer_nombre}})],1)]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("Segundo Nombre")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.administrador.segundo_nombre,expression:"administrador.segundo_nombre"}],staticClass:"form-control input-style",attrs:{type:"text"},domProps:{value:t.administrador.segundo_nombre},on:{input:function(a){a.target.composing||t.$set(t.administrador,"segundo_nombre",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.segundo_nombre}})],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("Usuario")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.administrador.nombre_usuario,expression:"administrador.nombre_usuario"}],staticClass:"form-control input-style",attrs:{type:"text"},domProps:{value:t.administrador.nombre_usuario},on:{input:function(a){a.target.composing||t.$set(t.administrador,"nombre_usuario",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.nombre_usuario}})],1)]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("Dirección")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.administrador.direccion,expression:"administrador.direccion"}],staticClass:"form-control input-style",attrs:{type:"text"},domProps:{value:t.administrador.direccion},on:{input:function(a){a.target.composing||t.$set(t.administrador,"direccion",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.direccion}})],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("Fecha Nacimiento")]),e("flat-pickr",{staticClass:"form-control input-style",attrs:{config:t.config},model:{value:t.administrador.fecha_nac,callback:function(a){t.$set(t.administrador,"fecha_nac",a)},expression:"administrador.fecha_nac"}}),e("ListErrors",{attrs:{errores:t.errores.fecha_nac}})],1)]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("Email")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.administrador.email,expression:"administrador.email"}],staticClass:"form-control input-style",attrs:{type:"email"},domProps:{value:t.administrador.email},on:{input:function(a){a.target.composing||t.$set(t.administrador,"email",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.email}})],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("Sexo")]),e("div",{staticClass:"form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.administrador.sexo,expression:"administrador.sexo"}],ref:"sexoMasculino",staticClass:"form-check-input",attrs:{type:"radio",name:"sexo",value:"1"},domProps:{checked:t._q(t.administrador.sexo,"1")},on:{change:function(a){return t.$set(t.administrador,"sexo","1")}}}),e("label",{staticClass:"form-check-label",attrs:{for:"exampleRadios1"}},[t._v("\n                                                Masculino\n                                            ")])]),e("div",{staticClass:"form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.administrador.sexo,expression:"administrador.sexo"}],ref:"sexoFemenino",staticClass:"form-check-input",attrs:{type:"radio",name:"sexo",value:"0"},domProps:{checked:t._q(t.administrador.sexo,"0")},on:{change:function(a){return t.$set(t.administrador,"sexo","0")}}}),e("label",{staticClass:"form-check-label",attrs:{for:"exampleRadios1"}},[t._v("\n                                                Femenino\n                                            ")])]),e("ListErrors",{attrs:{errores:t.errores.sexo}})],1)]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("Restaurante")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.administrador.id_restaurant,expression:"administrador.id_restaurant"}],staticClass:"form-control input-style",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){var a="_value"in t?t._value:t.value;return a});t.$set(t.administrador,"id_restaurant",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"-1",selected:""}},[t._v("Seleccionar...")]),t._l(t.Restaurantes,function(a){return e("option",{key:a.id_restaurant,domProps:{value:a.id_restaurant}},[t._v(t._s(a.nombre))])})],2),e("ListErrors",{attrs:{errores:t.errores.id_restaurant}})],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"}),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("DNI")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.administrador.dni,expression:"administrador.dni"}],staticClass:"form-control input-style",attrs:{type:"text"},domProps:{value:t.administrador.dni},on:{input:function(a){a.target.composing||t.$set(t.administrador,"dni",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.dni}})],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("Celular")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.administrador.celular,expression:"administrador.celular"}],staticClass:"form-control input-style",attrs:{type:"text"},domProps:{value:t.administrador.celular},on:{input:function(a){a.target.composing||t.$set(t.administrador,"celular",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.celular}})],1)]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("Telefono")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.administrador.telefono,expression:"administrador.telefono"}],staticClass:"form-control input-style",attrs:{type:"text"},domProps:{value:t.administrador.telefono},on:{input:function(a){a.target.composing||t.$set(t.administrador,"telefono",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.telefono}})],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("Foto Perfil")]),e("input",{ref:"fileImage",staticClass:"form-control-file input-style",class:{disabled:null!=t.fotoPerfilPreview},attrs:{type:"file"},on:{change:t.imageChanged}}),e("ListErrors",{attrs:{errores:t.errores.nombre_fotoperfil}})],1)]),e("div",{staticClass:"col-md-6 my-auto"},[0!=t.uploadPercentage?e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-striped bg-info",style:"width: "+t.uploadPercentage+"%",attrs:{role:"progressbar","aria-valuenow":"50","aria-valuemin":"0","aria-valuemax":"100"}},[t._v(t._s(t.uploadPercentage)+"%")])]):t._e(),null!=t.fotoPerfilPreview?e("a",{staticClass:"btnEliminarImagen",attrs:{href:"#"},on:{click:function(a){return t.deleteImage(t.fotoPerfilPreview.id_perfilimagen)}}},[e("i",{staticClass:"fas fa-times"})]):t._e(),null!=t.fotoPerfilPreview?e("img",{staticClass:"img-thumbnail fotoPerfil",attrs:{src:t.ruta_publica+"imgPerfilUsuarios/"+t.fotoPerfilPreview.nombre,alt:"sin imagen"}}):t._e(),e("input",{directives:[{name:"model",rawName:"v-model",value:t.administrador.nombre_fotoperfil,expression:"administrador.nombre_fotoperfil"}],attrs:{type:"hidden"},domProps:{value:t.administrador.nombre_fotoperfil},on:{input:function(a){a.target.composing||t.$set(t.administrador,"nombre_fotoperfil",a.target.value)}}})])])])]},proxy:!0},{key:"footer",fn:function(){return[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.limpiaAdministrador}},[t._v("Cerrar")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Guardar")])]},proxy:!0}])})],1)])])])},ba=[],ga=(e("7f7f"),e("28a5"),e("7618")),_a=e("bd86"),Ca=e("c38f"),ya=e.n(Ca),Pa=(e("0952"),e("feff"),e("bc3a")),$a={name:"Administrador",components:{Modal:zt,BoxMessage:Q,ListErrors:q,Pagination:bt,Marco:xt,flatPickr:ya.a},created:function(){var t=this;this.$Progress.start(),this.datosAdministrador(),this.getAllRestaurantes(),this.getDataUser(3).then(function(a){t.data_usr=a.data}).catch(function(t){console.log(t)}),this.$Progress.finish()},data:function(){var t;return{listaAdministradores:[],administrador:{id_restaurant:-1},Restaurantes:[],nuevoAdministradorMsg:"",datosRepetidos:"",errores:{},restaurantEstado:null,pagination:{},nro_page:3,administradoresActivos:0,ruta_publica:this.$store.state.url_root,fotoPerfilPreview:null,uploadPercentage:0,date:new Date,config:(t={wrap:!0,altFormat:"j/n/Y",altInput:!0,dateFormat:"Y-m-d",allowInput:!0},Object(_a["a"])(t,"wrap",!1),Object(_a["a"])(t,"static",!0),t),data_usr:{}}},mixins:[yt],methods:{datosAdministrador:function(t){var a=this;this.$Progress.start(),this.listaAdministradores=[],Pa.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,t=t||this.$store.state.url_root+"api/auth/administrador/page/".concat(this.nro_page),Pa.get(t).then(function(t){a.listaAdministradores=t.data.data.data,a.pagination=t.data.data,a.$Progress.finish()}).catch(function(t){a.$Progress.fail(),alert("restaurantes.vue: "+t)})},limpiaAdministrador:function(){this.administrador={id_restaurant:-1},this.datosRepetidos="",this.errores={},this.$refs.sexoMasculino.checked=!1,this.$refs.sexoFemenino.checked=!1,null!=this.fotoPerfilPreview&&(this.fotoPerfilPreview=null)},nuevoAdministrador:function(){var t=this;this.$Progress.start(),this.errores={},this.administrador.id_superadministrador=this.data_usr.id_superadministrador,this.administrador.tipo_usuario="2",this.administrador.nombre_fotoperfil=null!=this.fotoPerfilPreview?this.fotoPerfilPreview.nombre:null,Pa.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,Pa.post(this.$store.state.url_root+"api/auth/administrador",this.administrador).then(function(a){null==a.data.error?(null!=t.fotoPerfilPreview&&(Pa.defaults.headers.common["Authorization"]="Bearer "+t.$store.state.token,Pa.put(t.$store.state.url_root+"api/auth/imageupload/".concat(t.fotoPerfilPreview.id_perfilimagen,"/usuario/").concat(a.data.data.id_administrador,"/tipo/0")).then(function(t){console.log(t.data.data)}).catch(function(a){t.$Progress.fail(),alert("Administrador.vue: "+a)})),t.datosAdministrador(),window.$("#modalNuevoAdministrador").modal("hide"),t.limpiaAdministrador(),t.nuevoAdministradorMsg="El Administrador <strong>".concat(a.data.data.nombre_usuario,"</strong> se guardo correctamente")):t.errores=a.data.error,t.$Progress.finish()}).catch(function(a){t.$Progress.fail(),alert("Administrador.vue: "+a)})},getDatosAdministrador:function(t){var a=this;this.$Progress.start(),this.limpiaAdministrador(),Pa.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,Pa.get(this.$store.state.url_root+"api/auth/administrador/"+t).then(function(t){a.administrador=t.data.data,null!=a.administrador.nombre_fotoperfil&&(Pa.defaults.headers.common["Authorization"]="Bearer "+a.$store.state.token,Pa.get(a.$store.state.url_root+"api/auth/imageupload/".concat(a.administrador.id_administrador,"/tipo/0")).then(function(t){0!=t.data.data&&(a.fotoPerfilPreview=t.data.data)}).catch(function(t){alert("Administrador.vue: "+t)})),a.administrador.sexo?a.$refs.sexoMasculino.checked=!0:a.$refs.sexoFemenino.checked=!0,a.$Progress.finish()}).catch(function(t){a.$Progress.fail(),alert("Administrador.vue: "+t)})},editaAdministrador:function(t){var a=this;this.$Progress.start(),this.errores={},this.administrador.nombre_fotoperfil=null!=this.fotoPerfilPreview?this.fotoPerfilPreview.nombre:null,this.administrador.id_superadministrador=this.data_usr.id_superadministrador,this.administrador.tipo_usuario="2",Pa.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,Pa.put(this.$store.state.url_root+"api/auth/administrador/"+t,this.administrador).then(function(t){null==t.data.error?(null!=a.fotoPerfilPreview&&(Pa.defaults.headers.common["Authorization"]="Bearer "+a.$store.state.token,Pa.put(a.$store.state.url_root+"api/auth/imageupload/".concat(a.fotoPerfilPreview.id_perfilimagen,"/usuario/").concat(t.data.data.id_administrador,"/tipo/0")).then(function(t){console.log(t.data.data)}).catch(function(t){a.$Progress.fail(),alert("Administrador.vue: "+t)})),a.datosAdministrador(a.$store.state.url_root+"api/auth/administrador/page/".concat(a.nro_page,"?page=").concat(a.pagination.current_page)),window.$("#modalEditaAdministrador").modal("hide"),a.limpiaAdministrador(),a.nuevoAdministradorMsg="El administrador <strong>".concat(t.data.data.nombre_usuario,"</strong> se actualizo correctamente")):null!=t.data.error.valores?a.datosRepetidos=t.data.error.valores:a.errores=t.data.error,a.$Progress.finish()}).catch(function(t){a.$Progress.fail(),alert("Administrador.vue: "+t)})},cambiaEstado:function(){this.$refs.estadoAdministrador.checked?this.$refs.estadoAdministrador.value=!0:this.$refs.estadoAdministrador.value=!1},cambiaOption:function(){this.nro_page=this.$refs.nroEntradas.value,this.datosAdministrador()},getAllRestaurantes:function(){var t=this;Pa.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,Pa.get(this.$store.state.url_root+"api/auth/restaurantall").then(function(a){t.Restaurantes=a.data.data}).catch(function(t){alert("Administrador.vue: "+t)})},mostrarPorRestaurante:function(){var t=this;this.listaAdministradores=[],-1!=this.$refs.selectMostrarPorRestaurante.value?(Pa.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,Pa.get(this.$store.state.url_root+"api/auth/administrador/restaurant/".concat(this.nro_page,"/").concat(this.$refs.selectMostrarPorRestaurante.value)).then(function(a){t.listaAdministradores=a.data.data.data,t.pagination=a.data.data}).catch(function(t){alert("Administrador.vue: "+t)})):this.datosAdministrador()},cerrarVentanaNuevoUsuario:function(t){this.deleteImage(t),this.limpiaAdministrador()},imageChanged:function(t){var a=this;console.log(t.target.files[0]),this.administrador.image=t.target.files[0],console.log(Object(ga["a"])(t.target.files[0]));var e=this.administrador.image.name.split("."),s=e[e.length-1];if("jpg"==s||"jpeg"==s||"png"==s){var r=new FormData;r.append("image",this.administrador.image),Pa.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,Pa.defaults.headers.common["Content-Type"]="multipart/form-data",Pa.post(this.$store.state.url_root+"api/auth/imageupload",r,{onUploadProgress:function(t){this.uploadPercentage=parseInt(Math.round(t.loaded/t.total*100))}.bind(this)}).then(function(t){null==t.data.error?(a.fotoPerfilPreview=t.data.data,a.uploadPercentage=0,a.errores.nombre_fotoperfil=[]):a.errores=t.data.error}).catch(function(t){alert("Administrador.vue: "+t)})}else this.errores={nombre_fotoperfil:["La imagen no tiene el formato correcto"]}},deleteImage:function(t){var a=this;this.$Progress.start(),Pa.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,Pa.delete(this.$store.state.url_root+"api/auth/imageupload/"+t).then(function(t){a.fotoPerfilPreview=null,a.$Progress.finish()}).catch(function(t){a.$Progress.fail(),alert("Administrador.vue: "+t)})}}},wa=$a,xa=(e("badc"),Object(d["a"])(wa,ha,ba,!1,null,null,null)),ja=xa.exports,ka=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("Marco",{attrs:{titulo:"Gestor de Empleados",icono:"fas fa-table"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("label",{attrs:{for:""}},[t._v("\n                        Entradas\n                        "),e("select",{ref:"nroEntradas",attrs:{id:"nroEntradas"},on:{change:t.cambiaOption}},[e("option",[t._v("5")]),e("option",[t._v("10")]),e("option",[t._v("20")])])])]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-primary float-right",attrs:{type:"button","data-toggle":"modal","data-target":"#modalNuevoPersonal"}},[e("i",{staticClass:"fas fa-plus"}),t._v(" Nuevo")])])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v("\n                            Sucursal\n                            "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.ListaSucursal,expression:"ListaSucursal"}],staticClass:"form-control",on:{change:[function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){var a="_value"in t?t._value:t.value;return a});t.ListaSucursal=a.target.multiple?e:e[0]},function(a){return t.filtraPersonal()}]}},[e("option",{attrs:{value:"-1",selected:""}},[t._v("Seleccionar...")]),t._l(t.listaSucursales,function(a){return e("option",{key:a.id_sucursal,domProps:{value:a.id_sucursal}},[t._v(t._s(a.nombre))])})],2)])])]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v("\n                            Perfil\n                            "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.ListaPorPerfil,expression:"ListaPorPerfil"}],staticClass:"form-control",on:{change:[function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){var a="_value"in t?t._value:t.value;return a});t.ListaPorPerfil=a.target.multiple?e:e[0]},function(a){return t.filtraPersonal()}]}},[e("option",{attrs:{value:"-1",selected:""}},[t._v("Seleccionar...")]),e("option",{attrs:{value:"1"}},[t._v("Cajero")]),e("option",{attrs:{value:"0"}},[t._v("Mozo")]),e("option",{attrs:{value:"4"}},[t._v("Cocinero")])])])])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("BoxMessage",{attrs:{message:t.nuevoPersonalMsg,cod:"su",icono:"fas fa-check"}}),e("div",{staticClass:"table-responsive"},[e("table-component",{attrs:{data:t.listaPersonal,tableClass:"table",theadClass:"head-table",filterPlaceholder:"Buscar...","filter-input-class":"inputSearchText","show-caption":!1}},[e("table-column",{attrs:{show:"nombresucursal",label:"Sucursal"}}),e("table-column",{attrs:{show:"nombre_usuario",label:"Usuario"}}),e("table-column",{attrs:{show:"dni",label:t.getIdentificacion}}),e("table-column",{attrs:{show:"nombre_completo",label:"Empleado"}}),e("table-column",{attrs:{show:"perfil",label:"Perfil"}}),e("table-column",{attrs:{label:"Estado",sortable:!1,filterable:!1},scopedSlots:t._u([{key:"default",fn:function(t){return[e("div",{staticClass:"form-check"},[t.estado?e("input",{staticClass:"form-check-input",attrs:{type:"checkbox",checked:"",disabled:""}}):e("input",{staticClass:"form-check-input",attrs:{type:"checkbox",disabled:""}})])]}}])}),e("table-column",{attrs:{label:"Editar",sortable:!1,filterable:!1},scopedSlots:t._u([{key:"default",fn:function(a){return[e("button",{staticClass:"btn btn-info",attrs:{type:"button","data-toggle":"modal","data-target":"#modalEditaPersonal"},on:{click:function(e){return t.getDatosPersonal(a.id_usuario,a.tipo_usuario)}}},[e("i",{staticClass:"fas fa-edit"})])]}}])}),e("table-column",{attrs:{label:"Eliminar",sortable:!1,filterable:!1},scopedSlots:t._u([{key:"default",fn:function(a){return[e("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.eliminarPersonal(a.id_usuario,a.tipo_usuario,a.nombre_usuario)}}},[e("i",{staticClass:"fas fa-trash-alt"})])]}}])})],1)],1)],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 table-responsive"},[e("Pagination",{attrs:{pagination:t.pagination},on:{funcion:t.filtraPersonal}})],1)]),e("form",{on:{submit:function(a){return a.preventDefault(),t.nuevoPersonal()}}},[e("Modal",{attrs:{titulo:"Registro de empleado",idModal:"modalNuevoPersonal",icono:"fas fa-user-plus"},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",{staticClass:"container-fluid"},[e("BoxMessage",{attrs:{message:t.datosRepetidos,cod:"da",icono:"fas fa-exclamation-circle"}}),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("* Ap. Paterno")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.personal.paterno,expression:"personal.paterno"}],staticClass:"form-control input-style",attrs:{type:"text",placeholder:"Ap. Paterno"},domProps:{value:t.personal.paterno},on:{input:function(a){a.target.composing||t.$set(t.personal,"paterno",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.paterno}})],1)]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("Ap. Materno")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.personal.materno,expression:"personal.materno"}],staticClass:"form-control input-style",attrs:{type:"text",placeholder:"Ap. Materno"},domProps:{value:t.personal.materno},on:{input:function(a){a.target.composing||t.$set(t.personal,"materno",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.materno}})],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("* Primer Nombre")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.personal.primer_nombre,expression:"personal.primer_nombre"}],staticClass:"form-control input-style",attrs:{type:"text",placeholder:"Primer Nombre"},domProps:{value:t.personal.primer_nombre},on:{input:function(a){a.target.composing||t.$set(t.personal,"primer_nombre",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.primer_nombre}})],1)]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("Segundo Nombre")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.personal.segundo_nombre,expression:"personal.segundo_nombre"}],staticClass:"form-control input-style",attrs:{type:"text",placeholder:"Segundo Nombre"},domProps:{value:t.personal.segundo_nombre},on:{input:function(a){a.target.composing||t.$set(t.personal,"segundo_nombre",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.segundo_nombre}})],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("* Contraseña")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.personal.password,expression:"personal.password"}],staticClass:"form-control input-style",attrs:{type:"password",placeholder:"Contraseña"},domProps:{value:t.personal.password},on:{input:function(a){a.target.composing||t.$set(t.personal,"password",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.password}})],1)]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("* Confirmar contraseña")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.personal.password_confirmation,expression:"personal.password_confirmation"}],staticClass:"form-control input-style",attrs:{type:"password",placeholder:"Confirmar contraseña"},domProps:{value:t.personal.password_confirmation},on:{input:function(a){a.target.composing||t.$set(t.personal,"password_confirmation",a.target.value)}}})])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("* Usuario")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.personal.nombre_usuario,expression:"personal.nombre_usuario"}],staticClass:"form-control input-style",attrs:{type:"text",placeholder:"Usuario"},domProps:{value:t.personal.nombre_usuario},on:{input:function(a){a.target.composing||t.$set(t.personal,"nombre_usuario",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.nombre_usuario}})],1)]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("* Sueldo")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.personal.sueldo,expression:"personal.sueldo"}],staticClass:"form-control input-style",attrs:{type:"number",placeholder:"Sueldo ("+t.tipoMoneda+")",min:"0",step:"1"},domProps:{value:t.personal.sueldo},on:{input:function(a){a.target.composing||t.$set(t.personal,"sueldo",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.sueldo}})],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("Fecha Nacimiento")]),e("flat-pickr",{staticClass:"form-control input-style",attrs:{config:t.config,placeholder:"Fecha Nacimiento"},model:{value:t.personal.fecha_nac,callback:function(a){t.$set(t.personal,"fecha_nac",a)},expression:"personal.fecha_nac"}}),e("ListErrors",{attrs:{errores:t.errores.fecha_nac}})],1)]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("Email")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.personal.email,expression:"personal.email"}],staticClass:"form-control input-style",attrs:{type:"email",placeholder:"Email"},domProps:{value:t.personal.email},on:{input:function(a){a.target.composing||t.$set(t.personal,"email",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.email}})],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("* Sexo")]),e("div",{staticClass:"form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.personal.sexo,expression:"personal.sexo"}],staticClass:"form-check-input",attrs:{type:"radio",name:"sexo",id:"checkMozo",value:"1"},domProps:{checked:!0,checked:t._q(t.personal.sexo,"1")},on:{change:function(a){return t.$set(t.personal,"sexo","1")}}}),e("label",{staticClass:"form-check-label",attrs:{for:"exampleRadios1"}},[t._v("\n                                            Masculino\n                                        ")])]),e("div",{staticClass:"form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.personal.sexo,expression:"personal.sexo"}],staticClass:"form-check-input",attrs:{type:"radio",name:"sexo",id:"checkCajero",value:"0"},domProps:{checked:t._q(t.personal.sexo,"0")},on:{change:function(a){return t.$set(t.personal,"sexo","0")}}}),e("label",{staticClass:"form-check-label",attrs:{for:"exampleRadios1"}},[t._v("\n                                            Femenino\n                                        ")])]),e("ListErrors",{attrs:{errores:t.errores.sexo}})],1)]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v(t._s(t.getIdentificacion))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.personal.dni,expression:"personal.dni"}],staticClass:"form-control input-style",attrs:{type:"text",placeholder:t.getIdentificacion},domProps:{value:t.personal.dni},on:{input:function(a){a.target.composing||t.$set(t.personal,"dni",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.dni}})],1),e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("* Perfil")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.personal.tipo_usuario,expression:"personal.tipo_usuario"}],staticClass:"form-control input-style",on:{change:[function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){var a="_value"in t?t._value:t.value;return a});t.$set(t.personal,"tipo_usuario",a.target.multiple?e:e[0])},function(a){return t.mtipoCajero()}]}},[e("option",{attrs:{value:"-1",selected:""}},[t._v("Perfil...")]),e("option",{attrs:{value:"1"}},[t._v("Cajero")]),e("option",{attrs:{value:"0"}},[t._v("Mozo")]),e("option",{attrs:{value:"4"}},[t._v("Cocinero")])]),e("ListErrors",{attrs:{errores:t.errores.tipo_usuario}})],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("* Sucursal")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.personal.id_sucursal,expression:"personal.id_sucursal"}],staticClass:"form-control input-style",on:{change:[function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){var a="_value"in t?t._value:t.value;return a});t.$set(t.personal,"id_sucursal",a.target.multiple?e:e[0])},function(a){return t.cargaComboCajas(t.personal.id_sucursal)}]}},[e("option",{attrs:{value:"-1",selected:""}},[t._v("Sucursal...")]),t._l(t.listaSucursales,function(a){return e("option",{key:a.id_sucursal,domProps:{value:a.id_sucursal}},[t._v(t._s(a.nombre))])})],2),e("ListErrors",{attrs:{errores:t.errores.id_sucursal}})],1)]),e("div",{staticClass:"col-md-6"},[1==t.personal.tipo_usuario?e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("* Caja")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.personal.id_caja,expression:"personal.id_caja"}],staticClass:"form-control input-style",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){var a="_value"in t?t._value:t.value;return a});t.$set(t.personal,"id_caja",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"-1",selected:""}},[t._v("Caja...")]),t._l(t.listaCajas,function(a){return e("option",{key:a.id_caja,domProps:{value:a.id_caja}},[t._v(t._s(a.nombre))])})],2),e("ListErrors",{attrs:{errores:t.errores.id_caja}})],1):t._e()])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("Celular")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.personal.celular,expression:"personal.celular"}],staticClass:"form-control input-style",attrs:{type:"text",placeholder:"Celular"},domProps:{value:t.personal.celular},on:{input:function(a){a.target.composing||t.$set(t.personal,"celular",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.celular}})],1)]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("Telefono")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.personal.telefono,expression:"personal.telefono"}],staticClass:"form-control input-style",attrs:{type:"text",placeholder:"Telefono"},domProps:{value:t.personal.telefono},on:{input:function(a){a.target.composing||t.$set(t.personal,"telefono",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.telefono}})],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("Direcciön")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.personal.direccion,expression:"personal.direccion"}],staticClass:"form-control input-style",attrs:{type:"text",placeholder:"Direcciön"},domProps:{value:t.personal.direccion},on:{input:function(a){a.target.composing||t.$set(t.personal,"direccion",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.direccion}})],1)]),e("div",{staticClass:"col-md-6"})])],1)]},proxy:!0},{key:"footer",fn:function(){return[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.limpiaPersonal}},[t._v("Cerrar")]),e("button",{ref:"nuevoPersonalBtn",staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Guardar")])]},proxy:!0}])})],1),e("form",{on:{submit:function(a){return a.preventDefault(),t.editaPersonal(t.personal.id_usuario,t.personal.tipo_usuario)}}},[e("Modal",{attrs:{titulo:"Edita empleado",idModal:"modalEditaPersonal",icono:"fas fa-user-edit"},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("BoxMessage",{attrs:{message:t.datosRepetidos,cod:"da",icono:"fas fa-exclamation-circle"}}),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("* Ap. Paterno")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.personal.paterno,expression:"personal.paterno"}],staticClass:"form-control input-style",attrs:{type:"text"},domProps:{value:t.personal.paterno},on:{input:function(a){a.target.composing||t.$set(t.personal,"paterno",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.paterno}})],1)]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("Ap. Materno")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.personal.materno,expression:"personal.materno"}],staticClass:"form-control input-style",attrs:{type:"text"},domProps:{value:t.personal.materno},on:{input:function(a){a.target.composing||t.$set(t.personal,"materno",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.materno}})],1)])],1),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("* Primer Nombre")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.personal.primer_nombre,expression:"personal.primer_nombre"}],staticClass:"form-control input-style",attrs:{type:"text"},domProps:{value:t.personal.primer_nombre},on:{input:function(a){a.target.composing||t.$set(t.personal,"primer_nombre",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.primer_nombre}})],1)]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("Segundo Nombre")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.personal.segundo_nombre,expression:"personal.segundo_nombre"}],staticClass:"form-control input-style",attrs:{type:"text"},domProps:{value:t.personal.segundo_nombre},on:{input:function(a){a.target.composing||t.$set(t.personal,"segundo_nombre",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.segundo_nombre}})],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("* Usuario")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.personal.nombre_usuario,expression:"personal.nombre_usuario"}],staticClass:"form-control input-style",attrs:{type:"text"},domProps:{value:t.personal.nombre_usuario},on:{input:function(a){a.target.composing||t.$set(t.personal,"nombre_usuario",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.nombre_usuario}})],1)]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("* Sueldo ("+t._s(t.tipoMoneda)+")")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.personal.sueldo,expression:"personal.sueldo"}],staticClass:"form-control input-style",attrs:{type:"number",min:"0",step:"1"},domProps:{value:t.personal.sueldo},on:{input:function(a){a.target.composing||t.$set(t.personal,"sueldo",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.sueldo}})],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("Fecha Nacimiento")]),e("flat-pickr",{staticClass:"form-control input-style",attrs:{config:t.config},model:{value:t.personal.fecha_nac,callback:function(a){t.$set(t.personal,"fecha_nac",a)},expression:"personal.fecha_nac"}}),e("ListErrors",{attrs:{errores:t.errores.fecha_nac}})],1)]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("Email")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.personal.email,expression:"personal.email"}],staticClass:"form-control input-style",attrs:{type:"email"},domProps:{value:t.personal.email},on:{input:function(a){a.target.composing||t.$set(t.personal,"email",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.email}})],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("* Sexo")]),e("div",{staticClass:"form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.personal.sexo,expression:"personal.sexo"}],ref:"sexoMasculino",staticClass:"form-check-input",attrs:{type:"radio",name:"sexo",id:"checkMozo2",value:"1"},domProps:{checked:t._q(t.personal.sexo,"1")},on:{change:function(a){return t.$set(t.personal,"sexo","1")}}}),e("label",{staticClass:"form-check-label",attrs:{for:"exampleRadios1"}},[t._v("\n                                            Masculino\n                                        ")])]),e("div",{staticClass:"form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.personal.sexo,expression:"personal.sexo"}],ref:"sexoFemenino",staticClass:"form-check-input",attrs:{type:"radio",name:"sexo",id:"checkCajero2",value:"0"},domProps:{checked:t._q(t.personal.sexo,"0")},on:{change:function(a){return t.$set(t.personal,"sexo","0")}}}),e("label",{staticClass:"form-check-label",attrs:{for:"exampleRadios1"}},[t._v("\n                                            Femenino\n                                        ")])]),e("ListErrors",{attrs:{errores:t.errores.sexo}})],1)]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v(t._s(t.getIdentificacion))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.personal.dni,expression:"personal.dni"}],staticClass:"form-control input-style",attrs:{type:"text"},domProps:{value:t.personal.dni},on:{input:function(a){a.target.composing||t.$set(t.personal,"dni",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.dni}})],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("* Estado")])]),e("div",{staticClass:"col-md-6"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.personal.estado,expression:"personal.estado"}],ref:"estadoEmpleado",staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.personal.estado)?t._i(t.personal.estado,null)>-1:t.personal.estado},on:{change:function(a){var e=t.personal.estado,s=a.target,r=!!s.checked;if(Array.isArray(e)){var o=null,i=t._i(e,o);s.checked?i<0&&t.$set(t.personal,"estado",e.concat([o])):i>-1&&t.$set(t.personal,"estado",e.slice(0,i).concat(e.slice(i+1)))}else t.$set(t.personal,"estado",r)}}})])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("* Sucursal")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.personal.id_sucursal,expression:"personal.id_sucursal"}],staticClass:"form-control input-style",on:{change:[function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){var a="_value"in t?t._value:t.value;return a});t.$set(t.personal,"id_sucursal",a.target.multiple?e:e[0])},function(a){return t.cargaComboCajas(t.personal.id_sucursal)}]}},[e("option",{attrs:{value:"-1",selected:""}},[t._v("Seleccionar...")]),t._l(t.listaSucursales,function(a){return e("option",{key:a.id_sucursal,domProps:{value:a.id_sucursal}},[t._v(t._s(a.nombre))])})],2),e("ListErrors",{attrs:{errores:t.errores.id_sucursal}})],1)]),e("div",{staticClass:"col-md-6"},[1==t.personal.tipo_usuario?e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("* Caja")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.personal.id_caja,expression:"personal.id_caja"}],staticClass:"form-control input-style",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){var a="_value"in t?t._value:t.value;return a});t.$set(t.personal,"id_caja",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"-1",selected:""}},[t._v("Seleccionar...")]),t._l(t.listaCajas,function(a){return e("option",{key:a.id_caja,domProps:{value:a.id_caja}},[t._v(t._s(a.nombre))])})],2),e("ListErrors",{attrs:{errores:t.errores.id_caja}})],1):t._e()])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("Celular")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.personal.celular,expression:"personal.celular"}],staticClass:"form-control input-style",attrs:{type:"text"},domProps:{value:t.personal.celular},on:{input:function(a){a.target.composing||t.$set(t.personal,"celular",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.celular}})],1)]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("Telefono")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.personal.telefono,expression:"personal.telefono"}],staticClass:"form-control input-style",attrs:{type:"text"},domProps:{value:t.personal.telefono},on:{input:function(a){a.target.composing||t.$set(t.personal,"telefono",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.telefono}})],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("Dirección")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.personal.direccion,expression:"personal.direccion"}],staticClass:"form-control input-style",attrs:{type:"text"},domProps:{value:t.personal.direccion},on:{input:function(a){a.target.composing||t.$set(t.personal,"direccion",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.direccion}})],1)]),e("div",{staticClass:"col-md-6"})])])]},proxy:!0},{key:"footer",fn:function(){return[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.limpiaPersonal}},[t._v("Cerrar")]),e("button",{ref:"editaPersonalBtn",staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Guardar")])]},proxy:!0}])})],1)])])},Aa=[],Ea=e("bc3a"),Sa={name:"GestorEmpleados",components:{Pagination:bt,Marco:xt,Modal:zt,ListErrors:q,BoxMessage:Q,flatPickr:ya.a},created:function(){var t=this;this.listaSucursalesMethod(),this.filtraPersonal(),this.$Progress.start(),this.getDataUser(2).then(function(a){t.data_usr=a.data,t.$Progress.finish()}).catch(function(a){t.$toasted.show(a,{type:"error"}),t.$Progress.fail()})},data:function(){var t;return{listaSucursales:[],listaPersonal:[],listaCajas:[],pagination:{},personal:{id_sucursal:-1,tipo_usuario:-1},data_usr:{},errores:{},nro_page:5,nuevoPersonalMsg:"",datosRepetidos:"",ListaSucursal:-1,ListaPorPerfil:-1,date:new Date,config:(t={wrap:!0,altFormat:"j/n/Y",altInput:!0,dateFormat:"Y-m-d",allowInput:!0},Object(_a["a"])(t,"wrap",!1),Object(_a["a"])(t,"static",!0),t)}},mixins:[yt],computed:{tipoMoneda:function(){return this.$store.state.restauranteData.tipo_moneda},getIdentificacion:function(){return this.$store.state.restauranteData.identificacion}},methods:{listaSucursalesMethod:function(){var t=this;Ea.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,Ea.get(this.$store.state.url_root+"api/auth/sucursalcombo/".concat(this.$store.state.id_restaurant)).then(function(a){t.listaSucursales=a.data.data}).catch(function(a){t.$toasted.show("GestorEmpleados.vue: "+a,{type:"error"})})},cambiaOption:function(){this.nro_page=this.$refs.nroEntradas.value,this.filtraPersonal()},getDatosPersonal:function(t,a){var e=this;this.$Progress.start(),this.personal.id_administrador=this.data_usr.id_administrador,Ea.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,0==a?Ea.get(this.$store.state.url_root+"api/auth/mozo/".concat(t)).then(function(t){e.personal=t.data.data[0],e.personal.sexo?e.$refs.sexoMasculino.checked=!0:e.$refs.sexoFemenino.checked=!0,e.$refs.estadoEmpleado.checked=e.personal.estado,e.$Progress.finish()}).catch(function(t){e.$toasted.show("GestorEmpleados.vue: "+t,{type:"error"}),e.$Progress.fail()}):1==a&&Ea.get(this.$store.state.url_root+"api/auth/cajero/".concat(t)).then(function(t){e.personal=t.data.data[0],e.cargaComboCajas(e.personal.id_sucursal),e.personal.sexo?e.$refs.sexoMasculino.checked=!0:e.$refs.sexoFemenino.checked=!0,e.$refs.estadoEmpleado.checked=e.personal.estado,e.$Progress.finish()}).catch(function(t){e.$toasted.show("GestorEmpleados.vue: "+t,{type:"error"}),e.$Progress.fail()}),4==a?Ea.get(this.$store.state.url_root+"api/auth/cocinero/".concat(t)).then(function(t){e.personal=t.data.data[0],e.cargaComboCajas(e.personal.id_sucursal),e.personal.sexo?e.$refs.sexoMasculino.checked=!0:e.$refs.sexoFemenino.checked=!0,e.$refs.estadoEmpleado.checked=e.personal.estado,e.$Progress.finish()}).catch(function(t){e.$toasted.show("GestorEmpleados.vue: "+t,{type:"error"}),e.$Progress.fail()}):(this.errores={tipo_usuario:["El tipo de usuario es requerido"]},this.$Progress.fail())},nuevoPersonal:function(){var t=this;this.$refs.nuevoPersonalBtn.className="btn btn-primary disabled",this.$Progress.start(),this.personal.id_administrador=this.data_usr.id_administrador,Ea.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,0==this.personal.tipo_usuario?Ea.post(this.$store.state.url_root+"api/auth/mozo",this.personal).then(function(a){null==a.data.error?(t.filtraPersonal(),window.$("#modalNuevoPersonal").modal("hide"),t.limpiaPersonal(),t.nuevoPersonalMsg="El mozo <strong>".concat(a.data.data.nombre_usuario,"</strong> se creo correctamente"),t.$Progress.finish()):(null==a.data.error.limite_mozos?t.errores=a.data.error:t.datosRepetidos=a.data.error.limite_mozos,t.$Progress.fail()),t.$refs.nuevoPersonalBtn.className="btn btn-primary"}).catch(function(a){t.$toasted.show("GestorEmpleados.vue: "+a,{type:"error"}),t.$Progress.fail(),t.$refs.nuevoPersonalBtn.className="btn btn-primary"}):1==this.personal.tipo_usuario?Ea.post(this.$store.state.url_root+"api/auth/cajero",this.personal).then(function(a){null==a.data.error?(t.filtraPersonal(),window.$("#modalNuevoPersonal").modal("hide"),t.limpiaPersonal(),t.nuevoPersonalMsg="El cajero <strong>".concat(a.data.data.nombre_usuario,"</strong> se creo correctamente"),t.$Progress.finish()):(null==a.data.error.limite_cajeros?t.errores=a.data.error:t.datosRepetidos=a.data.error.limite_cajeros,t.$Progress.fail()),t.$refs.nuevoPersonalBtn.className="btn btn-primary"}).catch(function(a){t.$toasted.show("GestorEmpleados.vue: "+a,{type:"error"}),t.$Progress.fail(),t.$refs.nuevoPersonalBtn.className="btn btn-primary"}):4==this.personal.tipo_usuario?Ea.post(this.$store.state.url_root+"api/auth/cocinero",this.personal).then(function(a){null==a.data.error?(t.filtraPersonal(),window.$("#modalNuevoPersonal").modal("hide"),t.limpiaPersonal(),t.nuevoPersonalMsg="El cocinero <strong>".concat(a.data.data.nombre_usuario,"</strong> se creo correctamente"),t.$Progress.finish()):(null==a.data.error.limite_cocineros?t.errores=a.data.error:t.datosRepetidos=a.data.error.limite_cocineros,t.$Progress.fail()),t.$refs.nuevoPersonalBtn.className="btn btn-primary"}).catch(function(a){t.$toasted.show("GestorEmpleados.vue: "+a,{type:"error"}),t.$Progress.fail(),t.$refs.nuevoPersonalBtn.className="btn btn-primary"}):(this.errores={tipo_usuario:["El tipo de usuario es requerido"]},this.$Progress.fail(),this.$refs.nuevoPersonalBtn.className="btn btn-primary")},editaPersonal:function(t,a){var e=this;this.$refs.editaPersonalBtn.className="btn btn-primary disabled",this.$Progress.start(),this.personal.estado=this.$refs.estadoEmpleado.checked,this.personal.id_administrador=this.data_usr.id_administrador,Ea.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,0==a?Ea.put(this.$store.state.url_root+"api/auth/mozo/".concat(t),this.personal).then(function(t){null==t.data.error?(e.filtraPersonal(e.$store.state.url_root+"api/auth/personal/".concat(e.$store.state.id_restaurant,"/page/").concat(e.nro_page,"/sucursal/").concat(e.ListaSucursal,"/perfil/").concat(e.ListaPorPerfil,"?page=").concat(e.pagination.current_page)),window.$("#modalEditaPersonal").modal("hide"),e.limpiaPersonal(),e.nuevoPersonalMsg="El mozo <strong>".concat(t.data.data.nombre_usuario,"</strong> se actualizo correctamente"),e.$Progress.finish()):(null!=t.data.error.valores?e.datosRepetidos=t.data.error.valores:e.errores=t.data.error,e.$Progress.fail()),e.$refs.editaPersonalBtn.className="btn btn-primary"}).catch(function(t){e.$toasted.show("GestorEmpleados.vue: "+t,{type:"error"}),e.$Progress.fail(),e.$refs.editaPersonalBtn.className="btn btn-primary"}):1==a&&Ea.put(this.$store.state.url_root+"api/auth/cajero/".concat(t),this.personal).then(function(t){null==t.data.error?(e.filtraPersonal(e.$store.state.url_root+"api/auth/personal/".concat(e.$store.state.id_restaurant,"/page/").concat(e.nro_page,"/sucursal/").concat(e.ListaSucursal,"/perfil/").concat(e.ListaPorPerfil,"?page=").concat(e.pagination.current_page)),window.$("#modalEditaPersonal").modal("hide"),e.limpiaPersonal(),e.nuevoPersonalMsg="El cajero <strong>".concat(t.data.data.nombre_usuario,"</strong> se actualizo correctamente"),e.$Progress.finish()):(null!=t.data.error.limite_cajeros?e.datosRepetidos=t.data.error.limite_cajeros:null!=t.data.error.valores?e.datosRepetidos=t.data.error.valores:e.errores=t.data.error,e.$Progress.fail()),e.$refs.editaPersonalBtn.className="btn btn-primary"}).catch(function(t){e.$toasted.show("GestorEmpleados.vue: "+t,{type:"error"}),e.$Progress.fail(),e.$refs.editaPersonalBtn.className="btn btn-primary"}),4==a?Ea.put(this.$store.state.url_root+"api/auth/cocinero/".concat(t),this.personal).then(function(t){null==t.data.error?(e.filtraPersonal(e.$store.state.url_root+"api/auth/personal/".concat(e.$store.state.id_restaurant,"/page/").concat(e.nro_page,"/sucursal/").concat(e.ListaSucursal,"/perfil/").concat(e.ListaPorPerfil,"?page=").concat(e.pagination.current_page)),window.$("#modalEditaPersonal").modal("hide"),e.limpiaPersonal(),e.nuevoPersonalMsg="El cocinero <strong>".concat(t.data.data.nombre_usuario,"</strong> se actualizo correctamente"),e.$Progress.finish()):(null!=t.data.error.limite_cajeros?e.datosRepetidos=t.data.error.limite_cajeros:null!=t.data.error.valores?e.datosRepetidos=t.data.error.valores:e.errores=t.data.error,e.$Progress.fail()),e.$refs.editaPersonalBtn.className="btn btn-primary"}).catch(function(t){e.$toasted.show("GestorEmpleados.vue: "+t,{type:"error"}),e.$Progress.fail(),e.$refs.editaPersonalBtn.className="btn btn-primary"}):(this.errores={tipo_usuario:["El tipo de usuario es requerido"]},this.$Progress.fail(),this.$refs.editaPersonalBtn.className="btn btn-primary")},limpiaPersonal:function(){this.personal={id_sucursal:-1,tipo_usuario:-1},this.nuevoPersonalMsg="",this.errores={},this.datosRepetidos=""},filtraPersonal:function(t){var a=this;this.$Progress.start(),t=t||this.$store.state.url_root+"api/auth/personal/".concat(this.$store.state.id_restaurant,"/page/").concat(this.nro_page,"/sucursal/").concat(this.ListaSucursal,"/perfil/").concat(this.ListaPorPerfil),Ea.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,Ea.get(t).then(function(t){a.listaPersonal=t.data.data.data,a.pagination=t.data.data,a.$Progress.finish()}).catch(function(t){a.$toasted.show("GestorEmpleados.vue: "+t,{type:"error"}),a.$Progress.fail()})},mtipoCajero:function(){this.personal.id_caja=-1},cargaComboCajas:function(t){var a=this;this.listaCajas=[],1==this.personal.tipo_usuario&&(Ea.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,Ea.get(this.$store.state.url_root+"api/auth/allcajas/".concat(t)).then(function(t){a.listaCajas=t.data.data}).catch(function(t){a.$toasted.show("GestorEmpleados.vue: "+t,{type:"error"})}))},eliminarPersonal:function(t,a,e){var s=this,r=confirm("Desea eliminar el usuario ".concat(e));if(r){if(this.$Progress.start(),0==a){var o=this.$store.state.url_root+"api/auth/mozo/".concat(t);Ea.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,Ea.delete(o).then(function(t){s.filtraPersonal(s.$store.state.url_root+"api/auth/personal/".concat(s.$store.state.id_restaurant,"/page/").concat(s.nro_page,"/sucursal/").concat(s.ListaSucursal,"/perfil/").concat(s.ListaPorPerfil,"?page=").concat(s.pagination.current_page)),s.limpiaPersonal(),s.nuevoPersonalMsg="El mozo <strong>".concat(e,"</strong> se elimino correctamente"),s.$Progress.finish()}).catch(function(t){s.$toasted.show("GestorEmpleados.vue: "+t,{type:"error"}),s.$Progress.fail()})}else if(1==a){var i=this.$store.state.url_root+"api/auth/cajero/".concat(t);Ea.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,Ea.delete(i).then(function(t){s.filtraPersonal(s.$store.state.url_root+"api/auth/personal/".concat(s.$store.state.id_restaurant,"/page/").concat(s.nro_page,"/sucursal/").concat(s.ListaSucursal,"/perfil/").concat(s.ListaPorPerfil,"?page=").concat(s.pagination.current_page)),s.limpiaPersonal(),s.nuevoPersonalMsg="El cajero <strong>".concat(e,"</strong> se elimino correctamente"),s.$Progress.finish()}).catch(function(t){s.$toasted.show("GestorEmpleados.vue: "+t,{type:"error"}),s.$Progress.fail()})}else if(4==a){var n=this.$store.state.url_root+"api/auth/cocinero/".concat(t);Ea.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,Ea.delete(n).then(function(t){s.filtraPersonal(s.$store.state.url_root+"api/auth/personal/".concat(s.$store.state.id_restaurant,"/page/").concat(s.nro_page,"/sucursal/").concat(s.ListaSucursal,"/perfil/").concat(s.ListaPorPerfil,"?page=").concat(s.pagination.current_page)),s.limpiaPersonal(),s.nuevoPersonalMsg="El cajero <strong>".concat(e,"</strong> se elimino correctamente"),s.$Progress.finish()}).catch(function(t){s.$toasted.show("GestorEmpleados.vue: "+t,{type:"error"}),s.$Progress.fail()})}}else console.log("no se borro nada")}}},Ma=Sa,Na=Object(d["a"])(Ma,ka,Aa,!1,null,null,null),Ba=Na.exports,La=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("Marco",{attrs:{titulo:"Categoria Productos",icono:"fas fa-table"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("label",{attrs:{for:""}},[t._v("\n                        Entradas\n                        "),e("select",{ref:"nroEntradas",attrs:{id:"nroEntradas"},on:{change:t.cambiaOption}},[e("option",[t._v("5")]),e("option",[t._v("10")]),e("option",[t._v("20")])])])]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-primary float-right",attrs:{type:"button","data-toggle":"modal","data-target":"#modalNuevaCategoria"}},[e("i",{staticClass:"fas fa-plus"}),t._v(" Nuevo")])])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("BoxMessage",{attrs:{message:t.nuevoCategoriaMsg,cod:t.cod,icono:t.icono}}),e("div",{staticClass:"table-responsive"},[e("table-component",{attrs:{data:t.listaCategoriaProductos,tableClass:"table",theadClass:"head-table",filterPlaceholder:"Buscar...","filter-input-class":"inputSearchText","show-caption":!1}},[e("table-column",{attrs:{show:"nombre",label:"Categoria"}}),e("table-column",{attrs:{show:"descripcion",label:"Descripción"}}),e("table-column",{attrs:{label:"Editar",sortable:!1,filterable:!1},scopedSlots:t._u([{key:"default",fn:function(a){return[e("button",{staticClass:"btn btn-info",attrs:{type:"button","data-toggle":"modal","data-target":"#modalEditaCategoria"},on:{click:function(e){return t.getDatosCategoria(a.id_categoria_producto)}}},[e("i",{staticClass:"fas fa-edit"})])]}}])}),e("table-column",{attrs:{label:"Eliminar",sortable:!1,filterable:!1},scopedSlots:t._u([{key:"default",fn:function(a){return[e("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.eliminaCategoria(a.id_categoria_producto,a.nombre)}}},[e("i",{staticClass:"fas fa-trash-alt"})])]}}])})],1)],1)],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 table-responsive"},[e("Pagination",{attrs:{pagination:t.pagination},on:{funcion:t.listaCategoriaProductosMethod}})],1)]),e("form",{on:{submit:function(a){return a.preventDefault(),t.nuevaCategoria()}}},[e("Modal",{attrs:{titulo:"Registro Categoria",idModal:"modalNuevaCategoria",icono:"fas fa-boxes"},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("* Nombre Categoria")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.categoria.nombre,expression:"categoria.nombre"}],staticClass:"form-control input-style",attrs:{type:"text",placeholder:"Nombre Categoria"},domProps:{value:t.categoria.nombre},on:{input:function(a){a.target.composing||t.$set(t.categoria,"nombre",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.nombre}})],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("Descripción")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.categoria.descripcion,expression:"categoria.descripcion"}],staticClass:"form-control input-style",attrs:{type:"text",placeholder:"Descripción"},domProps:{value:t.categoria.descripcion},on:{input:function(a){a.target.composing||t.$set(t.categoria,"descripcion",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.descripcion}})],1)])])])]},proxy:!0},{key:"footer",fn:function(){return[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.limpiaCategoria}},[t._v("Cerrar")]),e("button",{ref:"nuevoCategoriaBtn",staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Guardar")])]},proxy:!0}])})],1),e("form",{on:{submit:function(a){return a.preventDefault(),t.editaCategoria(t.categoria.id_categoria_producto)}}},[e("Modal",{attrs:{titulo:"Editar Categoria Producto",idModal:"modalEditaCategoria",icono:"fas fa-boxes"},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("BoxMessage",{attrs:{message:t.datosRepetidos,cod:"da",icono:"fas fa-exclamation-circle"}}),e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("* Nombre Categoria")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.categoria.nombre,expression:"categoria.nombre"}],staticClass:"form-control input-style",attrs:{type:"text"},domProps:{value:t.categoria.nombre},on:{input:function(a){a.target.composing||t.$set(t.categoria,"nombre",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.nombre}})],1)])],1),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("Descripción")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.categoria.descripcion,expression:"categoria.descripcion"}],staticClass:"form-control input-style",attrs:{type:"text"},domProps:{value:t.categoria.descripcion},on:{input:function(a){a.target.composing||t.$set(t.categoria,"descripcion",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.descripcion}})],1)])])])]},proxy:!0},{key:"footer",fn:function(){return[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.limpiaCategoria}},[t._v("Cerrar")]),e("button",{ref:"editaCategoriaBtn",staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Guardar")])]},proxy:!0}])})],1)])])},Ra=[],Oa=e("bc3a"),Da={name:"CategoriaProductos",components:{Pagination:bt,Marco:xt,Modal:zt,ListErrors:q,BoxMessage:Q,flatPickr:ya.a},created:function(){var t=this;this.listaSucursalesMethod(),this.listaCategoriaProductosMethod(),this.$Progress.start(),this.getDataUser(2).then(function(a){t.data_usr=a.data,t.$Progress.finish()}).catch(function(a){t.$toasted.show(a,{type:"error"}),t.$Progress.fail()})},data:function(){return{listaCategoriaProductos:[],pagination:{},categoria:{},data_usr:{},errores:{},nro_page:5,nuevoCategoriaMsg:"",datosRepetidos:"",cod:"su",icono:"fas fa-check"}},mixins:[yt],methods:{listaSucursalesMethod:function(){var t=this;this.$Progress.start(),Oa.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,Oa.get(this.$store.state.url_root+"api/auth/sucursalcombo/".concat(this.$store.state.id_restaurant)).then(function(a){t.listaSucursales=a.data.data,t.$Progress.finish()}).catch(function(a){t.$toasted.show("CategoriaProductos.vue: "+a,{type:"error"}),t.$Progress.fail()})},cambiaOption:function(){this.nro_page=this.$refs.nroEntradas.value,this.listaCategoriaProductosMethod()},getDatosCategoria:function(t){var a=this;this.$Progress.start(),Oa.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,Oa.get(this.$store.state.url_root+"api/auth/cproducto/".concat(t)).then(function(t){a.categoria=t.data.data,a.$Progress.finish()}).catch(function(t){a.$toasted.show("CategoriaProductos.vue: "+t,{type:"error"}),a.$Progress.fail()})},nuevaCategoria:function(){var t=this;this.$refs.nuevoCategoriaBtn.className="btn btn-primary disabled",this.$Progress.start(),this.categoria.id_administrador=this.data_usr.id_administrador,this.categoria.id_restaurant=this.$store.state.id_restaurant,Oa.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,Oa.post(this.$store.state.url_root+"api/auth/cproducto",this.categoria).then(function(a){null==a.data.error?(t.listaCategoriaProductosMethod(),window.$("#modalNuevaCategoria").modal("hide"),t.limpiaCategoria(),t.nuevoCategoriaMsg="La categoria <strong>".concat(a.data.data.nombre,"</strong> se creo correctamente"),t.$refs.nuevoCategoriaBtn.className="btn btn-primary",t.$Progress.finish()):(t.errores=a.data.error,t.$refs.nuevoCategoriaBtn.className="btn btn-primary",t.$Progress.fail())}).catch(function(a){t.$toasted.show("CategoriaProductos.vue: "+a,{type:"error"}),t.$refs.nuevoCategoriaBtn.className="btn btn-primary",t.$Progress.fail()})},editaCategoria:function(t){var a=this;this.$refs.editaCategoriaBtn.className="btn btn-primary disabled",this.$Progress.start(),this.categoria.id_administrador=this.data_usr.id_administrador,Oa.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,Oa.put(this.$store.state.url_root+"api/auth/cproducto/".concat(t),this.categoria).then(function(t){null==t.data.error?(a.listaCategoriaProductosMethod(a.$store.state.url_root+"api/auth/cproducto/".concat(a.nro_page,"/restaurant/").concat(a.$store.state.id_restaurant,"?page=").concat(a.pagination.current_page)),window.$("#modalEditaCategoria").modal("hide"),a.limpiaCategoria(),a.nuevoCategoriaMsg="La Categoria <strong>".concat(t.data.data.nombre,"</strong> se actualizo correctamente"),a.$refs.editaCategoriaBtn.className="btn btn-primary",a.$Progress.finish()):(null!=t.data.error.valores?a.datosRepetidos=t.data.error.valores:a.errores=t.data.error,a.$refs.editaCategoriaBtn.className="btn btn-primary",a.$Progress.fail())}).catch(function(t){a.$toasted.show("CategoriaProductos.vue: "+t,{type:"error"}),a.$refs.editaCategoriaBtn.className="btn btn-primary",a.$Progress.fail()})},limpiaCategoria:function(){this.categoria={},this.nuevoCategoriaMsg="",this.errores={},this.datosRepetidos="",this.cod="su",this.icono="fas fa-check"},listaCategoriaProductosMethod:function(t){var a=this;this.$Progress.start(),t=t||this.$store.state.url_root+"api/auth/cproducto/".concat(this.nro_page,"/restaurant/").concat(this.$store.state.id_restaurant),Oa.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,Oa.get(t).then(function(t){a.listaCategoriaProductos=t.data.data.data,a.pagination=t.data.data,a.$Progress.finish()}).catch(function(t){a.$toasted.show("CategoriaProductos.vue: "+t,{type:"error"}),a.$Progress.fail()})},eliminaCategoria:function(t,a){var e=this,s=confirm("Desea eliminar la categoria ".concat(a));if(s){this.$Progress.start();var r=this.$store.state.url_root+"api/auth/cproducto/".concat(t);Oa.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,Oa.delete(r).then(function(t){e.listaCategoriaProductosMethod(e.$store.state.url_root+"api/auth/cproducto/".concat(e.nro_page,"/restaurant/").concat(e.$store.state.id_restaurant,"?page=").concat(e.pagination.current_page)),e.limpiaCategoria(),null!=t.data.data.error?(e.nuevoCategoriaMsg="No se puede eliminar la categoria <strong>".concat(a,"</strong>, existen productos asignados"),e.cod="da",e.icono="fas fa-ban",e.$Progress.fail()):(e.nuevoCategoriaMsg="La categoria <strong>".concat(a,"</strong> se elimino correctamente"),e.$Progress.finish())}).catch(function(t){e.$toasted.show("CategoriaProductos.vue: "+t,{type:"error"}),e.$Progress.fail()})}else console.log("no se borro nada")}}},za=Da,Fa=Object(d["a"])(za,La,Ra,!1,null,null,null),Ia=Fa.exports,Ta=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("Marco",{attrs:{titulo:"Productos",icono:"fas fa-table"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("label",{attrs:{for:""}},[t._v("\n                        Entradas\n                        "),e("select",{ref:"nroEntradas",attrs:{id:"nroEntradas"},on:{change:t.cambiaOption}},[e("option",[t._v("10")]),e("option",[t._v("20")]),e("option",[t._v("40")])])])]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-primary float-right",attrs:{type:"button","data-toggle":"modal","data-target":"#modalNuevoProducto"}},[e("i",{staticClass:"fas fa-plus"}),t._v(" Nuevo")])])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v("\n                            Categoría\n                            "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.comboCategorias,expression:"comboCategorias"}],staticClass:"form-control",on:{change:[function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){var a="_value"in t?t._value:t.value;return a});t.comboCategorias=a.target.multiple?e:e[0]},function(a){return t.listaProductosMethod()}]}},[e("option",{attrs:{value:"-1",selected:""}},[t._v("Seleccionar...")]),t._l(t.listaCategoria,function(a){return e("option",{key:a.id_categoria_producto,domProps:{value:a.id_categoria_producto}},[t._v(t._s(a.nombre))])})],2)])])]),e("div",{staticClass:"col-md-6"})]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("BoxMessage",{attrs:{message:t.nuevoProductoMsg,cod:"su",icono:"fas fa-check"}}),e("div",{staticClass:"table-responsive"},[e("table-component",{attrs:{data:t.listaProductos,tableClass:"table",theadClass:"head-table",filterPlaceholder:"Buscar...","filter-input-class":"inputSearchText","show-caption":!1,"show-loading":!0}},[e("table-column",{attrs:{show:"categoriaProducto",label:"Categoría"}}),e("table-column",{attrs:{show:"nombre",label:"Producto"}}),e("table-column",{attrs:{show:"precio",label:"Precio ("+t.tipoMoneda+")",filterable:!1}}),e("table-column",{attrs:{label:"Imagen"},scopedSlots:t._u([{key:"default",fn:function(a){return[null!=a.producto_image?e("img",{staticClass:"img-fluid",attrs:{src:t.ruta_publica+"imgProductos/"+a.producto_image,alt:"No se encontro la imagen",width:"80",height:"80"}}):e("span",[t._v("Sin imagen")])]}}])}),e("table-column",{attrs:{label:"Editar",sortable:!1,filterable:!1},scopedSlots:t._u([{key:"default",fn:function(a){return[e("button",{staticClass:"btn btn-info",attrs:{type:"button","data-toggle":"modal","data-target":"#modalEditaProducto"},on:{click:function(e){return t.getDatosProducto(a.id_producto)}}},[e("i",{staticClass:"fas fa-edit"})])]}}])}),e("table-column",{attrs:{label:"Eliminar",sortable:!1,filterable:!1},scopedSlots:t._u([{key:"default",fn:function(a){return[e("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.eliminarProducto(a.id_producto,a.nombre)}}},[e("i",{staticClass:"fas fa-trash-alt"})])]}}])})],1)],1)],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 table-responsive"},[e("Pagination",{attrs:{pagination:t.pagination},on:{funcion:t.listaProductosMethod}})],1)]),e("form",{on:{submit:function(a){return a.preventDefault(),t.nuevoProducto()}}},[e("Modal",{attrs:{titulo:"Registro de producto",idModal:"modalNuevoProducto",icono:"fab fa-product-hunt"},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("* Nombre Producto")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.producto.nombre,expression:"producto.nombre"}],staticClass:"form-control input-style",attrs:{type:"text",placeholder:"Nombre Producto"},domProps:{value:t.producto.nombre},on:{input:function(a){a.target.composing||t.$set(t.producto,"nombre",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.nombre}})],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("* Categoría")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.producto.id_categoria_producto,expression:"producto.id_categoria_producto"}],staticClass:"form-control input-style",attrs:{id:"hol"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){var a="_value"in t?t._value:t.value;return a});t.$set(t.producto,"id_categoria_producto",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"-1",selected:""}},[t._v("Categoría...")]),t._l(t.listaCategoria,function(a){return e("option",{key:a.id_categoria_producto,domProps:{value:a.id_categoria_producto}},[t._v(t._s(a.nombre))])})],2),e("ListErrors",{attrs:{errores:t.errores.id_categoria_producto}})],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("* Precio ("+t._s(t.tipoMoneda)+")")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.producto.precio,expression:"producto.precio"}],staticClass:"form-control input-style",attrs:{type:"text",placeholder:"Precio ("+t.tipoMoneda+")"},domProps:{value:t.producto.precio},on:{input:function(a){a.target.composing||t.$set(t.producto,"precio",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.precio}})],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("Descripción")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.producto.descripcion,expression:"producto.descripcion"}],staticClass:"form-control input-style",attrs:{type:"text",placeholder:"Descripción"},domProps:{value:t.producto.descripcion},on:{input:function(a){a.target.composing||t.$set(t.producto,"descripcion",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.descripcion}})],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("croppa",{attrs:{"file-size-limit":t.maxImageSize,"placeholder-font-size":10,placeholder:"Escoger una imagen (5 Mb como maximo)","zoom-speed":10,"reverse-scroll-to-zoom":!0,"prevent-white-space":!0,"show-loading":!0},on:{"file-size-exceed":t.handleCroppaFileSizeExceed,"file-type-mismatch":t.onFileTypeMismatch},model:{value:t.myCroppa,callback:function(a){t.myCroppa=a},expression:"myCroppa"}}),e("ListErrors",{attrs:{errores:t.errores.foto_producto}})],1),e("div",{staticClass:"col-md-6"})])])]},proxy:!0},{key:"footer",fn:function(){return[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.limpiaProducto}},[t._v("Cerrar")]),e("button",{ref:"nuevoProductoBtn",staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Guardar")])]},proxy:!0}])})],1),e("form",{on:{submit:function(a){return a.preventDefault(),t.editaProducto(t.producto.id_producto)}}},[e("Modal",{attrs:{titulo:"Edita Producto",idModal:"modalEditaProducto",icono:"fab fa-product-hunt"},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("BoxMessage",{attrs:{message:t.datosRepetidos,cod:"da",icono:"fas fa-exclamation-circle"}}),e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("* Nombre Producto")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.producto.nombre,expression:"producto.nombre"}],staticClass:"form-control input-style",attrs:{type:"text"},domProps:{value:t.producto.nombre},on:{input:function(a){a.target.composing||t.$set(t.producto,"nombre",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.nombre}})],1)])],1),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("* Categoría")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.producto.id_categoria_producto,expression:"producto.id_categoria_producto"}],staticClass:"form-control input-style",attrs:{id:"hol"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){var a="_value"in t?t._value:t.value;return a});t.$set(t.producto,"id_categoria_producto",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"-1",selected:""}},[t._v("Categoría...")]),t._l(t.listaCategoria,function(a){return e("option",{key:a.id_categoria_producto,domProps:{value:a.id_categoria_producto}},[t._v(t._s(a.nombre))])})],2),e("ListErrors",{attrs:{errores:t.errores.id_categoria_producto}})],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("* Precio ("+t._s(t.tipoMoneda)+")")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.producto.precio,expression:"producto.precio"}],staticClass:"form-control input-style",attrs:{type:"text"},domProps:{value:t.producto.precio},on:{input:function(a){a.target.composing||t.$set(t.producto,"precio",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.precio}})],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("Descripción")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.producto.descripcion,expression:"producto.descripcion"}],staticClass:"form-control input-style",attrs:{type:"text"},domProps:{value:t.producto.descripcion},on:{input:function(a){a.target.composing||t.$set(t.producto,"descripcion",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.descripcion}})],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[null!=t.producto.producto_image?e("DeleteImageProduct",{attrs:{url_image:t.ruta_publica+"imgProductos/"+t.producto.producto_image},on:{deleteImgProductMethod:function(a){return t.deleteImgProductMethod()}}}):t._e(),e("div",{directives:[{name:"show",rawName:"v-show",value:null==t.producto.producto_image,expression:"producto.producto_image==null"}]},[e("croppa",{attrs:{"file-size-limit":t.maxImageSize,"placeholder-font-size":10,placeholder:"Escoger una imagen (5 Mb como maximo)","zoom-speed":10,"reverse-scroll-to-zoom":!0,"prevent-white-space":!0,"show-loading":!0},on:{"file-size-exceed":t.handleCroppaFileSizeExceed,"file-type-mismatch":t.onFileTypeMismatch},model:{value:t.myCroppaUpdate,callback:function(a){t.myCroppaUpdate=a},expression:"myCroppaUpdate"}})],1),e("ListErrors",{attrs:{errores:t.errores.foto_producto}})],1),e("div",{staticClass:"col-md-6"})])])]},proxy:!0},{key:"footer",fn:function(){return[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.limpiaProducto}},[t._v("Cerrar")]),e("button",{ref:"editaProductoBtn",staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Guardar")])]},proxy:!0}])})],1)])])},Ua=[],qa=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"image-delete-producto"},[e("img",{staticClass:"img-fluid",attrs:{src:t.url_image,alt:"No se encontro la imagen",width:"400",height:"400"}}),e("a",{staticClass:"btn btn-primary",attrs:{href:"#"},on:{click:function(a){return t.$emit("deleteImgProductMethod")}}},[t._v("Eliminar")])])},Ga=[],Ha={name:"DeleteImageProducto",props:["url_image"]},Va=Ha,Ya=(e("4448"),Object(d["a"])(Va,qa,Ga,!1,null,null,null)),Ja=Ya.exports,Qa=e("bc3a"),Ka={name:"Productos",components:{Pagination:bt,Marco:xt,Modal:zt,ListErrors:q,BoxMessage:Q,flatPickr:ya.a,DeleteImageProduct:Ja},created:function(){var t=this;this.listaProductosMethod(),this.comboCategoria(),this.$Progress.start(),this.getDataUser(2).then(function(a){t.data_usr=a.data,t.$Progress.finish()}).catch(function(a){t.$toasted.show(a,{type:"error"}),t.$Progress.fail()})},data:function(){return{listaCategoria:[],listaProductos:[],pagination:{},producto:{id_categoria_producto:-1,producto_image:null},data_usr:{},errores:{},nro_page:10,nuevoProductoMsg:"",datosRepetidos:"",comboCategorias:-1,myCroppa:{},myCroppaUpdate:{},rotation:0,scale:1,ruta_publica:this.$store.state.url_root,maxImageSize:5242880}},mixins:[yt],computed:{tipoMoneda:function(){return this.$store.state.restauranteData.tipo_moneda}},methods:{comboCategoria:function(){var t=this;this.$Progress.start(),Qa.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,Qa.get(this.$store.state.url_root+"api/auth/cproducto/restaurant/".concat(this.$store.state.id_restaurant)).then(function(a){t.listaCategoria=a.data.data,t.$Progress.finish()}).catch(function(a){t.$toasted.show("Productos.vue: "+a,{type:"error"}),t.$Progress.fail()})},listaProductosMethod:function(t){var a=this;this.$Progress.start(),t=t||this.$store.state.url_root+"api/auth/producto/".concat(this.nro_page,"/restaurant/").concat(this.$store.state.id_restaurant,"/categoria/").concat(this.comboCategorias),Qa.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,Qa.get(t).then(function(t){a.listaProductos=t.data.data.data,a.pagination=t.data.data,a.$Progress.finish()}).catch(function(t){a.$toasted.show("Productos.vue: "+t,{type:"error"}),a.$Progress.fail()})},cambiaOption:function(){this.nro_page=this.$refs.nroEntradas.value,this.listaProductosMethod()},getDatosProducto:function(t){var a=this;this.$Progress.start(),this.producto.id_administrador=this.data_usr.id_administrador,Qa.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,Qa.get(this.$store.state.url_root+"api/auth/producto/".concat(t)).then(function(t){a.producto=t.data.data,a.$Progress.finish()}).catch(function(t){a.$toasted.show("Productos.vue: "+t,{type:"error"}),a.$Progress.fail()})},nuevoProducto:function(){var t=this;this.$refs.nuevoProductoBtn.className="btn btn-primary disabled",this.$Progress.start();var a="image/jpeg",e=.5;this.myCroppa.generateBlob(function(a){t.producto.id_administrador=t.data_usr.id_administrador,t.producto.image=a;var e=new FormData;for(var s in t.producto)t.producto.hasOwnProperty(s)&&e.append(s,t.producto[s]);Qa.defaults.headers.common["Authorization"]="Bearer "+t.$store.state.token,Qa.defaults.headers.common["Content-Type"]="multipart/form-data",Qa.post(t.$store.state.url_root+"api/auth/producto",e).then(function(a){null==a.data.error?(t.listaProductosMethod(),window.$("#modalNuevoProducto").modal("hide"),t.limpiaProducto(),t.nuevoProductoMsg="El producto <strong>".concat(a.data.data.nombre,"</strong> se creo correctamente"),t.$Progress.finish(),t.$refs.nuevoProductoBtn.className="btn btn-primary"):(t.errores=a.data.error,t.$Progress.fail(),t.$refs.nuevoProductoBtn.className="btn btn-primary")}).catch(function(a){t.$toasted.show("Productos.vue: "+a,{type:"error"}),t.$Progress.fail(),t.$refs.nuevoProductoBtn.className="btn btn-primary"})},a,e)},editaProducto:function(t){var a=this;this.$refs.editaProductoBtn.className="btn btn-primary disabled",this.$Progress.start();var e="image/jpeg",s=.5;this.myCroppaUpdate.generateBlob(function(e){a.producto.id_administrador=a.data_usr.id_administrador,null==a.producto.producto_image&&(a.producto.image=e);var s=new FormData;for(var r in a.producto)a.producto.hasOwnProperty(r)&&s.append(r,a.producto[r]);Qa.defaults.headers.common["Authorization"]="Bearer "+a.$store.state.token,Qa.defaults.headers.common["Content-Type"]="multipart/form-data",Qa.post(a.$store.state.url_root+"api/auth/productoupdate/".concat(t),s).then(function(t){null==t.data.error?(a.listaProductosMethod(a.$store.state.url_root+"api/auth/producto/".concat(a.nro_page,"/restaurant/").concat(a.$store.state.id_restaurant,"/categoria/").concat(a.comboCategorias,"?page=").concat(a.pagination.current_page)),window.$("#modalEditaProducto").modal("hide"),a.limpiaProducto(),a.nuevoProductoMsg="El producto <strong>".concat(t.data.data.nombre,"</strong> se actualizo correctamente"),a.$Progress.finish(),a.$refs.editaProductoBtn.className="btn btn-primary"):(null!=t.data.error.valores?a.datosRepetidos=t.data.error.valores:a.errores=t.data.error,a.$Progress.fail(),a.$refs.editaProductoBtn.className="btn btn-primary")}).catch(function(t){a.$toasted.show("Productos.vue: "+t,{type:"error"}),a.$Progress.fail(),a.$refs.nuevoProductoBtn.className="btn btn-primary"})},e,s)},limpiaProducto:function(){this.producto={id_categoria_producto:-1,producto_image:null},this.nuevoProductoMsg="",this.errores={},this.datosRepetidos="",this.myCroppaUpdate.remove(),this.myCroppa.remove()},mtipoCajero:function(){this.producto.id_caja=-1},eliminarProducto:function(t,a){var e=this,s=confirm("Desea eliminar el usuario ".concat(a));if(s){this.$Progress.start();var r=this.$store.state.url_root+"api/auth/producto/".concat(t);Qa.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,Qa.delete(r).then(function(t){e.listaProductosMethod(e.$store.state.url_root+"api/auth/producto/".concat(e.nro_page,"/restaurant/").concat(e.$store.state.id_restaurant,"/categoria/").concat(e.comboCategorias,"?page=").concat(e.pagination.current_page)),e.limpiaProducto(),e.nuevoProductoMsg="El producto <strong>".concat(a,"</strong> se elimino correctamente"),e.$Progress.finish()}).catch(function(t){e.$toasted.show("Productos.vue: "+t,{type:"error"}),e.$Progress.fail()})}else console.log("no se borro nada")},deleteImgProductMethod:function(){var t=this,a=confirm("Desea eliminar la imagen");a&&(this.$Progress.start(),Qa.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,Qa.delete(this.$store.state.url_root+"api/auth/delimage/"+this.producto.id_producto).then(function(a){t.producto=a.data.data,t.listaProductosMethod(t.$store.state.url_root+"api/auth/producto/".concat(t.nro_page,"/restaurant/").concat(t.$store.state.id_restaurant,"/categoria/").concat(t.comboCategorias,"?page=").concat(t.pagination.current_page)),t.$Progress.finish()}).catch(function(a){t.$toasted.show("Productos.vue: "+a,{type:"error"}),t.$Progress.fail()}))},handleCroppaFileSizeExceed:function(){this.errores={foto_producto:["Supero el tamaño maximo (5 Mb) de la imagen"]}},onFileTypeMismatch:function(){this.errores={foto_producto:["La imagen debe ser de tipo PNG o JPEG"]}}}},Wa=Ka,Xa=Object(d["a"])(Wa,Ta,Ua,!1,null,null,null),Za=Xa.exports,te=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("Marco",{attrs:{titulo:"Nuevo Pedido",icono:"fas fa-clipboard"}},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-9 alineacion-botones"},[e("button",{ref:"guardarPedidoBtn",staticClass:"btn btn-primary",on:{click:function(a){return t.addNuevoPedido()}}},[e("i",{staticClass:"far fa-save"}),t._v(" Guardar")]),e("button",{staticClass:"btn btn-primary",on:{click:function(a){return t.limpiarPedido()}}},[e("i",{staticClass:"fas fa-broom"}),t._v(" Limpiar")]),e("button",{staticClass:"btn btn-primary",class:{disabled:null==t.ventaProdObj},on:{click:function(a){return t.printTicket()}}},[e("i",{staticClass:"fas fa-print"}),t._v(" Imprimir")])]),e("div",{staticClass:"col-md-3"},[t.btnClientePrint?e("div",{staticClass:"form-check"},[e("label",{staticClass:"form-check-label"},[e("input",{ref:"statePrint",staticClass:"form-check-input",attrs:{type:"checkbox"},on:{click:t.chengeStatePrint}}),t._v("Ticket Cliente\n                        ")])]):t._e()])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("BoxMessage",{attrs:{message:t.nuevoPedidoMsg,cod:"da",icono:"fas fa-exclamation-circle"}}),e("h4",{staticClass:"sub-cajero"},[t._v("Datos Cliente")]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-2 style-datos-cliente align-self-center"},[e("label",{attrs:{for:"validationCustom04"}},[t._v("Nombre")])]),e("div",{staticClass:"col-md-10"},[t.swUpdate?e("input",{directives:[{name:"model",rawName:"v-model",value:t.cliente.nombre_completo,expression:"cliente.nombre_completo"}],staticClass:"caja_texto",attrs:{type:"text",disabled:""},domProps:{value:t.cliente.nombre_completo},on:{input:function(a){a.target.composing||t.$set(t.cliente,"nombre_completo",a.target.value)}}}):e("input",{directives:[{name:"model",rawName:"v-model",value:t.cliente.nombre_completo,expression:"cliente.nombre_completo"}],staticClass:"caja_texto",attrs:{type:"text"},domProps:{value:t.cliente.nombre_completo},on:{input:function(a){a.target.composing||t.$set(t.cliente,"nombre_completo",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.nombre_completo}})],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-2 style-datos-cliente align-self-center"},[e("label",{attrs:{for:"validationCustom04"}},[t._v(t._s(t.getIdentificacion))])]),e("div",{staticClass:"col-md-10"},[e("form",{on:{submit:function(a){return a.preventDefault(),t.getListaClientes()}}},[e("div",{staticClass:"enlinea caja_texto"},[t.swUpdate?e("input",{directives:[{name:"model",rawName:"v-model",value:t.cliente.dni,expression:"cliente.dni"}],attrs:{type:"number",disabled:""},domProps:{value:t.cliente.dni},on:{input:function(a){a.target.composing||t.$set(t.cliente,"dni",a.target.value)}}}):e("input",{directives:[{name:"model",rawName:"v-model",value:t.cliente.dni,expression:"cliente.dni"}],attrs:{type:"number"},domProps:{value:t.cliente.dni},on:{input:function(a){a.target.composing||t.$set(t.cliente,"dni",a.target.value)}}}),e("button",{staticClass:"btn",attrs:{type:"submit","data-toggle":"modal","data-target":"#modalListaClientes"}},[e("i",{staticClass:"fas fa-search"})])]),e("ListErrors",{attrs:{errores:t.errores.dni}})],1),e("a",{staticClass:"style-limpiar",attrs:{href:"#"},on:{click:function(a){return t.habilitaCamposCliente()}}},[t._v("Limpiar")])])])],1)]),0==t.type_user?e("div",{staticClass:"row caja-style"},[e("div",{staticClass:"col-md-12"},t._l(t.cajasArray,function(a){return e("div",{key:a.id_caja,staticClass:"form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.cajaCheck,expression:"cajaCheck"}],staticClass:"form-check-input",attrs:{type:"radio",name:"exampleRadios",id:"exampleRadios1"},domProps:{value:a.id_caja,checked:t._q(t.cajaCheck,a.id_caja)},on:{change:function(e){t.cajaCheck=a.id_caja}}}),e("label",{staticClass:"form-check-label",attrs:{for:"exampleRadios1"}},[t._v("\n                                "+t._s(a.nombre)+"\n                            ")])])}),0)]):t._e(),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("h4",{staticClass:"sub-cajero"},[t._v("Detalles")]),e("TableCondensed",{attrs:{productosPedidos:t.tablaProductosPedidos,rotulos:t.rotulosProductosPedidos},on:{addNota:t.addNotaMethod,addCant:t.addCantMethod,delCant:t.delCantMethod}}),e("ListErrors",{attrs:{errores:t.errores.listaProductos}}),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-bordered table-condensed"},[e("tbody",[e("tr",[e("th",{attrs:{scope:"row"}},[t._v("Sub total")]),e("td",[t._v(t._s(t.calculaSubtotal)+" "+t._s(t.tipoMoneda))])]),e("tr",[e("th",{attrs:{scope:"row"}},[t._v("Descuento")]),e("td",[t._v(t._s(t.descuento)+" %")])]),e("tr",[e("th",{attrs:{scope:"row"}},[t._v("Total")]),e("td",[t._v(t._s(t.calculaTotal)+" "+t._s(t.tipoMoneda))])])])])])],1)]),1==t.type_user?e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 alineacion-botones"},[e("button",{ref:"pagarPedidoBtn",staticClass:"btn btn-primary",on:{click:function(a){return t.addNuevoPedidoPago()}}},[e("i",{staticClass:"fas fa-comment-dollar"}),t._v(" Pagar")])])]):t._e(),1==t.type_user?e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("BoxMessage",{attrs:{message:t.pedidoMsg,cod:"da",icono:"fas fa-exclamation-circle"}}),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-bordered table-striped table-condensed"},[e("tbody",[e("tr",[e("td",{attrs:{scope:"col"}},[e("i",{staticClass:"far fa-money-bill-alt"}),t._v(" Efectivo ("+t._s(t.tipoMoneda)+")")]),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.reg.efectivo,expression:"reg.efectivo"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.reg.efectivo},on:{input:function(a){a.target.composing||t.$set(t.reg,"efectivo",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.efectivo}})],1)]),e("tr",[e("td",{attrs:{scope:"col"}},[e("i",{staticClass:"fas fa-money-bill-wave"}),t._v(" Total a pagar ("+t._s(t.tipoMoneda)+")")]),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.reg.total_pagar,expression:"reg.total_pagar"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.reg.total_pagar},on:{input:function(a){a.target.composing||t.$set(t.reg,"total_pagar",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.total_pagar}})],1)]),e("tr",[e("td",{attrs:{scope:"col"}},[e("i",{staticClass:"fab fa-cc-visa"}),t._v(" Visa")]),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.reg.visa,expression:"reg.visa"}],staticClass:"form-control",attrs:{type:"number",disabled:""},domProps:{value:t.reg.visa},on:{input:function(a){a.target.composing||t.$set(t.reg,"visa",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.visa}})],1)]),e("tr",[e("td",{attrs:{scope:"col"}},[e("i",{staticClass:"fab fa-cc-mastercard"}),t._v(" Master Card")]),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.reg.mastercard,expression:"reg.mastercard"}],staticClass:"form-control",attrs:{type:"number",disabled:""},domProps:{value:t.reg.mastercard},on:{input:function(a){a.target.composing||t.$set(t.reg,"mastercard",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.mastercard}})],1)]),e("tr",[e("td",{attrs:{scope:"col"}},[e("i",{staticClass:"fas fa-hand-holding-usd"}),t._v(" Cambio ("+t._s(t.tipoMoneda)+")")]),e("td",[e("input",{staticClass:"form-control",attrs:{type:"number",disabled:""},domProps:{value:t.calculaCambio}}),e("ListErrors",{attrs:{errores:t.errores.cambio}})],1)])])])])],1)]):t._e()]),e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"row"},[e("h4",{staticClass:"sub-cajero"},[t._v("Categoria")])]),e("div",{staticClass:"row contenedor-categorias"},[e("div",{staticClass:"item-categoria",class:{itemCategoriaActive:-1==t.indiceActive},on:{click:function(a){return t.getAllProductosMethod(-1)}}},[t._v("Todos")]),t._l(t.listaCategorias,function(a){return e("div",{key:a.id_categoria_producto,staticClass:"item-categoria",class:{itemCategoriaActive:a.id_categoria_producto==t.indiceActive},on:{click:function(e){return t.getAllProductosMethod(a.id_categoria_producto)}}},[t._v(t._s(a.nombre))])})],2),e("div",{staticClass:"row"},[e("h4",{staticClass:"sub-cajero"},[t._v("Productos")])]),e("div",{staticClass:"row"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.buscaProducto,expression:"buscaProducto"}],staticClass:"form-control input-style",attrs:{type:"text",placeholder:"Buscar..."},domProps:{value:t.buscaProducto},on:{input:function(a){a.target.composing||(t.buscaProducto=a.target.value)}}})]),e("div",{staticClass:"row contenedor-productos"},t._l(t.matchProductos,function(a){return e("div",{key:a.id_producto,staticClass:"item-producto",on:{click:function(e){return t.agregaProductoMethod(a)}}},[e("div",[null!=a.producto_image?e("img",{staticClass:"img-fluid",attrs:{src:t.ruta_publica+"imgProductos/"+a.producto_image,alt:"No se encontro la imagen",width:"120",height:"120"}}):e("img",{staticClass:"img-fluid",attrs:{src:t.ruta_publica+"imgLogos/sinImagen.svg",alt:"No se encontro la imagen",width:"120",height:"120"}})]),e("div",[e("span",{staticClass:"nombre_producto"},[t._v(t._s(a.nombre.toUpperCase()))])]),e("div",[e("span",{staticClass:"precio_producto"},[t._v(t._s(parseFloat(a.precio))+" "+t._s(t.tipoMoneda))])])])}),0)])]),e("form",{on:{submit:function(a){return a.preventDefault(),t.addNotaSubmit()}}},[e("Modal",{attrs:{titulo:"Insertar Nota",idModal:"modalEditaNota",icono:"fas fa-sticky-note"},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("Nota")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.nota,expression:"nota"}],staticClass:"form-control input-style",attrs:{type:"text"},domProps:{value:t.nota},on:{input:function(a){a.target.composing||(t.nota=a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.nota_submit}})],1)])])])]},proxy:!0},{key:"footer",fn:function(){return[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.cerrarNota}},[t._v("Cerrar")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Guardar")])]},proxy:!0}])})],1),e("form",{on:{submit:function(t){t.preventDefault()}}},[e("Modal",{attrs:{titulo:"Lista de Clientes",idModal:"modalListaClientes",icono:"fas fa-list"},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-bordered table-condensed"},[e("thead",{staticClass:"head-table"},[e("tr",[e("th",[t._v(t._s(t.getIdentificacion))]),e("th",[t._v("Nombre Completo")]),e("th",[t._v("Añadir")])])]),e("tbody",t._l(t.listaClientes,function(a){return e("tr",{key:a.id_cliente},[e("td",[t._v(t._s(a.dni))]),e("td",[t._v(t._s(a.nombre_completo))]),e("td",{staticClass:"botonTablaProducto"},[e("button",{staticClass:"btn btn-success",on:{click:function(e){return t.addClienteMethod(a)}}},[e("i",{staticClass:"fas fa-plus"})])])])}),0)])])])])])]},proxy:!0},{key:"footer",fn:function(){return[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.limpiarListaClientes}},[t._v("Cerrar")])]},proxy:!0}])})],1),e("facturaCocina",{attrs:{nro_pedido:t.nroPedido_ticket,cliente:t.cliente_ticket,productosArray:t.productosArray_ticket,esFactura:t.esFactura,detallePago:t.detallePago}})],1)])},ae=[],ee=(e("6762"),e("2fdb"),e("c5f6"),function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[t.esFactura?e("div",{staticClass:"printableArea"},[e("table",{staticClass:"table table-condensed sin-bordes table-cliente"},[e("tbody",[e("tr",[e("td",{attrs:{colspan:"2"}},[e("h4",[t._v(t._s(t.getDataRestaurante.restaurant))])])]),e("tr",[e("td",{attrs:{colspan:"2"}},[e("h6",[t._v(t._s(t.getDataRestaurante.sucursal))])])]),e("tr",[e("td",{staticClass:"center-text",attrs:{colspan:"2"}},[t._v(t._s(t.getDataRestaurante.direccion))])]),null!=t.getDataRestaurante.telefono?e("tr",[e("td",{staticClass:"center-text",attrs:{colspan:"2"}},[t._v("Telef. "+t._s(t.getDataRestaurante.telefono))])]):t._e(),null!=t.getDataRestaurante.celular?e("tr",[e("td",{staticClass:"center-text",attrs:{colspan:"2"}},[t._v("Celular. "+t._s(t.getDataRestaurante.celular))])]):t._e(),e("tr",[e("td",{staticClass:"center-text",attrs:{colspan:"2"}},[t._v(t._s(t.getDataRestaurante.pais)+" - "+t._s(t.getDataRestaurante.ciudad))])])])]),e("table",{staticClass:"table table-condensed sin-bordes table-cliente"},[e("tbody",[e("tr",[t._m(2),e("td",[t._v(t._s(t.cliente_computed.nombre_completo))])]),e("tr",[e("td",[e("span",[t._v(t._s(t.getIdentificacion)+":")])]),e("td",[t._v(t._s(t.cliente_computed.dni))])])])]),e("table",{staticClass:"table sin-bordes table-condensed table-cliente"},[e("tbody",[t._m(3),t._l(t.productos_computed,function(a){return e("tr",{key:a.id_producto_vendido},[e("td",[t._v(t._s(a.cantidad))]),e("td",[t._v(t._s(a.detalle))]),e("td",[t._v(t._s(a.p_unit))]),e("td",[t._v(t._s(a.importe))])])})],2)]),e("table",{staticClass:"table table-condensed sin-bordes table-cliente"},[e("tbody",[e("tr",[e("td",[t._v("Total a pagar: "+t._s(t.tipoMoneda))]),e("td",[t._v(t._s(t.detallePago_computed.total))])]),e("tr",[e("td",[t._v("Efectivo: "+t._s(t.tipoMoneda))]),e("td",[t._v(t._s(t.detallePago_computed.efectivo))])]),e("tr",[e("td",[t._v("Cambio: "+t._s(t.tipoMoneda))]),e("td",[t._v(t._s(t.detallePago_computed.cambio))])])])]),e("table",{staticClass:"table table-condensed sin-bordes table-cliente"},[e("tbody",[e("tr",[e("td",{staticClass:"center-text",attrs:{colspan:"2"}},[t._v("Pedido: "+t._s(t.nroPedido_computed))])]),e("tr",[e("td",{staticClass:"center-text",attrs:{colspan:"2"}},[t._v(t._s(t.getDataRestaurante.caja))])])])])]):e("div",{staticClass:"printableArea"},[e("table",{staticClass:"table sin-bordes table-condensed"},[e("tbody",[e("tr",{staticClass:"encabezado-factura"},[e("td",{attrs:{colspan:"2"}},[e("h5",[t._v("PEDIDO # "+t._s(t.nroPedido_computed))])])]),e("tr",[t._m(0),e("td",[t._v(t._s(t.cliente_computed.nombre_completo))])]),e("tr",[e("td",[e("span",[t._v(t._s(t.getIdentificacion)+":")])]),e("td",[t._v(t._s(t.cliente_computed.dni))])])])]),e("table",{staticClass:"table table-bordered table-condensed"},[e("tbody",[t._m(1),t._l(t.productos_computed,function(a){return e("tr",{key:a.id_producto_vendido},[e("td",[t._v(t._s(a.cantidad))]),e("td",[t._v(t._s(a.detalle))]),e("td",[t._v(t._s(a.nota))])])})],2)])])])}),se=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("td",[e("span",[t._v("Señor(es):")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",{staticClass:"encabezado-factura"},[e("td",[t._v("Cant")]),e("td",[t._v("Prod")]),e("td",[t._v("Nota")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("td",[e("span",[t._v("Señor(es):")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",{staticClass:"encabezado-factura"},[e("td",[t._v("Cant")]),e("td",[t._v("Prod")]),e("td",[t._v("P.Unit")]),e("td",[t._v("Importe")])])}],re=(e("bc3a"),{props:{cliente:{type:Object,required:!0},productosArray:{type:Array,required:!0},nro_pedido:{type:Number,required:!0},esFactura:{type:Boolean,required:!0},detallePago:{type:Object,default:{}}},name:"facturaCocina",computed:{cliente_computed:function(){return null==this.cliente.nombre_completo&&(this.cliente.nombre_completo="GENERAL"),null==this.cliente.dni&&(this.cliente.dni="GENERAL"),this.cliente},productos_computed:function(){return this.productosArray},nroPedido_computed:function(){return this.nro_pedido},detallePago_computed:function(){return this.detallePago},getIdentificacion:function(){return this.$store.state.restauranteData.identificacion},getDataRestaurante:function(){return this.$store.state.restauranteData},tipoMoneda:function(){return this.$store.state.restauranteData.tipo_moneda}}}),oe=re,ie=(e("97ac"),Object(d["a"])(oe,ee,se,!1,null,null,null)),ne=ie.exports,le=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-bordered table-condensed"},[e("thead",{staticClass:"head-table"},[e("tr",t._l(t.rotulos,function(a){return e("th",{key:a.name,attrs:{scope:"col"}},[t._v(t._s(a.name))])}),0)]),e("tbody",t._l(t.productosPedidos,function(a){return e("tr",{key:a.cod},[e("td",[t._v(t._s(a.id_producto))]),e("td",[t._v(t._s(a.cantidad))]),e("td",[t._v(t._s(a.detalle))]),e("td",[t._v(t._s(a.p_unit))]),e("td",[t._v(t._s(a.importe))]),e("td",[t._v(t._s(a.nota))]),e("td",{staticClass:"botonTablaProducto"},[e("button",{staticClass:"btn btn-info",on:{click:function(e){return t.$emit("addNota",a)}}},[e("i",{staticClass:"far fa-sticky-note"})]),e("button",{staticClass:"btn btn-success",on:{click:function(e){return t.$emit("addCant",a)}}},[e("i",{staticClass:"fas fa-plus"})]),e("button",{staticClass:"btn btn-danger",on:{click:function(e){return t.$emit("delCant",a)}}},[e("i",{staticClass:"fas fa-minus"})])])])}),0)])])},ce=[],de={name:"TableCondensed",props:{productosPedidos:{type:Array},rotulos:{type:Array}},computed:{visibilidadColumna:function(t){return t}}},ue=de,pe=(e("82bb"),Object(d["a"])(ue,le,ce,!1,null,null,null)),me=pe.exports,fe=(e("e511"),e("bc3a")),ve={name:"NuevoPedido",components:{Marco:xt,BoxMessage:Q,TableCondensed:me,Modal:zt,ListErrors:q,facturaCocina:ne},data:function(){return{rotulosProductosPedidos:[{name:"Cod",visible:!0},{name:"Cant",visible:!0},{name:"Detalle",visible:!0},{name:"P.Unit",visible:!0},{name:"Importe",visible:!0},{name:"Nota",visible:!0},{name:"Opera",visible:!0}],buscaProducto:"",listaCategorias:[],listaProductos:[],data_usr:{},ruta_publica:this.$store.state.url_root,indiceActive:-1,tablaProductosPedidos:[],indiceTPP:-1,nota:"",pedidoObj:{},subTotal:0,descuento:0,total:0,listaClientes:[],cliente:{},cliente_ticket:{nombre_completo:"",dni:""},nroPedido_ticket:-1,productosArray_ticket:[],swUpdate:!1,errores:{},nuevoPedidoMsg:"",reg:{efectivo:0,total_pagar:0,visa:0,mastercard:0,sub_total:0,cambio:0},pedidoMsg:"",type_user:this.$store.state.type_user,cajasArray:[],cajaCheck:-1,notaVerified:"",ventaProdObj:null,mostrarFactura:!0,esFactura:!1,detallePago:{},btnClientePrint:!1}},computed:{matchProductos:function(){var t=this;return this.listaProductos.filter(function(a){var e=a.nombre.trim().toUpperCase(),s=t.buscaProducto.toUpperCase();return e.match(s)})},calculaSubtotal:function(){var t=0;return this.tablaProductosPedidos.length>0&&this.tablaProductosPedidos.forEach(function(a){t=Number(t)+Number(a.importe)}),parseFloat(t).toFixed(2)},calculaTotal:function(){var t=0;return t=Number(this.calculaSubtotal)-Number(this.calculaSubtotal)*Number(this.descuento/100),parseFloat(t).toFixed(2)},calculaCambio:function(){return parseFloat(this.reg.efectivo-this.reg.total_pagar).toFixed(2)},tipoMoneda:function(){return this.$store.state.restauranteData.tipo_moneda},getIdentificacion:function(){return this.$store.state.restauranteData.identificacion}},mixins:[yt],created:function(){var t=this;this.$Progress.start(),this.getDataUser(this.$store.state.type_user).then(function(a){t.data_usr=a.data,t.getAllCategoriasMethod(),t.getAllProductosMethod(-1),0==t.$store.state.type_user&&t.loadCajaPerSucursal(),t.$Progress.finish()}).catch(function(a){t.$toasted.show("NuevoPedido "+a,{type:"error"}),t.$Progress.fail()})},methods:{loadCajaPerSucursal:function(){var t=this;this.$Progress.start();var a=this.$store.state.url_root+"api/auth/allcajas/".concat(this.data_usr.id_sucursal);fe.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,fe.get(a).then(function(a){t.cajasArray=a.data.data,t.$Progress.finish()}).catch(function(a){t.$toasted.show("NuevoPedido.vue: "+a,{type:"error"}),t.$Progress.fail()})},getAllCategoriasMethod:function(){var t=this;this.$Progress.start();var a=this.$store.state.url_root+"api/auth/cproducto/sucursal/".concat(this.data_usr.id_sucursal);fe.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,fe.get(a).then(function(a){t.listaCategorias=a.data.data,t.$Progress.finish()}).catch(function(a){t.$toasted.show("NuevoPedido.vue: "+a,{type:"error"}),t.$Progress.fail()})},getAllProductosMethod:function(t){var a=this;this.$Progress.start(),this.indiceActive=t,t=t||-1;var e=this.$store.state.url_root+"api/auth/productoall/sucursal/".concat(this.data_usr.id_sucursal,"/categoria/").concat(t);fe.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,fe.get(e).then(function(t){a.listaProductos=t.data.data,a.$Progress.finish()}).catch(function(t){a.$toasted.show("NuevoPedido.vue: "+t,{type:"error"}),a.$Progress.fail()})},agregaProductoMethod:function(t){var a=!1,e=-1,s=0,r=1,o="";this.tablaProductosPedidos.forEach(function(i){t.id_producto==i.id_producto&&(a=!0,e=s,r=i.cantidad+1,o=i.nota),s++}),a?this.tablaProductosPedidos.splice(e,1,{id_producto:t.id_producto,cantidad:r,detalle:t.nombre,p_unit:parseFloat(t.precio),importe:parseFloat(t.precio*r).toFixed(2),nota:o}):this.tablaProductosPedidos.push({id_producto:t.id_producto,cantidad:r,detalle:t.nombre,p_unit:parseFloat(t.precio),importe:parseFloat(t.precio*r).toFixed(2),nota:""})},cerrarNota:function(){this.nota="",this.pedidoObj={},this.errores={}},addNotaMethod:function(t){this.pedidoObj=t,this.nota=this.pedidoObj.nota,window.$("#modalEditaNota").modal("show")},addNotaSubmit:function(){var t=this,a="",e=!0;if(this.nota.includes("|")&&(e=!1,a="La nota no puede contener el caracter |"),this.nota.includes(":")&&(e=!1,a="La nota no puede contener el caracter :"),e){var s=!1,r=-1,o=0;this.pedidoObj.nota=this.nota,this.tablaProductosPedidos.forEach(function(a){t.pedidoObj.id_producto==a.id_producto&&(s=!0,r=o),o++}),s&&(this.tablaProductosPedidos.splice(r,1,this.pedidoObj),window.$("#modalEditaNota").modal("hide"),this.cerrarNota()),this.errores={}}else this.errores={nota_submit:[a]}},addCantMethod:function(t){var a=this;this.pedidoObj=t;var e=!1,s=-1,r=0;this.pedidoObj.cantidad=this.pedidoObj.cantidad+1,this.pedidoObj.importe=parseFloat(this.pedidoObj.cantidad*this.pedidoObj.p_unit).toFixed(2),this.tablaProductosPedidos.forEach(function(t){a.pedidoObj.id_producto==t.id_producto&&(e=!0,s=r),r++}),e&&(this.tablaProductosPedidos.splice(s,1,this.pedidoObj),window.$("#modalEditaNota").modal("hide"),this.cerrarNota())},delCantMethod:function(t){var a=this;this.pedidoObj=t;var e=!1,s=-1,r=0;this.tablaProductosPedidos.forEach(function(t){a.pedidoObj.id_producto==t.id_producto&&(e=!0,s=r),r++}),this.pedidoObj.cantidad=this.pedidoObj.cantidad-1,this.pedidoObj.importe=parseFloat(this.pedidoObj.importe-this.pedidoObj.p_unit).toFixed(2),e&&(0==this.pedidoObj.cantidad?(this.tablaProductosPedidos.splice(s,1),window.$("#modalEditaNota").modal("hide"),this.cerrarNota()):(this.tablaProductosPedidos.splice(s,1,this.pedidoObj),window.$("#modalEditaNota").modal("hide"),this.cerrarNota()))},getListaClientes:function(){var t=this;this.$Progress.start();var a=this.cliente.dni||-1,e=this.$store.state.url_root+"api/auth/cliente/sucursal/".concat(this.data_usr.id_sucursal,"/identificador/").concat(a);fe.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,fe.get(e).then(function(a){t.listaClientes=a.data.data,t.$Progress.finish()}).catch(function(a){t.$toasted.show("NuevoPedido.vue: "+a,{type:"error"}),t.$Progress.fail()})},limpiarListaClientes:function(){this.listaClientes=[]},addClienteMethod:function(t){this.cliente.id_cliente=t.id_cliente,this.cliente.dni=t.dni,this.cliente.nombre_completo=t.nombre_completo,this.swUpdate=!0,this.listaClientes=[],window.$("#modalListaClientes").modal("hide")},addNuevoPedido:function(){var t=this;this.$refs.guardarPedidoBtn.className="btn btn-primary disabled",this.$Progress.start(),this.cliente_ticket.nombre_completo=this.cliente.nombre_completo,this.cliente_ticket.dni=this.cliente.dni,this.productosArray_ticket=this.tablaProductosPedidos,1==this.type_user?this.cliente.id_cajero=this.data_usr.id_cajero:this.cliente.id_mozo=this.data_usr.id_mozo,this.cliente.id_sucursal=this.data_usr.id_sucursal,this.cliente.total=this.calculaTotal,this.cliente.descuento=this.descuento,this.cliente.sub_total=this.calculaSubtotal,this.cliente.estado_venta="A",this.cliente.id_restaurant=this.$store.state.id_restaurant,this.cliente.id_sucursal=this.data_usr.id_sucursal,1==this.type_user?this.cliente.id_caja=this.data_usr.id_caja:this.cliente.id_caja=this.cajaCheck,this.cliente.ant_cliente=this.swUpdate;var a=0,e="";this.tablaProductosPedidos.forEach(function(s){e=a==t.tablaProductosPedidos.length-1?e+s.id_producto+"|"+s.cantidad+"|"+s.p_unit+"|"+s.importe+"|"+s.nota:e+s.id_producto+"|"+s.cantidad+"|"+s.p_unit+"|"+s.importe+"|"+s.nota+":",a++}),this.cliente.listaProductos=e,fe.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,fe.post(this.$store.state.url_root+"api/auth/cliente",this.cliente).then(function(a){null==a.data.error?a.data.data[0].registraproductosfunction==t.tablaProductosPedidos.length&&(t.btnClientePrint=!1,t.esFactura=!1,t.ventaProdObj=a.data.vprod,t.nroPedido_ticket=a.data.nro_pedido,t.limpiarPedido(),t.$toasted.show("Se realizó el pedido sin pagar",{type:"info"}),t.$Progress.finish(),t.$refs.guardarPedidoBtn.className="btn btn-primary"):(null==a.data.error.limite_pedidos?null==a.data.error.apertura_caja?t.errores=a.data.error:t.nuevoPedidoMsg=a.data.error.apertura_caja:t.nuevoPedidoMsg=a.data.error.limite_pedidos,t.$Progress.fail(),t.$refs.guardarPedidoBtn.className="btn btn-primary")}).catch(function(a){t.$toasted.show("NuevoPedido "+a,{type:"error"}),t.$Progress.fail(),t.$refs.guardarPedidoBtn.className="btn btn-primary"})},limpiarPedido:function(){this.tablaProductosPedidos=[],this.cliente={},this.swUpdate=!1,this.errores={},this.pedidoMsg="",this.reg={efectivo:0,total_pagar:0,visa:0,mastercard:0,sub_total:0,cambio:0},this.nuevoPedidoMsg="",this.cajaCheck=-1},habilitaCamposCliente:function(){this.swUpdate=!1,this.cliente={}},addNuevoPedidoPago:function(){var t=this;this.$refs.pagarPedidoBtn.className="btn btn-primary disabled",this.$Progress.start(),this.cliente.id_cajero=this.data_usr.id_cajero,this.cliente.id_sucursal=this.data_usr.id_sucursal,this.cliente.total=this.calculaTotal,this.cliente.descuento=this.descuento,this.cliente.sub_total=this.calculaSubtotal,this.cliente.estado_venta="P",this.cliente.id_caja=this.data_usr.id_caja,this.cliente.ant_cliente=this.swUpdate,this.cliente.efectivo=this.reg.efectivo,this.cliente.total_pagar=this.reg.total_pagar,this.cliente.visa=this.reg.visa,this.cliente.mastercard=this.reg.mastercard,this.cliente.id_sucursal=this.data_usr.id_sucursal,this.cliente.cambio=parseFloat(this.reg.efectivo-this.reg.total_pagar).toFixed(2),this.cliente.id_restaurant=this.$store.state.id_restaurant,this.cliente_ticket.nombre_completo=this.cliente.nombre_completo,this.cliente_ticket.dni=this.cliente.dni,this.detallePago.total=this.cliente.total,this.detallePago.descuento=this.cliente.descuento,this.detallePago.sub_total=this.cliente.sub_total,this.detallePago.efectivo=this.cliente.efectivo,this.detallePago.cambio=this.cliente.cambio,this.productosArray_ticket=this.tablaProductosPedidos;var a=0,e="";this.tablaProductosPedidos.forEach(function(s){e=a==t.tablaProductosPedidos.length-1?e+s.id_producto+"|"+s.cantidad+"|"+s.p_unit+"|"+s.importe+"|"+s.nota:e+s.id_producto+"|"+s.cantidad+"|"+s.p_unit+"|"+s.importe+"|"+s.nota+":",a++}),this.cliente.listaProductos=e,fe.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,fe.post(this.$store.state.url_root+"api/auth/clientepago",this.cliente).then(function(a){null==a.data.error?a.data.data[0].registraproductosfunction==t.tablaProductosPedidos.length&&(t.ventaProdObj=a.data.vprod,t.nroPedido_ticket=a.data.nro_pedido,t.limpiarPedido(),t.$toasted.show("Se realizo el pago del pedido correctamente",{type:"success"}),t.btnClientePrint=!0,t.$Progress.finish(),t.$refs.pagarPedidoBtn.className="btn btn-primary"):(null==a.data.error.limite_pedidos?null==a.data.error.apertura_caja?null==a.data.error.efectivo_mayor?null==a.data.error.total_pagar_mayor?t.errores=a.data.error:t.pedidoMsg="".concat(a.data.error.total_pagar_mayor):t.pedidoMsg="".concat(a.data.error.efectivo_mayor):t.nuevoPedidoMsg=a.data.error.apertura_caja:t.nuevoPedidoMsg=a.data.error.limite_pedidos,t.$Progress.fail(),t.$refs.pagarPedidoBtn.className="btn btn-primary")}).catch(function(a){t.$toasted.show("NuevoPedido: "+a,{type:"error"}),t.$Progress.fail(),t.$refs.pagarPedidoBtn.className="btn btn-primary"})},hacerPagoMethod:function(){var t=this;this.$Progress.start(),this.reg.total=parseFloat(this.ventaProductoObj.total).toFixed(2),this.reg.id_venta_producto=this.ventaProductoObj.id_venta_producto,this.reg.cambio=parseFloat(this.reg.efectivo-this.reg.total_pagar).toFixed(2),fe.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,fe.post(this.$store.state.url_root+"api/auth/pago",this.reg).then(function(a){null==a.data.error?(t.reg=a.data.data,t.limpiarPedido(),t.$Progress.finish()):(null==a.data.error.efectivo_mayor?null==a.data.error.total_pagar_mayor?t.errores=a.data.error:t.pedidoMsg="".concat(a.data.error.total_pagar_mayor):t.pedidoMsg="".concat(a.data.error.efectivo_mayor),t.$Progress.fail())}).catch(function(a){t.$toasted.show("NuevoPedido "+a,{type:"error"}),t.$Progress.fail()})},chengeStatePrint:function(){this.$refs.statePrint.checked?this.esFactura=!0:this.esFactura=!1},printTicket:function(){window.print()}}},he=ve,be=(e("bc5a"),Object(d["a"])(he,te,ae,!1,null,null,null)),ge=be.exports,_e=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("Marco",{attrs:{titulo:"Apertura/Cierre de caja",icono:"fas fa-table"}},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-3"},[e("BoxMessage",{attrs:{message:t.nuevoHistorialMsg,cod:"su",icono:"fas fa-check"}}),e("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-toggle":"modal","data-target":"#modalAperturaCaja"}},[e("i",{staticClass:"fas fa-plus"}),t._v(" Apertura")])],1),e("div",{staticClass:"col-md-9"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("label",{attrs:{for:""}},[t._v("\n                                Entradas\n                                "),e("select",{ref:"nroEntradas",attrs:{id:"nroEntradas"},on:{change:t.cambiaOption}},[e("option",[t._v("3")]),e("option",[t._v("6")]),e("option",[t._v("10")])])])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 table-responsive"},[e("table-component",{attrs:{data:t.listaHistorial,tableClass:"table",theadClass:"head-table",filterPlaceholder:"Buscar...","filter-input-class":"inputSearchText","show-caption":!1}},[e("table-column",{attrs:{show:"fecha",label:"Fecha"}}),e("table-column",{attrs:{show:"monto_inicial",label:"Monto Apertura ("+t.tipoMoneda+")"}}),e("table-column",{attrs:{show:"monto",label:"Monto Actual ("+t.tipoMoneda+")"}}),e("table-column",{attrs:{label:"Cerrar",sortable:!1,filterable:!1},scopedSlots:t._u([{key:"default",fn:function(a){return[e("button",{staticClass:"btn btn-danger",class:{disabled:!a.estado},attrs:{type:"button"},on:{click:function(e){return t.cerrarCaja(a.id_historial_caja,a.fecha)}}},[e("i",{staticClass:"fas fa-window-close"})])]}}])}),e("table-column",{attrs:{label:"Actualizar",sortable:!1,filterable:!1},scopedSlots:t._u([{key:"default",fn:function(a){return[e("button",{staticClass:"btn btn-success",class:{disabled:!a.estado},attrs:{type:"button"},on:{click:function(e){return t.sincronizarCaja(a.id_historial_caja,a.monto_inicial)}}},[e("i",{staticClass:"fas fa-sync-alt"})])]}}])})],1)],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 table-responsive"},[e("Pagination",{attrs:{pagination:t.pagination},on:{funcion:t.getAllAperturaCierre}})],1)])])]),e("form",{on:{submit:function(a){return a.preventDefault(),t.nuevoHistorial(a)}}},[e("Modal",{attrs:{titulo:"Apertura de Caja",icono:"fas fa-folder-plus",idModal:"modalAperturaCaja"},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("BoxMessage",{attrs:{message:t.datosRepetidos,cod:"da",icono:"fas fa-exclamation-circle"}}),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("Monto Inicial ("+t._s(t.tipoMoneda)+")")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.historial.monto_inicial,expression:"historial.monto_inicial"}],staticClass:"form-control input-style",attrs:{type:"text"},domProps:{value:t.historial.monto_inicial},on:{input:function(a){a.target.composing||t.$set(t.historial,"monto_inicial",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.monto_inicial}})],1)]),e("div",{staticClass:"col-md-6"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("Fecha")]),e("flat-pickr",{staticClass:"form-control input-style",attrs:{config:t.config},model:{value:t.historial.fecha,callback:function(a){t.$set(t.historial,"fecha",a)},expression:"historial.fecha"}}),e("ListErrors",{attrs:{errores:t.errores.fecha}})],1)],1)])]},proxy:!0},{key:"footer",fn:function(){return[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.limpiaHistorial}},[t._v("Cerrar")]),e("button",{ref:"nuevoAperturaBtn",staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Guardar")])]},proxy:!0}])})],1)])])},Ce=[],ye=e("bc3a"),Pe={name:"AperturaCierre",components:{Marco:xt,BoxMessage:Q,Modal:zt,flatPickr:ya.a,ListErrors:q,Pagination:bt},data:function(){var t;return{nro_page:3,pagination:{},data_usr:{},listaHistorial:[],errores:{},historial:{},nuevoHistorialMsg:"",datosRepetidos:"",date:new Date,config:(t={wrap:!0,altFormat:"j/n/Y",altInput:!0,dateFormat:"Y-m-d",allowInput:!0},Object(_a["a"])(t,"wrap",!1),Object(_a["a"])(t,"static",!0),t),cajaHistorialArray:[]}},mixins:[yt],computed:{tipoMoneda:function(){return this.$store.state.restauranteData.tipo_moneda}},created:function(){var t=this;this.$Progress.start(),this.getDataUser(1).then(function(a){t.data_usr=a.data,t.getAllAperturaCierre(),t.$Progress.finish()}).catch(function(a){t.$toasted.show(a,{type:"error"}),t.$Progress.fail()})},methods:{getAllAperturaCierre:function(t){var a=this;this.$Progress.start(),t=t||this.$store.state.url_root+"api/auth/historialcaja/caja/".concat(this.data_usr.id_caja,"/page/").concat(this.nro_page),ye.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,ye.get(t).then(function(t){a.listaHistorial=t.data.data.data,a.pagination=t.data.data,a.$Progress.finish()}).catch(function(t){a.$toasted.show("AperturaCierre.vue: "+t,{type:"error"}),a.$Progress.fail()})},limpiaHistorial:function(){this.historial={},this.errores={},this.datosRepetidos=""},nuevoHistorial:function(){var t=this;this.$refs.nuevoAperturaBtn.className="btn btn-primary disabled",this.$Progress.start(),this.historial.id_cajero=this.data_usr.id_cajero,this.historial.estado=!0,this.historial.id_caja=this.data_usr.id_caja,ye.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,ye.post(this.$store.state.url_root+"api/auth/historialcaja/".concat(this.data_usr.id_caja),this.historial).then(function(a){null==a.data.error?(t.getAllAperturaCierre(),t.nuevoHistorialMsg="Se aperturo la caja en fecha ".concat(t.historial.fecha),t.limpiaHistorial(),window.$("#modalAperturaCaja").modal("hide"),t.$Progress.finish(),t.$refs.nuevoAperturaBtn.className="btn btn-primary"):(null!=a.data.error.valores?t.datosRepetidos=a.data.error.valores:t.errores=a.data.error,t.$Progress.fail(),t.$refs.nuevoAperturaBtn.className="btn btn-primary")}).catch(function(a){t.$toasted.show("AperturaCierre.vue: "+a,{type:"error"}),t.$Progress.fail(),t.$refs.nuevoAperturaBtn.className="btn btn-primary"})},cambiaOption:function(){this.nro_page=this.$refs.nroEntradas.value,this.getAllAperturaCierre()},cerrarCaja:function(t,a){var e=this,s=confirm("Esta seguro que desea cerrar la caja de fecha ".concat(a));s&&(this.$Progress.start(),this.historial.id_cajero=this.data_usr.id_cajero,this.historial.estado=!1,ye.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,ye.put(this.$store.state.url_root+"api/auth/historialcaja/".concat(t),this.historial).then(function(t){e.getAllAperturaCierre(e.$store.state.url_root+"api/auth/historialcaja/caja/".concat(e.data_usr.id_caja,"/page/").concat(e.nro_page,"?page=").concat(e.pagination.current_page)),e.nuevoHistorialMsg="Se cerro la caja de fecha ".concat(a),e.limpiaHistorial(),e.$Progress.finish()}).catch(function(t){e.$toasted.show("AperturaCaja.vue: "+t,{type:"error"}),e.$Progress.fail()}))},sincronizarCaja:function(t,a){var e=this;this.$Progress.start();var s=this.$store.state.url_root+"api/auth/calculamonto/".concat(t);ye.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,ye.get(s).then(function(s){e.cajaHistorialArray=s.data.data;var r=0;e.cajaHistorialArray.forEach(function(t){r=Number(r)+Number(t.efectivo)-Number(t.cambio)});var o={};o.monto_final=Number(a)+Number(r),ye.defaults.headers.common["Authorization"]="Bearer "+e.$store.state.token,ye.put(e.$store.state.url_root+"api/auth/updatemonto/".concat(t),o).then(function(t){e.getAllAperturaCierre(),e.$Progress.finish()}).catch(function(t){e.$toasted.show("AperturaCaja.vue: "+t,{type:"error"}),e.$Progress.fail()})}).catch(function(t){e.$toasted.show("AperturaCaja.vue: "+t,{type:"error"}),e.$Progress.fail()})}}},$e=Pe,we=Object(d["a"])($e,_e,Ce,!1,null,null,null),xe=we.exports,je=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("Marco",{attrs:{titulo:"Historial de pedidos",icono:"fas fa-table"}},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-3"},[e("h3",{staticClass:"sub-cajero"},[e("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(a){return t.getPedidosArray()}}},[e("i",{staticClass:"fas fa-sync-alt"})]),t._v(" Pedidos")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.buscaPedido,expression:"buscaPedido"}],staticClass:"form-control input-style",attrs:{type:"text",placeholder:"Buscar..."},domProps:{value:t.buscaPedido},on:{input:function(a){a.target.composing||(t.buscaPedido=a.target.value)}}}),e("div",{staticClass:"contenedor-pedidos"},t._l(t.matchPedidos,function(a){return e("ContainerPedidos",{key:a.venta_producto,attrs:{pedidoObj:a},on:{sendPedidoMethod:t.showDatosPedido}})}),1)]),e("div",{staticClass:"col-md-9"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 text-right margin-buttons"},[null==t.pagoObj&&1==t.type_user?e("button",{ref:"pagarPedidoBtn",staticClass:"btn btn-primary",on:{click:t.hacerPagoMethod}},[t._v("Pagar")]):t._e(),0!=t.nro_pedido?e("button",{staticClass:"btn btn-primary",on:{click:function(a){return t.printTicket()}}},[e("i",{staticClass:"fas fa-print"}),t._v(" Imprimir")]):t._e(),e("div",{staticClass:"form-check"},[null!=t.pagoObj&&0!=t.nro_pedido&&1==t.type_user?e("label",{staticClass:"form-check-label"},[e("input",{ref:"statePrint",staticClass:"form-check-input",attrs:{type:"checkbox"},on:{click:t.chengeStatePrint}}),t._v("Ticket Cliente\n                        ")]):t._e()])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("h5",{staticClass:"sub-cajero"},[t._v("Detalle "),0!=t.nro_pedido?e("span",{staticClass:"style-titulo-pedido"},[t._v("PEDIDO # "+t._s(t.nro_pedido))]):t._e()]),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-bordered table-condensed"},[e("thead",{staticClass:"head-table"},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("Cod")]),e("th",{attrs:{scope:"col"}},[t._v("Cant")]),e("th",{attrs:{scope:"col"}},[t._v("Detalle")]),e("th",{attrs:{scope:"col"}},[t._v("P.Unit")]),e("th",{attrs:{scope:"col"}},[t._v("Importe")])])]),e("tbody",t._l(t.productosArray,function(a){return e("tr",{key:a.id_producto},[e("td",[t._v(t._s(a.id_producto))]),e("td",[t._v(t._s(a.cantidad))]),e("td",[t._v(t._s(a.detalle))]),e("td",[t._v(t._s(parseFloat(a.p_unit).toFixed(2)))]),e("td",[t._v(t._s(parseFloat(a.importe).toFixed(2)))])])}),0)])]),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-bordered table-condensed"},[e("thead",{staticClass:"head-table"},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("Sub total")]),e("th",[t._v(t._s(parseFloat(t.ventaProductoObj.sub_total).toFixed(2))+" "+t._s(t.tipoMoneda))])]),e("tr",[e("th",{attrs:{scope:"col"}},[t._v("Descuento")]),e("th",[t._v(t._s(parseFloat(t.ventaProductoObj.descuento).toFixed(2))+" %")])]),e("tr",[e("th",{attrs:{scope:"col"}},[t._v("Total")]),e("th",[t._v(t._s(parseFloat(t.ventaProductoObj.total).toFixed(2))+" "+t._s(t.tipoMoneda))])])])])])]),e("div",{staticClass:"col-md-6"},[e("h5",{staticClass:"sub-cajero"},[t._v("Cliente")]),e("BoxMessage",{attrs:{message:t.pedidoMsg,cod:"da",icono:"fas fa-exclamation-circle"}}),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-bordered table-striped table-condensed"},[e("tbody",[e("tr",[e("td",{attrs:{scope:"col"}},[t._v("Señor(es)")]),e("td",[t._v(t._s(t.ventaProductoObj.nombre_completo))])]),e("tr",[e("td",{attrs:{scope:"col"}},[t._v(t._s(t.getIdentificacion))]),e("td",[t._v(t._s(t.ventaProductoObj.dni))])])])])]),1==t.type_user?e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-bordered table-striped table-condensed"},[e("tbody",[e("tr",[e("td",{staticClass:"subtituloPedidos",attrs:{scope:"col"}},[t._v("TOTAL")]),e("td",{staticClass:"subtituloPedidos"},[t._v(t._s(parseFloat(t.ventaProductoObj.total).toFixed(2))+" "+t._s(t.tipoMoneda))])]),e("tr",[e("td",{attrs:{scope:"col"}},[e("i",{staticClass:"far fa-money-bill-alt"}),t._v(" Efectivo")]),e("td",[null!=t.pagoObj?e("input",{directives:[{name:"model",rawName:"v-model",value:t.reg.efectivo,expression:"reg.efectivo"}],staticClass:"form-control",attrs:{type:"number",disabled:""},domProps:{value:t.reg.efectivo},on:{input:function(a){a.target.composing||t.$set(t.reg,"efectivo",a.target.value)}}}):e("input",{directives:[{name:"model",rawName:"v-model",value:t.reg.efectivo,expression:"reg.efectivo"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.reg.efectivo},on:{input:function(a){a.target.composing||t.$set(t.reg,"efectivo",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.efectivo}})],1)]),e("tr",[e("td",{attrs:{scope:"col"}},[e("i",{staticClass:"fas fa-money-bill-wave"}),t._v(" Total pagar")]),e("td",[null!=t.pagoObj?e("input",{directives:[{name:"model",rawName:"v-model",value:t.reg.total_pagar,expression:"reg.total_pagar"}],staticClass:"form-control",attrs:{type:"number",disabled:""},domProps:{value:t.reg.total_pagar},on:{input:function(a){a.target.composing||t.$set(t.reg,"total_pagar",a.target.value)}}}):e("input",{directives:[{name:"model",rawName:"v-model",value:t.reg.total_pagar,expression:"reg.total_pagar"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.reg.total_pagar},on:{input:function(a){a.target.composing||t.$set(t.reg,"total_pagar",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.total_pagar}})],1)]),e("tr",[e("td",{attrs:{scope:"col"}},[e("i",{staticClass:"fab fa-cc-visa"}),t._v(" Visa")]),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.reg.visa,expression:"reg.visa"}],staticClass:"form-control",attrs:{type:"number",disabled:""},domProps:{value:t.reg.visa},on:{input:function(a){a.target.composing||t.$set(t.reg,"visa",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.visa}})],1)]),e("tr",[e("td",{attrs:{scope:"col"}},[e("i",{staticClass:"fab fa-cc-mastercard"}),t._v(" Master Card")]),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.reg.mastercard,expression:"reg.mastercard"}],staticClass:"form-control",attrs:{type:"number",disabled:""},domProps:{value:t.reg.mastercard},on:{input:function(a){a.target.composing||t.$set(t.reg,"mastercard",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.mastercard}})],1)]),e("tr",[e("td",{attrs:{scope:"col"}},[e("i",{staticClass:"fas fa-hand-holding-usd"}),t._v(" Cambio")]),e("td",[null!=t.pagoObj?e("input",{directives:[{name:"model",rawName:"v-model",value:t.reg.cambio,expression:"reg.cambio"}],staticClass:"form-control",attrs:{type:"number",disabled:""},domProps:{value:t.reg.cambio},on:{input:function(a){a.target.composing||t.$set(t.reg,"cambio",a.target.value)}}}):e("input",{staticClass:"form-control",attrs:{type:"number",disabled:""},domProps:{value:t.calculaCambio}}),e("ListErrors",{attrs:{errores:t.errores.cambio}})],1)])])])]):t._e()],1)])])]),e("facturaCocina",{attrs:{nro_pedido:t.nro_pedido,cliente:t.ventaProductoObj,productosArray:t.productosArray,esFactura:t.esFactura,detallePago:t.reg}})],1)])},ke=[],Ae=(e("6b54"),function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container-pedidos",class:{sombra:t.pedidoObj.id_venta_producto==t.getIndicePedido},on:{click:function(a){return t.$emit("sendPedidoMethod",t.pedidoObj)}}},[e("div",{staticClass:"encabezado"},[t._v("\n        PEDIDO "+t._s(t.pedidoObj.nro_venta)+"\n    ")]),e("div",{staticClass:"cuerpo-red",class:{cuerpoGreen:"P"==t.pedidoObj.estado_venta}},[e("div",{staticClass:"form-check"},[e("label",{staticClass:"form-check-label",attrs:{for:"defaultCheck2"}},[t.pedidoObj.estado_atendido?e("input",{staticClass:"form-check-input",attrs:{type:"checkbox",value:"",id:"defaultCheck2",disabled:"",checked:""}}):e("input",{staticClass:"form-check-input",attrs:{type:"checkbox",value:"",id:"defaultCheck2",disabled:""}}),t._v("\n                Atendido por cocina\n            ")])]),e("span",[t._v("Fecha:")]),t._v(" "+t._s(t.pedidoObj.created_at)),e("br"),e("span",[t._v("Cod:")]),t._v(" 00"+t._s(t.pedidoObj.id_venta_producto)),e("br"),e("span",[t._v("Cliente:")]),t._v(" "+t._s(t.nombreClienteComputed)),e("br"),e("span",[t._v(t._s(t.getIdentificacion)+":")]),t._v(" "+t._s(t.dniClienteComputed)),e("br"),e("span",[t._v(t._s(t.rol)+":")]),t._v(" "+t._s(t.nombre_empleado)),e("br"),0==t.type_user?e("span",[t._v(t._s(t.pedidoObj.nombre_caja))]):t._e()])])}),Ee=[],Se={name:"ContainerPedidos",props:{pedidoObj:{type:Object},indicadorPedido:{type:Boolean,default:!1}},data:function(){return{indice:this.$store.state.indicePedidosActive,type_user:this.$store.state.type_user}},computed:{rol:function(){return null==this.pedidoObj.nombre_cajero?"Mozo":"Cajero"},nombre_empleado:function(){return null==this.pedidoObj.nombre_cajero?this.pedidoObj.nombre_mozo:this.pedidoObj.nombre_cajero},nombreClienteComputed:function(){return null==this.pedidoObj.nombre_completo?"GENERAL":this.pedidoObj.nombre_completo},dniClienteComputed:function(){return null==this.pedidoObj.dni_cliente?"GENERAL":this.pedidoObj.dni_cliente},getIndicePedido:function(){return this.$store.state.indicePedidosActive},getIdentificacion:function(){return this.$store.state.restauranteData.identificacion}}},Me=Se,Ne=(e("f737"),Object(d["a"])(Me,Ae,Ee,!1,null,null,null)),Be=Ne.exports,Le=e("bc3a"),Re={name:"HistorialPedidos",components:{Marco:xt,BoxMessage:Q,Modal:zt,flatPickr:ya.a,ListErrors:q,Pagination:bt,ContainerPedidos:Be,facturaCocina:ne},data:function(){return{data_usr:{},pedidosArray:[],productosArray:[],ventaProductoObj:{total:0,sub_total:0,descuento:0,nombre_cliente:""},pagoObj:{},nro_pedido:0,reg:{efectivo:0,total_pagar:0,visa:0,mastercard:0,sub_total:0,cambio:0},buscaPedido:"",errores:{},pedidoMsg:"",sw:!1,type_user:this.$store.state.type_user,esFactura:!1}},mixins:[yt],computed:{calculaCambio:function(){return parseFloat(this.reg.efectivo-this.reg.total_pagar).toFixed(2)},matchPedidos:function(){var t=this;return this.pedidosArray.filter(function(a){var e=t.buscaPedido.trim().toUpperCase(),s=a.nombre_completo;null==s&&(s="");var r=s.toUpperCase(),o=a.id_venta_producto.toString();return r.match(e)||o.match(e)})},tipoMoneda:function(){return this.$store.state.restauranteData.tipo_moneda},getIdentificacion:function(){return this.$store.state.restauranteData.identificacion}},created:function(){var t=this;this.$Progress.start(),this.getDataUser(this.type_user).then(function(a){t.data_usr=a.data,t.getPedidosArray(),t.$Progress.finish()}).catch(function(a){t.$toasted.show(a,{type:"error"}),t.$Progress.fail()})},methods:{getPedidosArray:function(){var t=this;this.$Progress.start();var a="";a=0==this.type_user?this.$store.state.url_root+"api/auth/ventaproductos/mozo/".concat(this.data_usr.id_mozo,"/sucursal/").concat(this.data_usr.id_sucursal):this.$store.state.url_root+"api/auth/ventaproductos/caja/".concat(this.data_usr.id_caja),Le.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,Le.get(a).then(function(a){t.pedidosArray=a.data.data,t.$Progress.finish()}).catch(function(a){t.$toasted.show("HistorialPedido.vue: "+a,{type:"error"}),t.$Progress.fail()})},showDatosPedido:function(t){var a=this;null!=this.$refs.statePrint&&(this.$refs.statePrint.checked=!1),this.esFactura=!1,this.$Progress.start(),this.nro_pedido=t.nro_venta,this.$store.dispatch("indicePedidosActiveAction",t.id_venta_producto);var e=this.$store.state.url_root+"api/auth/productovendido/pedido/".concat(t.id_venta_producto);Le.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,Le.get(e).then(function(t){a.productosArray=t.data.data,a.ventaProductoObj=t.data.vprod[0],a.pagoObj=t.data.vpag[0],null==a.pagoObj?a.reg={efectivo:0,total_pagar:0,visa:0,mastercard:0,sub_total:0,cambio:0}:a.reg=a.pagoObj,a.$Progress.finish()}).catch(function(t){a.$toasted.show("HistorialPedido.vue: "+t,{type:"error"}),a.$Progress.fail()})},hacerPagoMethod:function(){var t=this;null==this.pagoObj&&(this.$refs.pagarPedidoBtn.className="btn btn-primary disabled",this.$Progress.start(),this.reg.total=parseFloat(this.ventaProductoObj.total).toFixed(2),this.reg.id_venta_producto=this.ventaProductoObj.id_venta_producto,this.reg.cambio=parseFloat(this.reg.efectivo-this.reg.total_pagar).toFixed(2),this.reg.id_cajero=this.data_usr.id_cajero,Le.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,Le.post(this.$store.state.url_root+"api/auth/pago",this.reg).then(function(a){null==a.data.error?(t.esFactura=!1,t.pagoObj=a.data.data,t.reg=a.data.data,t.getPedidosArray(),t.limpiarPedido(),t.$Progress.finish(),t.$refs.pagarPedidoBtn.className="btn btn-primary"):(null==a.data.error.efectivo_mayor?null==a.data.error.total_pagar_mayor?t.errores=a.data.error:t.pedidoMsg="".concat(a.data.error.total_pagar_mayor):t.pedidoMsg="".concat(a.data.error.efectivo_mayor),t.$Progress.fail(),t.$refs.pagarPedidoBtn.className="btn btn-primary")}).catch(function(a){t.$toasted.show("Historial Pedidos.vue: "+a,{type:"error"}),t.$Progress.fail(),t.$refs.pagarPedidoBtn.className="btn btn-primary"}))},limpiarPedido:function(){this.pedidoMsg="",this.errores={}},printTicket:function(){window.print()},chengeStatePrint:function(){this.$refs.statePrint.checked?this.esFactura=!0:this.esFactura=!1}}},Oe=Re,De=(e("915a"),Object(d["a"])(Oe,je,ke,!1,null,null,null)),ze=De.exports,Fe=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("Marco",{attrs:{titulo:"Simbolo de moneda",icono:"fas fa-table"}},[e("div",{staticClass:"container"},[e("BoxMessage",{attrs:{message:t.datosRepetidos,cod:"su",icono:"fas fa-check-circle"}}),e("form",{on:{submit:function(a){return a.preventDefault(),t.cambiaMoneda()}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("Moneda Actual")]),e("input",{staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.restauranteObj.tipo_moneda}})])]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("Nueva Moneda")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.nueva_moneda,expression:"nueva_moneda"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.nueva_moneda},on:{input:function(a){a.target.composing||(t.nueva_moneda=a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.tipo_moneda}})],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Cambiar")])])])])],1)])},Ie=[],Te=e("bc3a"),Ue={name:"TipoMoneda",components:{Marco:xt,BoxMessage:Q,ListErrors:q},data:function(){return{data_usr:{},restauranteObj:{},nueva_moneda:"",datosRepetidos:"",errores:{}}},created:function(){var t=this;this.$Progress.start(),this.getDataUser(2).then(function(a){t.data_usr=a.data,t.cargaConfigMoneda(),t.$Progress.finish()}).catch(function(a){t.$toasted.show(a,{type:"error"}),t.$Progress.fail()})},mixins:[yt],methods:{cargaConfigMoneda:function(){var t=this;this.$Progress.start(),Te.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,Te.get(this.$store.state.url_root+"api/auth/restaurant/".concat(this.data_usr.id_restaurant)).then(function(a){t.restauranteObj=a.data.data,t.$Progress.finish()}).catch(function(a){t.$toasted.show("TipoMoneda: "+a,{type:"error"}),t.$Progress.fail()})},cambiaMoneda:function(){var t=this;this.$Progress.start();var a={};a.tipo_moneda=this.nueva_moneda,Te.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,Te.put(this.$store.state.url_root+"api/auth/updatemoneda/".concat(this.data_usr.id_restaurant),a).then(function(a){null==a.data.error?(t.datosRepetidos="El simbolo de la moneda se cambio correctamente",t.nueva_moneda="",t.cargaConfigMoneda(),t.$Progress.finish()):(t.errores=a.data.error,t.$Progress.fail())}).catch(function(a){t.$toasted.show("TipoMoneda: "+a,{type:"error"}),t.$Progress.fail()})}}},qe=Ue,Ge=Object(d["a"])(qe,Fe,Ie,!1,null,null,null),He=Ge.exports,Ve=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("Marco",{attrs:{titulo:"Cambiar contraseña",icono:"fas fa-table"}},[e("div",{staticClass:"container"},[e("BoxMessage",{attrs:{message:t.datosRepetidos,cod:"su",icono:"fas fa-check-circle"}}),e("form",{on:{submit:function(a){return a.preventDefault(),t.changePasssword()}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("Contraseña")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.req.password_ant,expression:"req.password_ant"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.req.password_ant},on:{input:function(a){a.target.composing||t.$set(t.req,"password_ant",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.password_ant}})],1)]),e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("Nueva Contraseña")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.req.password,expression:"req.password"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.req.password},on:{input:function(a){a.target.composing||t.$set(t.req,"password",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.password}})],1)]),e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("Confirmar Contraseña")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.req.password_confirmation,expression:"req.password_confirmation"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.req.password_confirmation},on:{input:function(a){a.target.composing||t.$set(t.req,"password_confirmation",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.password_confirm}})],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Cambiar")])])])])],1)])},Ye=[],Je=e("bc3a"),Qe={name:"Password",components:{Marco:xt,BoxMessage:Q,ListErrors:q},data:function(){return{data_usr:{},req:{},datosRepetidos:"",errores:{}}},created:function(){var t=this;this.$Progress.start(),this.getDataUser(this.$store.state.type_user).then(function(a){t.data_usr=a.data,t.$Progress.finish()}).catch(function(a){t.$toasted.show(a,{type:"error"}),t.$Progress.fail()})},mixins:[yt],methods:{limpiaPassword:function(){this.req={},this.errores={}},changePasssword:function(){var t=this;this.$Progress.start();var a=-1;0==this.$store.state.type_user?a=this.data_usr.id_mozo:1==this.$store.state.type_user?a=this.data_usr.id_cajero:2==this.$store.state.type_user?a=this.data_usr.id_administrador:4==this.$store.state.type_user&&(a=this.data_usr.id_cocinero),Je.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,Je.post(this.$store.state.url_root+"api/auth/changepassword/usuario/".concat(a,"/typeuser/").concat(this.$store.state.type_user),this.req).then(function(a){null==a.data.error?(t.datosRepetidos="La contraseña se cambio correctamente",t.limpiaPassword(),t.$Progress.finish()):(t.errores=a.data.error,t.$Progress.fail())}).catch(function(a){t.$toasted.show("TipoMoneda: "+a,{type:"error"}),t.$Progress.fail()})}}},Ke=Qe,We=Object(d["a"])(Ke,Ve,Ye,!1,null,null,null),Xe=We.exports,Ze=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("Marco",{attrs:{titulo:"Tipo de identificación",icono:"fas fa-table"}},[e("div",{staticClass:"container"},[e("BoxMessage",{attrs:{message:t.datosRepetidos,cod:"su",icono:"fas fa-check-circle"}}),e("form",{on:{submit:function(a){return a.preventDefault(),t.cambiaIdentifcacion()}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("Identificación Actual")]),e("input",{staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.restauranteObj.identificacion}})])]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"label-style",attrs:{for:""}},[t._v("Nueva Identificación")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.new_identificacion,expression:"new_identificacion"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.new_identificacion},on:{input:function(a){a.target.composing||(t.new_identificacion=a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.identificacion}})],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Cambiar")])])])])],1)])},ts=[],as=e("bc3a"),es={name:"ConfigDni",components:{Marco:xt,BoxMessage:Q,ListErrors:q},data:function(){return{data_usr:{},restauranteObj:{},new_identificacion:"",datosRepetidos:"",errores:{}}},created:function(){var t=this;this.$Progress.start(),this.getDataUser(2).then(function(a){t.data_usr=a.data,t.cargaConfigIdentificacion(),t.$Progress.finish()}).catch(function(a){t.$toasted.show(a,{type:"error"}),t.$Progress.fail()})},mixins:[yt],methods:{cargaConfigIdentificacion:function(){var t=this;this.$Progress.start(),as.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,as.get(this.$store.state.url_root+"api/auth/restaurant/".concat(this.data_usr.id_restaurant)).then(function(a){t.restauranteObj=a.data.data,t.$Progress.finish()}).catch(function(a){t.$toasted.show("TipoMoneda: "+a,{type:"error"}),t.$Progress.fail()})},cambiaIdentifcacion:function(){var t=this;this.$Progress.start();var a={};a.identificacion=this.new_identificacion,as.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,as.put(this.$store.state.url_root+"api/auth/udpateidentificacacion/".concat(this.data_usr.id_restaurant),a).then(function(a){null==a.data.error?(t.datosRepetidos="El simbolo de la moneda se cambio correctamente",t.new_identificacion="",t.errores={},t.cargaConfigIdentificacion(),t.$Progress.finish()):(t.errores=a.data.error,t.$Progress.fail())}).catch(function(a){t.$toasted.show("TipoMoneda: "+a,{type:"error"}),t.$Progress.fail()})}}},ss=es,rs=Object(d["a"])(ss,Ze,ts,!1,null,null,null),os=rs.exports,is=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("Marco",{attrs:{titulo:"Hoy",icono:"fas fa-chart-bar"}},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:t.getReportToday}},[e("i",{staticClass:"fas fa-sync-alt"})])])])]),t._l(t.date_reportHoy,function(t){return e("div",{key:t.id,staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("CardSucursal",{attrs:{nameSucursal:t.nombre}})],1),e("div",{staticClass:"col-md-4"},[e("CardVenta",{attrs:{fechaActual:t.fecha,cantVentas:parseInt(t.count)}})],1),e("div",{staticClass:"col-md-4"},[e("CardApertura",{attrs:{nombreCaja:t.nombreCaja,fechaActual:t.fecha,montoIni:Number(t.monto_inicial),montoFin:Number(t.monto)}})],1)])})],2)])},ns=[],ls=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"card text-white bg-success mb-3",staticStyle:{"max-width":"18rem"}},[e("div",{staticClass:"card-body"},[e("p",{staticClass:"card-text"},[t._v(t._s(t.cantVentas))])]),e("div",{staticClass:"card-header"},[t._v("VENTAS")])])},cs=[],ds={name:"CardVenta",props:{fechaActual:{type:String,required:!0},cantVentas:{type:Number,require:!0}}},us=ds,ps=(e("f7b6"),Object(d["a"])(us,ls,cs,!1,null,null,null)),ms=ps.exports,fs=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"card text-white bg-info mb-3",staticStyle:{"max-width":"18rem"}},[e("div",{staticClass:"card-body"},[e("h5",{staticClass:"card-title date-card-font"},[t._v(t._s(t.fechaActual))]),e("div",{staticClass:"card-text-caja"},[t._v("\n            Monto Apertura: "+t._s(t.montoIni)+" Bs."),e("br"),t._v("\n            Monto Actual: "+t._s(t.montoFin)+" Bs. \n        ")])]),e("div",{staticClass:"card-header"},[t._v(t._s(t.nombreCaja))])])},vs=[],hs={name:"CardApertura",props:{montoIni:{type:Number,required:!0},montoFin:{type:Number,required:!0},fechaActual:{type:String,required:!0},nombreCaja:{type:String,required:!0}}},bs=hs,gs=(e("54ad"),Object(d["a"])(bs,fs,vs,!1,null,null,null)),_s=gs.exports,Cs=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"card text-white bg-warning mb-3",staticStyle:{"max-width":"18rem"}},[e("div",{staticClass:"card-body"},[e("p",{staticClass:"card-text-sucursal"},[t._v(t._s(t.nameSucursal))])])])},ys=[],Ps={name:"CardSucursal",props:{nameSucursal:{type:String,required:!0}}},$s=Ps,ws=(e("bf60"),Object(d["a"])($s,Cs,ys,!1,null,null,null)),xs=ws.exports,js=e("bc3a"),ks={name:"Hoy",components:{Marco:xt,CardVenta:ms,CardApertura:_s,CardSucursal:xs},created:function(){var t=this;this.$Progress.start(),this.getDataUser(2).then(function(a){t.data_usr=a.data,t.getReportToday(),t.$Progress.finish()}).catch(function(a){t.$toasted.show(a,{type:"error"}),t.$Progress.fail()})},data:function(){return{data_usr:{},date_reportHoy:[]}},mixins:[yt],methods:{getReportToday:function(){var t=this;this.$Progress.start(),js.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,js.get(this.$store.state.url_root+"api/auth/reportehoy/".concat(this.$store.state.id_restaurant)).then(function(a){t.date_reportHoy=a.data.data,t.$Progress.finish()}).catch(function(a){t.$toasted.show("Hoy.vue: "+a,{type:"error"}),t.$Progress.fail()})}}},As=ks,Es=Object(d["a"])(As,is,ns,!1,null,null,null),Ss=Es.exports,Ms=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("Marco",{attrs:{titulo:"Apertura y cierre de cajas",icono:"fas fa-chart-bar"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v("\n                            Sucursal\n                            "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.idSucursal,expression:"idSucursal"}],staticClass:"form-control",on:{change:[function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){var a="_value"in t?t._value:t.value;return a});t.idSucursal=a.target.multiple?e:e[0]},function(a){return t.listaAperturCajas()}]}},[e("option",{attrs:{value:"-1",selected:""}},[t._v("Seleccionar...")]),t._l(t.listaSucursales,function(a){return e("option",{key:a.id_sucursal,domProps:{value:a.id_sucursal}},[t._v(t._s(a.nombre))])})],2)])])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"table-responsive"},[e("table-component",{attrs:{data:t.aperturaCajas,tableClass:"table",theadClass:"head-table",filterPlaceholder:"Buscar...","filter-input-class":"inputSearchText","show-caption":!1}},[e("table-column",{attrs:{show:"nombreSucursal",label:"Sucursal"}}),e("table-column",{attrs:{show:"nombreCaja",label:"Caja"}}),e("table-column",{attrs:{show:"fecha",label:"Fecha"}}),e("table-column",{attrs:{show:"monto_inicial",label:"Monto Apertura"}}),e("table-column",{attrs:{show:"monto",label:"Monto Cierre"}})],1)],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 table-responsive"},[e("Pagination",{attrs:{pagination:t.pagination},on:{funcion:t.listaAperturCajas}})],1)])])])},Ns=[],Bs=e("bc3a"),Ls={name:"CajaReport",components:{Marco:xt,Pagination:bt},created:function(){this.listaSucursalesMethod(),this.listaAperturCajas()},data:function(){return{data_usr:{},pagination:{},aperturaCajas:[],idSucursal:-1,listaSucursales:[]}},mixins:[yt],methods:{listaSucursalesMethod:function(){var t=this;Bs.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,Bs.get(this.$store.state.url_root+"api/auth/sucursalcombo/".concat(this.$store.state.id_restaurant)).then(function(a){t.listaSucursales=a.data.data}).catch(function(a){t.$toasted.show("GestorEmpleados.vue: "+a,{type:"error"})})},listaAperturCajas:function(t){var a=this;this.$Progress.start(),t=t||this.$store.state.url_root+"api/auth/aperturacajas/".concat(this.$store.state.id_restaurant,"/sucursal/").concat(this.idSucursal),Bs.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,Bs.get(t).then(function(t){a.aperturaCajas=t.data.data.data,a.pagination=t.data.data,a.$Progress.finish()}).catch(function(t){a.$toasted.show("CajaReport.vue: "+t,{type:"error"}),a.$Progress.fail()})}}},Rs=Ls,Os=Object(d["a"])(Rs,Ms,Ns,!1,null,null,null),Ds=Os.exports,zs=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("Marco",{attrs:{titulo:"Detalle Ventas",icono:"fas fa-chart-bar"}},[e("div",{staticClass:"container-fluid"},[e("form",{on:{submit:function(a){return a.preventDefault(),t.getDetalleVentas()}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-5"},[e("div",{staticClass:"form-group"},[e("flat-pickr",{staticClass:"form-control input-style",attrs:{config:t.config,placeholder:"Fecha Inicial"},model:{value:t.fecha_ini,callback:function(a){t.fecha_ini=a},expression:"fecha_ini"}})],1)]),e("div",{staticClass:"col-md-5"},[e("div",{staticClass:"form-group"},[e("flat-pickr",{staticClass:"form-control input-style",attrs:{config:t.config,placeholder:"Fecha Fin"},model:{value:t.fecha_fin,callback:function(a){t.fecha_fin=a},expression:"fecha_fin"}})],1)]),e("div",{staticClass:"col-md-2"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Buscar")])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v("\n                        Sucursal\n                        "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.sucursalFiltro,expression:"sucursalFiltro"}],staticClass:"form-control",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){var a="_value"in t?t._value:t.value;return a});t.sucursalFiltro=a.target.multiple?e:e[0]}}},[e("option",{attrs:{value:"-1",selected:""}},[t._v("Seleccionar...")]),t._l(t.listaSucursales,function(a){return e("option",{key:a.id_sucursal,domProps:{value:a.id_sucursal}},[t._v(t._s(a.nombre))])})],2)])])]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v("\n                        Perfil\n                        "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.perfilFiltro,expression:"perfilFiltro"}],staticClass:"form-control",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){var a="_value"in t?t._value:t.value;return a});t.perfilFiltro=a.target.multiple?e:e[0]}}},[e("option",{attrs:{value:"-1",selected:""}},[t._v("Seleccionar...")]),e("option",{attrs:{value:"1"}},[t._v("Cajero")]),e("option",{attrs:{value:"0"}},[t._v("Mozo")])])])])])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"table-responsive"},[e("table-component",{attrs:{data:t.detalleVentasArray,tableClass:"table table-condensed table-bordered",theadClass:"head-table",filterPlaceholder:"Buscar...","filter-input-class":"inputSearchText","show-caption":!1}},[e("table-column",{attrs:{show:"nombreSucursal",label:"Sucursal"}}),e("table-column",{attrs:{show:"fecha",label:"Fecha"}}),e("table-column",{attrs:{show:"nro_venta","data-type":"numeric",label:"Nro"}}),e("table-column",{attrs:{show:"nombre_completo",label:"Cliente"}}),e("table-column",{attrs:{show:"nombre_usuario",label:"Atendido por:"}}),e("table-column",{attrs:{show:"perfil",label:"Perfil"}}),e("table-column",{attrs:{show:"id_venta_producto",label:"Código",sortable:!1}}),e("table-column",{attrs:{show:"total",label:"Total",sortable:!1}}),e("table-column",{attrs:{show:"total_pagar",label:"Total Pagar",sortable:!1}}),e("table-column",{attrs:{show:"efectivo",label:"Efectivo",sortable:!1}}),e("table-column",{attrs:{show:"cambio",label:"Cambio",sortable:!1}}),e("table-column",{attrs:{label:"Cocina",sortable:!1,filterable:!1,"cell-class":"col-center"},scopedSlots:t._u([{key:"default",fn:function(t){return[e("div",{staticClass:"form-check"},[t.estado_atendido?e("input",{staticClass:"form-check-input",attrs:{type:"checkbox",checked:"",disabled:""}}):e("input",{staticClass:"form-check-input",attrs:{type:"checkbox",disabled:""}})])]}}])}),e("table-column",{attrs:{label:"Ver",sortable:!1,filterable:!1,"cell-class":"col-center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("button",{staticClass:"btn btn-info",attrs:{type:"button","data-toggle":"modal","data-target":"#modalDetallePedido"},on:{click:function(e){return t.showDatosPedido(a)}}},[e("i",{staticClass:"fas fa-eye"})])]}}])})],1)],1),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-bordered table-striped table-condensed"},[e("tbody",[e("tr",[e("td",{staticClass:"subtituloPedidos",attrs:{scope:"col"}},[t._v("Total")]),e("td",{attrs:{scope:"col"}},[t._v(t._s(t.totales.total))])]),e("tr",[e("td",{staticClass:"subtituloPedidos",attrs:{scope:"col"}},[t._v("Total a Pagar")]),e("td",{attrs:{scope:"col"}},[t._v(t._s(t.totales.totalpagar))])]),e("tr",[e("td",{staticClass:"subtituloPedidos",attrs:{scope:"col"}},[t._v("Efectivo")]),e("td",{attrs:{scope:"col"}},[t._v(t._s(t.totales.efectivo))])]),e("tr",[e("td",{staticClass:"subtituloPedidos",attrs:{scope:"col"}},[t._v("Cambio")]),e("td",{attrs:{scope:"col"}},[t._v(t._s(t.totales.cambio))])])])])])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 table-responsive"},[e("Pagination",{attrs:{pagination:t.pagination},on:{funcion:t.getDetalleVentas}})],1)]),e("div",{staticClass:"row"},[e("Modal",{attrs:{titulo:"Detalle Pedido",idModal:"modalDetallePedido",icono:"fas fa-clipboard"},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("h5",{staticClass:"sub-cajero"},[t._v("Detalle "),0!=t.nro_pedido?e("span",{staticClass:"style-titulo-pedido"},[t._v("PEDIDO # "+t._s(t.nro_pedido))]):t._e()]),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-bordered table-condensed"},[e("thead",{staticClass:"head-table"},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("Cod")]),e("th",{attrs:{scope:"col"}},[t._v("Cant")]),e("th",{attrs:{scope:"col"}},[t._v("Detalle")]),e("th",{attrs:{scope:"col"}},[t._v("P.Unit")]),e("th",{attrs:{scope:"col"}},[t._v("Importe")])])]),e("tbody",t._l(t.productosArray,function(a){return e("tr",{key:a.id_producto},[e("td",[t._v(t._s(a.id_producto))]),e("td",[t._v(t._s(a.cantidad))]),e("td",[t._v(t._s(a.detalle))]),e("td",[t._v(t._s(parseFloat(a.p_unit).toFixed(2)))]),e("td",[t._v(t._s(parseFloat(a.importe).toFixed(2)))])])}),0)])]),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-bordered table-condensed"},[e("thead",{staticClass:"head-table"},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("Sub total")]),e("th",[t._v(t._s(parseFloat(t.ventaProductoObj.sub_total).toFixed(2))+" "+t._s(t.tipoMoneda))])]),e("tr",[e("th",{attrs:{scope:"col"}},[t._v("Descuento")]),e("th",[t._v(t._s(parseFloat(t.ventaProductoObj.descuento).toFixed(2))+" %")])]),e("tr",[e("th",{attrs:{scope:"col"}},[t._v("Total")]),e("th",[t._v(t._s(parseFloat(t.ventaProductoObj.total).toFixed(2))+" "+t._s(t.tipoMoneda))])])])])])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("h5",{staticClass:"sub-cajero"},[t._v("Cliente")]),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-bordered table-striped table-condensed"},[e("tbody",[e("tr",[e("td",{attrs:{scope:"col"}},[t._v("Señor(es)")]),null!=t.ventaProductoObj.nombre_completo?e("td",[t._v(t._s(t.ventaProductoObj.nombre_completo))]):e("td",[t._v("GENERAL")])]),e("tr",[e("td",{attrs:{scope:"col"}},[t._v(t._s(t.getIdentificacion))]),null!=t.ventaProductoObj.dni?e("td",[t._v(t._s(t.ventaProductoObj.dni))]):e("td",[t._v("GENERAL")])])])])]),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-bordered table-striped table-condensed"},[e("tbody",[e("tr",[e("td",{staticClass:"subtituloPedidos",attrs:{scope:"col"}},[t._v("TOTAL")]),e("td",{staticClass:"subtituloPedidos"},[t._v(t._s(parseFloat(t.ventaProductoObj.total).toFixed(2))+" "+t._s(t.tipoMoneda))])]),e("tr",[e("td",{attrs:{scope:"col"}},[e("i",{staticClass:"far fa-money-bill-alt"}),t._v(" Efectivo")]),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.reg.efectivo,expression:"reg.efectivo"}],staticClass:"form-control",attrs:{type:"number",disabled:""},domProps:{value:t.reg.efectivo},on:{input:function(a){a.target.composing||t.$set(t.reg,"efectivo",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.efectivo}})],1)]),e("tr",[e("td",{attrs:{scope:"col"}},[e("i",{staticClass:"fas fa-money-bill-wave"}),t._v(" Total pagar")]),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.reg.total_pagar,expression:"reg.total_pagar"}],staticClass:"form-control",attrs:{type:"number",disabled:""},domProps:{value:t.reg.total_pagar},on:{input:function(a){a.target.composing||t.$set(t.reg,"total_pagar",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.total_pagar}})],1)]),e("tr",[e("td",{attrs:{scope:"col"}},[e("i",{staticClass:"fab fa-cc-visa"}),t._v(" Visa")]),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.reg.visa,expression:"reg.visa"}],staticClass:"form-control",attrs:{type:"number",disabled:""},domProps:{value:t.reg.visa},on:{input:function(a){a.target.composing||t.$set(t.reg,"visa",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.visa}})],1)]),e("tr",[e("td",{attrs:{scope:"col"}},[e("i",{staticClass:"fab fa-cc-mastercard"}),t._v(" Master Card")]),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.reg.mastercard,expression:"reg.mastercard"}],staticClass:"form-control",attrs:{type:"number",disabled:""},domProps:{value:t.reg.mastercard},on:{input:function(a){a.target.composing||t.$set(t.reg,"mastercard",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.mastercard}})],1)]),e("tr",[e("td",{attrs:{scope:"col"}},[e("i",{staticClass:"fas fa-hand-holding-usd"}),t._v(" Cambio")]),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.reg.cambio,expression:"reg.cambio"}],staticClass:"form-control",attrs:{type:"number",disabled:""},domProps:{value:t.reg.cambio},on:{input:function(a){a.target.composing||t.$set(t.reg,"cambio",a.target.value)}}}),e("ListErrors",{attrs:{errores:t.errores.cambio}})],1)])])])])])])])]},proxy:!0},{key:"footer",fn:function(){return[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.limpiarPedidoDetalles}},[t._v("Cerrar")])]},proxy:!0}])})],1)])])},Fs=[],Is=e("bc3a"),Ts={name:"DetalleVentas",components:{Marco:xt,flatPickr:ya.a,ListErrors:q,Pagination:bt,Modal:zt},created:function(){var t=this;this.$Progress.start(),this.listaSucursalesMethod(),this.getDataUser(2).then(function(a){t.data_usr=a.data,t.getListaClientes(),t.$Progress.finish()}).catch(function(a){t.$toasted.show(a,{type:"error"}),t.$Progress.fail()})},data:function(){var t;return{data_usr:{},detalleVentasArray:[],productosArray:[],pagination:{},nro_pedido:0,ventaProductoObj:{},pagoObj:{},fecha_ini:null,fecha_fin:null,errores:{},totales:{total:0,totalpagar:0,efectivo:0,cambio:0},sucursalFiltro:-1,perfilFiltro:-1,clienteFiltro:-1,usuarioFiltro:-1,listaSucursales:[],ListaClientes:[],ListaUsuarios:[],config:(t={wrap:!0,altFormat:"j/n/Y",altInput:!0,dateFormat:"Y-m-d",allowInput:!0},Object(_a["a"])(t,"wrap",!1),Object(_a["a"])(t,"static",!0),t),reg:{efectivo:0,total_pagar:0,visa:0,mastercard:0,sub_total:0,cambio:0}}},mixins:[yt],computed:{tipoMoneda:function(){return this.$store.state.restauranteData.tipo_moneda},getIdentificacion:function(){return this.$store.state.restauranteData.identificacion}},methods:{listaSucursalesMethod:function(){var t=this;Is.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,Is.get(this.$store.state.url_root+"api/auth/sucursalcombo/".concat(this.$store.state.id_restaurant)).then(function(a){t.listaSucursales=a.data.data}).catch(function(a){t.$toasted.show("DetalleVentas.vue: "+a,{type:"error"})})},getListaClientes:function(){var t=this;this.$Progress.start();var a=this.$store.state.url_root+"api/auth/cliente/restaurant/".concat(this.data_usr.id_restaurant);Is.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,Is.get(a).then(function(a){t.ListaClientes=a.data.data,t.$Progress.finish()}).catch(function(a){t.$toasted.show("NuevoPedido.vue: "+a,{type:"error"}),t.$Progress.fail()})},getDetalleVentas:function(t){var a=this;t=t||this.$store.state.url_root+"api/auth/detalleventas/".concat(this.$store.state.id_restaurant,"/fechaini/").concat(this.fecha_ini,"/fechafin/").concat(this.fecha_fin,"/sucursal/").concat(this.sucursalFiltro,"/perfil/").concat(this.perfilFiltro),this.$Progress.start(),Is.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,Is.get(t).then(function(t){a.totales=t.data.totales[0],a.detalleVentasArray=t.data.data.data,a.pagination=t.data.data,a.$Progress.finish()}).catch(function(t){a.$toasted.show("DetalleVentas.vue: "+t,{type:"error"}),a.$Progress.fail()})},showDatosPedido:function(t){var a=this;this.$Progress.start(),this.nro_pedido=t.nro_venta;var e=this.$store.state.url_root+"api/auth/productovendido/pedido/".concat(t.id_venta_producto);Is.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,Is.get(e).then(function(t){a.productosArray=t.data.data,a.ventaProductoObj=t.data.vprod[0],a.pagoObj=t.data.vpag[0],null==a.pagoObj?a.reg={efectivo:0,total_pagar:0,visa:0,mastercard:0,sub_total:0,cambio:0}:a.reg=a.pagoObj,a.$Progress.finish()}).catch(function(t){a.$toasted.show("DetallePedido.vue: "+t,{type:"error"}),a.$Progress.fail()})},limpiarPedidoDetalles:function(){this.productosArray=[],this.ventaProductoObj={},this.reg={}}}},Us=Ts,qs=(e("36f1"),Object(d["a"])(Us,zs,Fs,!1,null,null,null)),Gs=qs.exports,Hs=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("Marco",{attrs:{titulo:"Estadísticas",icono:"fas fa-chart-bar"}},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("EmpleadoPedido")],1),e("div",{staticClass:"row"},[e("ProductoCantidad")],1),e("div",{staticClass:"row"},[e("ProductoImporte")],1),e("div",{staticClass:"row"},[e("FechaPedido")],1),e("div",{staticClass:"row"},[e("FechaImporte")],1)])])},Vs=[],Ys=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-md-12"},[t._m(0),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"form-group"},[e("flat-pickr",{staticClass:"form-control input-style",attrs:{config:t.config,placeholder:"Fecha Ini"},model:{value:t.fecha.ini,callback:function(a){t.$set(t.fecha,"ini",a)},expression:"fecha.ini"}}),e("ListErrors",{attrs:{errores:t.errores.ini}})],1)]),e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"form-group"},[e("flat-pickr",{staticClass:"form-control input-style",attrs:{config:t.config,placeholder:"Fecha Fin"},model:{value:t.fecha.fin,callback:function(a){t.$set(t.fecha,"fin",a)},expression:"fecha.fin"}}),e("ListErrors",{attrs:{errores:t.errores.fin}})],1)]),e("div",{staticClass:"col-md-4"},[e("button",{ref:"btnBuscarRef",staticClass:"btn btn-primary float-right",on:{click:function(a){return t.empleadoPedidoMethod()}}},[t._v("Buscar")])])]),t.loaded?e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 table-responsive"},[e("BarChart",{attrs:{"chart-data":t.empleadoPedidoCollection,options:t.options}})],1),e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 table-responsive"},[e("table-component",{attrs:{data:t.empleadoPedidoTableArray,tableClass:"table table-bordered table-condensed",theadClass:"head-table",filterPlaceholder:"Buscar...","filter-input-class":"inputSearchText","show-caption":!1}},[e("table-column",{attrs:{show:"nombre_usuario",label:"Usuario"}}),e("table-column",{attrs:{show:"perfil",label:"Perfil"}}),e("table-column",{attrs:{show:"pedidos",label:"Pedidos"}})],1)],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 table-responsive"},[e("Pagination",{attrs:{pagination:t.pagination},on:{funcion:t.empleadoPedidoMethod}})],1)])])]):t._e()])},Js=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("h4",{staticClass:"sub-cajero"},[t._v("Empleado vs Pedido")])])])}],Qs=e("1fca"),Ks=(e("bc3a"),Qs["c"].reactiveProp),Ws={name:"BarChart",mixins:[Ks],props:["options"],extends:Qs["a"],mounted:function(){this.renderChartBar()},computed:{chartDataComputed:function(){return this.chartData}},methods:{renderChartBar:function(){this.renderChart(this.chartDataComputed,this.options)}}},Xs=Ws,Zs=Object(d["a"])(Xs,s,r,!1,null,null,null),tr=Zs.exports,ar=e("bc3a"),er={name:"EmpleadoPedido",components:{flatPickr:ya.a,BarChart:tr,Pagination:bt,ListErrors:q},data:function(){var t;return{loaded:!1,empleadoPedidoArray:[],empleadoPedidoTableArray:[],pagination:{},empleadoPedidoCollection:null,labels:[],pedidos:[],errores:{},fecha:{ini:null,fin:null},config:(t={wrap:!0,altFormat:"j/n/Y",altInput:!0,dateFormat:"Y-m-d",allowInput:!0},Object(_a["a"])(t,"wrap",!1),Object(_a["a"])(t,"static",!0),t),options:{responsive:!0,maintainAspectRatio:!1}}},methods:{empleadoPedidoMethod:function(t){var a=this;this.$Progress.start(),this.$refs.btnBuscarRef.className="btn btn-primary float-right disabled",t=t||this.$store.state.url_root+"api/auth/empleadopedido/".concat(this.$store.state.id_restaurant,"/fechaini/").concat(this.fecha.ini,"/fechafin/").concat(this.fecha.fin),this.labels=[],this.pedidos=[],ar.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,ar.get(t).then(function(t){null==t.data.error?(a.errores={},a.empleadoPedidoArray=t.data.data,a.empleadoPedidoTableArray=t.data.dataT.data,a.pagination=t.data.dataT,a.empleadoPedidoArray.forEach(function(t){a.labels.push(t.nombre_usuario),a.pedidos.push(t.pedidos)}),a.empleadoPedidoCollection={labels:a.labels,datasets:[{label:"Empleado",backgroundColor:"#22b373",data:a.pedidos}]},a.loaded=!0,a.$refs.btnBuscarRef.className="btn btn-primary float-right",a.$Progress.finish()):(a.errores=t.data.error,a.$refs.btnBuscarRef.className="btn btn-primary float-right",a.$Progress.fail())}).catch(function(t){a.$toasted.show("Estadisticas.vue: "+t,{type:"error"}),a.$Progress.fail(),a.$refs.btnBuscarRef.className="btn btn-primary float-right"})}}},sr=er,rr=Object(d["a"])(sr,Ys,Js,!1,null,null,null),or=rr.exports,ir=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-md-12"},[t._m(0),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-3"},[e("div",{staticClass:"form-group"},[e("flat-pickr",{staticClass:"form-control input-style",attrs:{config:t.config,placeholder:"Fecha Ini"},model:{value:t.fecha.ini,callback:function(a){t.$set(t.fecha,"ini",a)},expression:"fecha.ini"}}),e("ListErrors",{attrs:{errores:t.errores.ini}})],1)]),e("div",{staticClass:"col-md-3"},[e("div",{staticClass:"form-group"},[e("flat-pickr",{staticClass:"form-control input-style",attrs:{config:t.config,placeholder:"Fecha Fin"},model:{value:t.fecha.fin,callback:function(a){t.$set(t.fecha,"fin",a)},expression:"fecha.fin"}}),e("ListErrors",{attrs:{errores:t.errores.fin}})],1)]),e("div",{staticClass:"col-md-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.comboCategorias,expression:"comboCategorias"}],staticClass:"form-control input-style",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){var a="_value"in t?t._value:t.value;return a});t.comboCategorias=a.target.multiple?e:e[0]}}},[e("option",{attrs:{value:"-1",selected:""}},[t._v("Categoria...")]),t._l(t.listaCategoria,function(a){return e("option",{key:a.id_categoria_producto,domProps:{value:a.id_categoria_producto}},[t._v(t._s(a.nombre))])})],2)])])]),e("div",{staticClass:"col-md-3"},[e("button",{ref:"btnBuscarRef",staticClass:"btn btn-primary float-right",on:{click:function(a){return t.productoCantidadMethod()}}},[t._v("Buscar")])])]),t.loaded?e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 table-responsive"},[e("BarChart",{attrs:{"chart-data":t.empleadoPedidoCollection,options:t.options}})],1),e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 table-responsive"},[e("table-component",{attrs:{data:t.productoCantidadTableArray,tableClass:"table table-bordered table-condensed",theadClass:"head-table",filterPlaceholder:"Buscar...","filter-input-class":"inputSearchText","show-caption":!1}},[e("table-column",{attrs:{show:"nom_producto",label:"Producto"}}),e("table-column",{attrs:{show:"nom_categoria",label:"Categoría"}}),e("table-column",{attrs:{show:"cantidad",label:"Cantidad"}})],1)],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 table-responsive"},[e("Pagination",{attrs:{pagination:t.pagination},on:{funcion:t.productoCantidadMethod}})],1)])])]):t._e()])},nr=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("h4",{staticClass:"sub-cajero"},[t._v("Producto vs Cantidad")])])])}],lr=e("bc3a"),cr={name:"ProductoCantidad",components:{flatPickr:ya.a,BarChart:tr,Pagination:bt,ListErrors:q},data:function(){var t;return{comboCategorias:-1,listaCategoria:[],loaded:!1,productoCantidadArray:[],productoCantidadTableArray:[],pagination:{},empleadoPedidoCollection:null,labels:[],cantidad:[],errores:{},fecha:{ini:null,fin:null},config:(t={wrap:!0,altFormat:"j/n/Y",altInput:!0,dateFormat:"Y-m-d",allowInput:!0},Object(_a["a"])(t,"wrap",!1),Object(_a["a"])(t,"static",!0),t),options:{responsive:!0,maintainAspectRatio:!1}}},created:function(){this.comboCategoria()},methods:{comboCategoria:function(){var t=this;this.$Progress.start(),lr.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,lr.get(this.$store.state.url_root+"api/auth/cproducto/restaurant/".concat(this.$store.state.id_restaurant)).then(function(a){t.listaCategoria=a.data.data,t.$Progress.finish()}).catch(function(a){t.$toasted.show("Productos.vue: "+a,{type:"error"}),t.$Progress.fail()})},productoCantidadMethod:function(t){var a=this;this.$Progress.start(),this.$refs.btnBuscarRef.className="btn btn-primary float-right disabled",t=t||this.$store.state.url_root+"api/auth/productocantidad/".concat(this.$store.state.id_restaurant,"/categoria/").concat(this.comboCategorias,"/fechaini/").concat(this.fecha.ini,"/fechafin/").concat(this.fecha.fin),this.labels=[],this.cantidad=[],lr.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,lr.get(t).then(function(t){null==t.data.error?(a.errores={},a.productoCantidadArray=t.data.data,a.productoCantidadTableArray=t.data.dataT.data,a.pagination=t.data.dataT,a.productoCantidadArray.forEach(function(t){a.labels.push(t.nom_producto),a.cantidad.push(t.cantidad)}),a.empleadoPedidoCollection={labels:a.labels,datasets:[{label:"Producto",backgroundColor:"#9c27b0",data:a.cantidad}]},a.loaded=!0,a.$refs.btnBuscarRef.className="btn btn-primary float-right",a.$Progress.finish()):(a.errores=t.data.error,a.$refs.btnBuscarRef.className="btn btn-primary float-right",a.$Progress.fail())}).catch(function(t){a.$toasted.show("ProductoCantidad.vue: "+t,{type:"error"}),a.$Progress.fail(),a.$refs.btnBuscarRef.className="btn btn-primary float-right"})}}},dr=cr,ur=Object(d["a"])(dr,ir,nr,!1,null,null,null),pr=ur.exports,mr=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-md-12"},[t._m(0),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-3"},[e("div",{staticClass:"form-group"},[e("flat-pickr",{staticClass:"form-control input-style",attrs:{config:t.config,placeholder:"Fecha Ini"},model:{value:t.fecha.ini,callback:function(a){t.$set(t.fecha,"ini",a)},expression:"fecha.ini"}}),e("ListErrors",{attrs:{errores:t.errores.ini}})],1)]),e("div",{staticClass:"col-md-3"},[e("div",{staticClass:"form-group"},[e("flat-pickr",{staticClass:"form-control input-style",attrs:{config:t.config,placeholder:"Fecha Fin"},model:{value:t.fecha.fin,callback:function(a){t.$set(t.fecha,"fin",a)},expression:"fecha.fin"}}),e("ListErrors",{attrs:{errores:t.errores.fin}})],1)]),e("div",{staticClass:"col-md-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.comboCategorias,expression:"comboCategorias"}],staticClass:"form-control input-style",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){var a="_value"in t?t._value:t.value;return a});t.comboCategorias=a.target.multiple?e:e[0]}}},[e("option",{attrs:{value:"-1",selected:""}},[t._v("Categoria...")]),t._l(t.listaCategoria,function(a){return e("option",{key:a.id_categoria_producto,domProps:{value:a.id_categoria_producto}},[t._v(t._s(a.nombre))])})],2)])])]),e("div",{staticClass:"col-md-3"},[e("button",{ref:"btnBuscarRef",staticClass:"btn btn-primary float-right",on:{click:function(a){return t.productoImporteMethod()}}},[t._v("Buscar")])])]),t.loaded?e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 table-responsive"},[e("BarChart",{attrs:{"chart-data":t.empleadoImporteCollection,options:t.options}})],1),e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 table-responsive"},[e("table-component",{attrs:{data:t.productoImporteTableArray,tableClass:"table table-bordered table-condensed",theadClass:"head-table",filterPlaceholder:"Buscar...","filter-input-class":"inputSearchText","show-caption":!1}},[e("table-column",{attrs:{show:"nom_producto",label:"Producto"}}),e("table-column",{attrs:{show:"nom_categoria",label:"Categoría"}}),e("table-column",{attrs:{show:"importe",label:"Importe"}})],1)],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 table-responsive"},[e("Pagination",{attrs:{pagination:t.pagination},on:{funcion:t.productoImporteMethod}})],1)])])]):t._e()])},fr=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("h4",{staticClass:"sub-cajero"},[t._v("Producto vs Importe")])])])}],vr=e("bc3a"),hr={name:"ProductoImporte",components:{flatPickr:ya.a,BarChart:tr,Pagination:bt,ListErrors:q},data:function(){var t;return{comboCategorias:-1,listaCategoria:[],loaded:!1,productoImporteArray:[],productoImporteTableArray:[],pagination:{},empleadoImporteCollection:null,labels:[],importe:[],errores:{},fecha:{ini:null,fin:null},config:(t={wrap:!0,altFormat:"j/n/Y",altInput:!0,dateFormat:"Y-m-d",allowInput:!0},Object(_a["a"])(t,"wrap",!1),Object(_a["a"])(t,"static",!0),t),options:{responsive:!0,maintainAspectRatio:!1}}},created:function(){this.comboCategoria()},methods:{comboCategoria:function(){var t=this;this.$Progress.start(),vr.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,vr.get(this.$store.state.url_root+"api/auth/cproducto/restaurant/".concat(this.$store.state.id_restaurant)).then(function(a){t.listaCategoria=a.data.data,t.$Progress.finish()}).catch(function(a){t.$toasted.show("Productos.vue: "+a,{type:"error"}),t.$Progress.fail()})},productoImporteMethod:function(t){var a=this;this.$Progress.start(),this.$refs.btnBuscarRef.className="btn btn-primary float-right disabled",t=t||this.$store.state.url_root+"api/auth/productoimporte/".concat(this.$store.state.id_restaurant,"/categoria/").concat(this.comboCategorias,"/fechaini/").concat(this.fecha.ini,"/fechafin/").concat(this.fecha.fin),this.labels=[],this.importe=[],vr.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,vr.get(t).then(function(t){null==t.data.error?(a.errores={},a.productoImporteArray=t.data.data,a.productoImporteTableArray=t.data.dataT.data,a.pagination=t.data.dataT,a.productoImporteArray.forEach(function(t){a.labels.push(t.nom_producto),a.importe.push(t.importe)}),a.empleadoImporteCollection={labels:a.labels,datasets:[{label:"Producto",backgroundColor:"#ffaa00",data:a.importe}]},a.loaded=!0,a.$refs.btnBuscarRef.className="btn btn-primary float-right",a.$Progress.finish()):(a.errores=t.data.error,a.$refs.btnBuscarRef.className="btn btn-primary float-right",a.$Progress.fail())}).catch(function(t){a.$toasted.show("ProductoImporte.vue: "+t,{type:"error"}),a.$Progress.fail(),a.$refs.btnBuscarRef.className="btn btn-primary float-right"})}}},br=hr,gr=Object(d["a"])(br,mr,fr,!1,null,null,null),_r=gr.exports,Cr=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-md-12"},[t._m(0),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"form-group"},[e("flat-pickr",{staticClass:"form-control input-style",attrs:{config:t.config,placeholder:"Fecha Ini"},model:{value:t.fecha.ini,callback:function(a){t.$set(t.fecha,"ini",a)},expression:"fecha.ini"}}),e("ListErrors",{attrs:{errores:t.errores.ini}})],1)]),e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"form-group"},[e("flat-pickr",{staticClass:"form-control input-style",attrs:{config:t.config,placeholder:"Fecha Fin"},model:{value:t.fecha.fin,callback:function(a){t.$set(t.fecha,"fin",a)},expression:"fecha.fin"}}),e("ListErrors",{attrs:{errores:t.errores.fin}})],1)]),e("div",{staticClass:"col-md-4"},[e("button",{ref:"btnBuscarRef",staticClass:"btn btn-primary float-right",on:{click:function(a){return t.fechaPedidoMethod()}}},[t._v("Buscar")])])]),t.loaded?e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 table-responsive"},[t.empleadoPedidoTableArray.length>1?e("LineChart",{attrs:{"chart-data":t.empleadoPedidoCollection,options:t.options}}):t._e()],1),e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 table-responsive"},[e("table-component",{attrs:{data:t.empleadoPedidoTableArray,tableClass:"table table-bordered table-condensed",theadClass:"head-table",filterPlaceholder:"Buscar...","filter-input-class":"inputSearchText","show-caption":!1}},[e("table-column",{attrs:{show:"fecha",label:"Fecha"}}),e("table-column",{attrs:{show:"pedidos",label:"Pedidos"}})],1)],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 table-responsive"},[e("Pagination",{attrs:{pagination:t.pagination},on:{funcion:t.fechaPedidoMethod}})],1)])])]):t._e()])},yr=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("h4",{staticClass:"sub-cajero"},[t._v("Fecha vs Pedidos")])])])}],Pr=(e("bc3a"),Qs["c"].reactiveProp),$r={name:"LineChart",mixins:[Pr],props:["options"],extends:Qs["b"],mounted:function(){this.renderChartBar()},computed:{chartDataComputed:function(){return this.chartData}},methods:{renderChartBar:function(){this.renderChart(this.chartDataComputed,this.options)}}},wr=$r,xr=Object(d["a"])(wr,o,i,!1,null,null,null),jr=xr.exports,kr=e("bc3a"),Ar={name:"FechaPedido",components:{flatPickr:ya.a,LineChart:jr,Pagination:bt,ListErrors:q},data:function(){var t;return{loaded:!1,empleadoPedidoArray:[],empleadoPedidoTableArray:[],pagination:{},errores:{},empleadoPedidoCollection:null,labels:[],pedidos:[],fecha:{ini:null,fin:null},config:(t={wrap:!0,altFormat:"j/n/Y",altInput:!0,dateFormat:"Y-m-d",allowInput:!0},Object(_a["a"])(t,"wrap",!1),Object(_a["a"])(t,"static",!0),t),options:{responsive:!0,maintainAspectRatio:!1}}},methods:{fechaPedidoMethod:function(t){var a=this;this.$Progress.start(),this.$refs.btnBuscarRef.className="btn btn-primary float-right disabled",t=t||this.$store.state.url_root+"api/auth/fechapedido/".concat(this.$store.state.id_restaurant,"/fechaini/").concat(this.fecha.ini,"/fechafin/").concat(this.fecha.fin),this.labels=[],this.pedidos=[],kr.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,kr.get(t).then(function(t){null==t.data.error?(a.errores={},a.empleadoPedidoArray=t.data.data,a.empleadoPedidoTableArray=t.data.dataT.data,a.pagination=t.data.dataT,a.empleadoPedidoArray.forEach(function(t){a.labels.push(t.fecha),a.pedidos.push(t.pedidos)}),a.empleadoPedidoCollection={labels:a.labels,datasets:[{label:"Pedidos",borderColor:"#f44336",data:a.pedidos}]},a.loaded=!0,a.$refs.btnBuscarRef.className="btn btn-primary float-right",a.$Progress.finish()):(a.errores=t.data.error,a.$refs.btnBuscarRef.className="btn btn-primary float-right",a.$Progress.fail())}).catch(function(t){a.$toasted.show("Estadisticas.vue: "+t,{type:"error"}),a.$Progress.fail(),a.$refs.btnBuscarRef.className="btn btn-primary float-right"})}}},Er=Ar,Sr=Object(d["a"])(Er,Cr,yr,!1,null,null,null),Mr=Sr.exports,Nr=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-md-12"},[t._m(0),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"form-group"},[e("flat-pickr",{staticClass:"form-control input-style",attrs:{config:t.config,placeholder:"Fecha Ini"},model:{value:t.fecha.ini,callback:function(a){t.$set(t.fecha,"ini",a)},expression:"fecha.ini"}}),e("ListErrors",{attrs:{errores:t.errores.ini}})],1)]),e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"form-group"},[e("flat-pickr",{staticClass:"form-control input-style",attrs:{config:t.config,placeholder:"Fecha Fin"},model:{value:t.fecha.fin,callback:function(a){t.$set(t.fecha,"fin",a)},expression:"fecha.fin"}}),e("ListErrors",{attrs:{errores:t.errores.fin}})],1)]),e("div",{staticClass:"col-md-4"},[e("button",{ref:"btnBuscarRef",staticClass:"btn btn-primary float-right",on:{click:function(a){return t.fechaImporteMethod()}}},[t._v("Buscar")])])]),t.loaded?e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 table-responsive"},[t.empleadoPedidoTableArray.length>1?e("LineChart",{attrs:{"chart-data":t.empleadoPedidoCollection,options:t.options}}):t._e()],1),e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 table-responsive"},[e("table-component",{attrs:{data:t.empleadoPedidoTableArray,tableClass:"table table-bordered table-condensed",theadClass:"head-table",filterPlaceholder:"Buscar...","filter-input-class":"inputSearchText","show-caption":!1}},[e("table-column",{attrs:{show:"fecha",label:"Fecha"}}),e("table-column",{attrs:{show:"importe",label:"Importe"}})],1)],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 table-responsive"},[e("Pagination",{attrs:{pagination:t.pagination},on:{funcion:t.fechaImporteMethod}})],1)])])]):t._e()])},Br=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("h4",{staticClass:"sub-cajero"},[t._v("Fecha vs Importe")])])])}],Lr=e("bc3a"),Rr={name:"FechaImporte",components:{flatPickr:ya.a,LineChart:jr,Pagination:bt,ListErrors:q},data:function(){var t;return{loaded:!1,empleadoPedidoArray:[],empleadoPedidoTableArray:[],pagination:{},errores:{},empleadoPedidoCollection:null,labels:[],pedidos:[],fecha:{ini:null,fin:null},config:(t={wrap:!0,altFormat:"j/n/Y",altInput:!0,dateFormat:"Y-m-d",allowInput:!0},Object(_a["a"])(t,"wrap",!1),Object(_a["a"])(t,"static",!0),t),options:{responsive:!0,maintainAspectRatio:!1}}},methods:{fechaImporteMethod:function(t){var a=this;this.$Progress.start(),this.$refs.btnBuscarRef.className="btn btn-primary float-right disabled",t=t||this.$store.state.url_root+"api/auth/fechaimporte/".concat(this.$store.state.id_restaurant,"/fechaini/").concat(this.fecha.ini,"/fechafin/").concat(this.fecha.fin),this.labels=[],this.pedidos=[],Lr.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,Lr.get(t).then(function(t){null==t.data.error?(a.errores={},a.empleadoPedidoArray=t.data.data,a.empleadoPedidoTableArray=t.data.dataT.data,a.pagination=t.data.dataT,a.empleadoPedidoArray.forEach(function(t){a.labels.push(t.fecha),a.pedidos.push(t.importe)}),a.empleadoPedidoCollection={labels:a.labels,datasets:[{label:"Importe",borderColor:"#6141f9",data:a.pedidos}]},a.loaded=!0,a.$refs.btnBuscarRef.className="btn btn-primary float-right",a.$Progress.finish()):(a.errores=t.data.error,a.$refs.btnBuscarRef.className="btn btn-primary float-right",a.$Progress.fail())}).catch(function(t){a.$toasted.show("Estadisticas.vue: "+t,{type:"error"}),a.$Progress.fail(),a.$refs.btnBuscarRef.className="btn btn-primary float-right"})}}},Or=Rr,Dr=Object(d["a"])(Or,Nr,Br,!1,null,null,null),zr=Dr.exports,Fr={name:"Estadisticas",components:{Marco:xt,EmpleadoPedido:or,ProductoCantidad:pr,ProductoImporte:_r,FechaPedido:Mr,FechaImporte:zr},created:function(){var t=this;this.$Progress.start(),this.getDataUser(2).then(function(a){t.data_usr=a.data,t.$Progress.finish()}).catch(function(a){t.$toasted.show(a,{type:"error"}),t.$Progress.fail()})},data:function(){return{data_usr:{}}},mixins:[yt]},Ir=Fr,Tr=Object(d["a"])(Ir,Hs,Vs,!1,null,null,null),Ur=Tr.exports,qr=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("Marco",{attrs:{titulo:"Atencion cocina",icono:"fas fa-table"}},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-3"},[e("h3",{staticClass:"sub-cajero"},[e("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(a){return t.getPedidosArray()}}},[e("i",{staticClass:"fas fa-sync-alt"})]),t._v(" Pedidos")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.buscaPedido,expression:"buscaPedido"}],staticClass:"form-control input-style",attrs:{type:"text",placeholder:"Buscar..."},domProps:{value:t.buscaPedido},on:{input:function(a){a.target.composing||(t.buscaPedido=a.target.value)}}}),e("div",{staticClass:"contenedor-pedidos"},t._l(t.matchPedidos,function(a){return e("ContainerPedidos",{key:a.venta_producto,attrs:{pedidoObj:a},on:{sendPedidoMethod:t.showDatosPedido}})}),1)]),e("div",{staticClass:"col-md-9"},[e("h5",{staticClass:"sub-cajero"},[t._v("Cliente")]),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-bordered table-striped table-condensed"},[e("tbody",[e("tr",[e("td",{attrs:{scope:"col"}},[t._v("Señor(es)")]),e("td",[t._v(t._s(t.ventaProductoObj.nombre_completo))])]),e("tr",[e("td",{attrs:{scope:"col"}},[t._v(t._s(t.getIdentificacion))]),e("td",[t._v(t._s(t.ventaProductoObj.dni))])])])])]),e("h5",{staticClass:"sub-cajero"},[t._v("Detalle "),0!=t.nro_pedido?e("span",{staticClass:"style-titulo-pedido"},[t._v("PEDIDO # "+t._s(t.nro_pedido))]):t._e()]),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-bordered table-condensed"},[e("thead",{staticClass:"head-table"},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("Cod")]),e("th",{attrs:{scope:"col"}},[t._v("Cant")]),e("th",{attrs:{scope:"col"}},[t._v("Detalle")]),e("th",{attrs:{scope:"col"}},[t._v("P.Unit")]),e("th",{attrs:{scope:"col"}},[t._v("Importe")]),e("th",{attrs:{scope:"col"}},[t._v("Nota")])])]),e("tbody",t._l(t.productosArray,function(a){return e("tr",{key:a.id_producto},[e("td",[t._v(t._s(a.id_producto))]),e("td",[t._v(t._s(a.cantidad))]),e("td",[t._v(t._s(a.detalle))]),e("td",[t._v(t._s(parseFloat(a.p_unit).toFixed(2)))]),e("td",[t._v(t._s(parseFloat(a.importe).toFixed(2)))]),e("td",[t._v(t._s(a.nota))])])}),0)])]),e("div",{directives:[{name:"show",rawName:"v-show",value:0!=t.swBoton,expression:"swBoton != false"}]},[e("button",{ref:"btnAtendido",staticClass:"btn btn-primary",on:{click:t.cambiaEstadoAtendidoMethod}},[e("div",{staticClass:"form-check"},[e("label",{staticClass:"form-check-label",attrs:{for:"defaultCheck2"}},[t.ventaProductoObj.estado_atendido?e("input",{staticClass:"form-check-input",attrs:{type:"checkbox",value:"",id:"defaultCheck2",disabled:"",checked:""}}):e("input",{staticClass:"form-check-input",attrs:{type:"checkbox",value:"",id:"defaultCheck2",disabled:""}}),t._v("\n                                Atendido\n                            ")])])])])])])])])},Gr=[],Hr=e("bc3a"),Vr={name:"CocinaPedidos",components:{Marco:xt,ContainerPedidos:Be},data:function(){return{pedidosArray:[],buscaPedido:"",data_usr:{},type_user:this.$store.state.type_user,productosArray:[],nro_pedido:0,ventaProductoObj:{total:0,sub_total:0,descuento:0,nombre_cliente:""},swBoton:!1}},mixins:[yt],created:function(){var t=this;this.$Progress.start(),this.getDataUser(this.type_user).then(function(a){t.data_usr=a.data,t.getPedidosArray(),t.$Progress.finish()}).catch(function(a){t.$toasted.show(a,{type:"error"}),t.$Progress.fail()})},computed:{matchPedidos:function(){var t=this;return this.pedidosArray.filter(function(a){var e=t.buscaPedido.trim().toUpperCase(),s=a.nombre_completo;null==s&&(s="");var r=s.toUpperCase(),o=a.id_venta_producto.toString();return r.match(e)||o.match(e)})},getIdentificacion:function(){return this.$store.state.restauranteData.identificacion}},methods:{getPedidosArray:function(){var t=this;this.$Progress.start();var a=this.$store.state.url_root+"api/auth/ventaproductos/sucursal/".concat(this.data_usr.id_sucursal);Hr.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,Hr.get(a).then(function(a){t.pedidosArray=a.data.data,t.$Progress.finish()}).catch(function(a){t.$toasted.show("CocinaPedido.vue: "+a,{type:"error"}),t.$Progress.fail()})},showDatosPedido:function(t){var a=this;this.$Progress.start(),this.nro_pedido=t.nro_venta,this.$store.dispatch("indicePedidosActiveAction",t.id_venta_producto);var e=this.$store.state.url_root+"api/auth/productovendido/pedido/".concat(t.id_venta_producto);Hr.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,Hr.get(e).then(function(t){a.swBoton=!0,a.productosArray=t.data.data,a.ventaProductoObj=t.data.vprod[0],a.ventaProductoObj.estado_atendido?a.$refs.btnAtendido.className="btn btn-primary disabled":a.$refs.btnAtendido.className="btn btn-primary",a.$Progress.finish()}).catch(function(t){a.$toasted.show("CocinaPedido.vue: "+t,{type:"error"}),a.$Progress.fail()})},cambiaEstadoAtendidoMethod:function(){var t=this,a=confirm("Confirmar atención del pedido");if(a){this.$Progress.start();var e=this.$store.state.url_root+"api/auth/estadoatendido/".concat(this.ventaProductoObj.id_venta_producto);Hr.defaults.headers.common["Authorization"]="Bearer "+this.$store.state.token,Hr.get(e).then(function(a){t.ventaProductoObj.estado_atendido=a.data.data.estado_atendido,t.$refs.btnAtendido.className="btn btn-primary disabled",t.getPedidosArray(),t.$Progress.finish()}).catch(function(a){t.$toasted.show("CocinaPedido.vue: "+a,{type:"error"}),t.$Progress.fail()})}}}},Yr=Vr,Jr=Object(d["a"])(Yr,qr,Gr,!1,null,null,null),Qr=Jr.exports;n["a"].use(f["a"]);var Kr=new f["a"]({mode:"history",base:"/",routes:[{path:"/",name:"login",component:st},{path:"/superadmin",name:"superadmin",component:la},{path:"/logout",name:"logout",component:ct,meta:{requiresAuth:!0,requiresAllUsers:!0}},{name:"facturacocina",path:"/facturacocina",component:ne,meta:{requiresAuth:!0}},{path:"/main",name:"main",component:B,meta:{requiresAuth:!0},children:[{name:"configdni",path:"configdni",component:os,meta:{requiresRolAdministrador:!0}},{name:"tipomoneda",path:"tipomoneda",component:He,meta:{requiresRolAdministrador:!0}},{name:"sucursal",path:"sucursal",component:St,meta:{requiresRolAdministrador:!0}},{name:"caja",path:"caja",component:Kt,meta:{requiresRolAdministrador:!0}},{name:"gestorempleados",path:"gestorempleados",component:Ba,meta:{requiresRolAdministrador:!0}},{name:"categoriproductos",path:"categoriproductos",component:Ia,meta:{requiresRolAdministrador:!0}},{name:"productos",path:"productos",component:Za,meta:{requiresRolAdministrador:!0}},{name:"hoy",path:"hoy",component:Ss,meta:{requiresRolAdministrador:!0}},{name:"detalleventas",path:"detalleventas",component:Gs,meta:{requiresRolAdministrador:!0}},{name:"estadisticas",path:"estadisticas",component:Ur,meta:{requiresRolAdministrador:!0}},{name:"cajareport",path:"cajareport",component:Ds,meta:{requiresRolAdministrador:!0}},{name:"nuevopedido",path:"nuevopedido",component:ge,meta:{requiresCajeroOrMozo:!0}},{name:"aperturacierre",path:"aperturacierre",component:xe,meta:{requiresRolCajero:!0}},{name:"historialpedidos",path:"historialpedidos",component:ze,meta:{requiresCajeroOrMozo:!0}},{name:"password",path:"password",component:Xe,meta:{requiresAllUsers:!0}},{name:"cocinapedidos",path:"cocinapedidos",component:Qr,meta:{requiresCocinero:!0}},{name:"restaurant",path:"restaurant",component:va,meta:{requiresAuth:!0,requiresSuperAdmin:!0}},{name:"sucursales",path:"sucursales",component:qt,meta:{requiresAuth:!0,requiresSuperAdmin:!0}},{name:"administrador",path:"administrador",component:ja,meta:{requiresAuth:!0,requiresSuperAdmin:!0}}]}]}),Wr=e("2f62"),Xr=e("bc3a");n["a"].use(Wr["a"]);var Zr=new Wr["a"].Store({state:{token:localStorage.getItem("access_token")||null,url_root:"http://localhost/tauranet/public/",type_user:localStorage.getItem("type_user")||null,id_restaurant:localStorage.getItem("idRestaurante")||null,sexo:localStorage.getItem("sex")||null,restauranteData:{},indicePedidosActive:0,fotoPerfil:localStorage.getItem("fotoPerfil")||null},getters:{loggedIn:function(t){return null!=t.token}},mutations:{retrieveDataRestaurantMutation:function(t,a){t.restauranteData=a},retrieveToken:function(t,a){t.token=a},destroyToken:function(t){t.token=null},changeTypeUser:function(t,a){t.type_user=a},destroyTypeUser:function(t){t.type_user=null},getIdRestaurant:function(t,a){t.id_restaurant=a},destroyIdRestaurant:function(t){t.id_restaurant=null},retrieveSexo:function(t,a){t.sexo=a,a?(t.fotoPerfil="perfil-masculino.svg",localStorage.setItem("fotoPerfil","perfil-masculino.svg")):(t.fotoPerfil="perfil-femenino.svg",localStorage.setItem("fotoPerfil","perfil-femenino.svg"))},destroySexo:function(t){t.sexo=null,t.fotoPerfil=null},indicePedidosActiveMutation:function(t,a){t.indicePedidosActive=a}},actions:{retrieveToken:function(t,a){var e="";return 0==a.type_user?(localStorage.setItem("type_user",0),t.commit("changeTypeUser",0),e="login-mozo"):1==a.type_user?(localStorage.setItem("type_user",1),t.commit("changeTypeUser",1),e="login-cajero"):2==a.type_user?(localStorage.setItem("type_user",2),t.commit("changeTypeUser",2),e="login-administrador"):3==a.type_user?(localStorage.setItem("type_user",3),t.commit("changeTypeUser",3),e="login-sadmin"):4==a.type_user&&(localStorage.setItem("type_user",4),t.commit("changeTypeUser",4),e="login-cocinero"),new Promise(function(s,r){Xr.post(t.state.url_root+"api/auth/"+e,{nombre_usuario:a.nombre_usuario,password:a.password,type_user:a.type_user}).then(function(a){var e=a.data.access_token;localStorage.setItem("access_token",e),localStorage.setItem("idRestaurante",a.data.id_restaurant),localStorage.setItem("sex",a.data.sexo),t.commit("retrieveToken",e),t.commit("getIdRestaurant",a.data.id_restaurant),t.commit("retrieveSexo",a.data.sexo),s(a)}).catch(function(t){localStorage.removeItem("access_token"),localStorage.removeItem("type_user"),localStorage.removeItem("getIdRestaurant"),localStorage.removeItem("sex"),r(t)})})},destroyToken:function(t){if(t.getters.loggedIn){Xr.defaults.headers.common["Authorization"]="Bearer "+t.state.token;var a="";return 0==t.state.type_user?a="logout-mozo":1==t.state.type_user?a="logout-cajero":2==t.state.type_user?a="logout-administrador":3==t.state.type_user?a="logout-sadmin":4==t.state.type_user&&(a="logout-cocinero"),new Promise(function(e,s){Xr.post(t.state.url_root+"api/auth/"+a).then(function(a){localStorage.removeItem("access_token"),t.commit("destroyToken"),localStorage.removeItem("type_user"),t.commit("destroyTypeUser"),localStorage.removeItem("idRestaurante"),t.commit("destroyIdRestaurant"),localStorage.removeItem("sex"),t.commit("destroySexo"),e(a)}).catch(function(a){localStorage.removeItem("access_token"),t.commit("destroyToken"),localStorage.removeItem("type_user"),t.commit("destroyTypeUser"),localStorage.removeItem("idRestaurante"),t.commit("destroyIdRestaurant"),localStorage.removeItem("sex"),t.commit("destroySexo"),s(a)})})}},indicePedidosActiveAction:function(t,a){t.commit("indicePedidosActiveMutation",a)},retrieveDataRestaurantAction:function(t,a){t.commit("retrieveDataRestaurantMutation",a)}}}),to=(e("4989"),e("d8bb"),e("bc00"),e("2e26")),ao=e("26b9"),eo=e.n(ao),so=e("1339"),ro=e.n(so),oo=e("2896"),io=e.n(oo),no=(e("40d9"),e("a65d")),lo=e.n(no);window.$=window.jQuery=e("1157"),n["a"].component("table-component",to["TableComponent"]),n["a"].component("table-column",to["TableColumn"]),n["a"].config.productionTip=!1,n["a"].use(io.a),n["a"].use(lo.a,{action:{text:"Cerrar",onClick:function(t,a){a.goAway(0)}},position:"top-center",theme:"toasted-primary"}),Kr.beforeEach(function(t,a,e){t.matched.some(function(t){return t.meta.requiresAuth})?Zr.getters.loggedIn?(t.matched.some(function(t){return t.meta.requiresRolAdministrador})&&(2==Zr.state.type_user?e():e({name:"login"})),t.matched.some(function(t){return t.meta.requiresRolCajero})&&(1==Zr.state.type_user?e():e({name:"login"})),t.matched.some(function(t){return t.meta.requiresRolMozo})&&(0==Zr.state.type_user?e():e({name:"login"})),t.matched.some(function(t){return t.meta.requiresCajeroOrMozo})&&(0==Zr.state.type_user||1==Zr.state.type_user?e():e({name:"login"})),t.matched.some(function(t){return t.meta.requiresAdministradorOrMozoOrCajero})&&(0==Zr.state.type_user||1==Zr.state.type_user||2==Zr.state.type_user?e():e({name:"login"})),t.matched.some(function(t){return t.meta.requiresAllUsers})&&(0==Zr.state.type_user||1==Zr.state.type_user||2==Zr.state.type_user||3==Zr.state.type_user||4==Zr.state.type_user?e():e({name:"login"})),t.matched.some(function(t){return t.meta.requiresSuperAdmin})&&(3==Zr.state.type_user?e():e({name:"login"})),t.matched.some(function(t){return t.meta.requiresCocinero})&&(4==Zr.state.type_user?e():e({name:"login"}))):e({name:"login"}):e()}),n["a"].use(ro.a),n["a"].use(eo.a,{color:"#ff9800",failedColor:"red",thickness:"2px",transition:{speed:"0.2s",opacity:"1",termination:300},autoRevert:!0,location:"top",inverse:!1}),new n["a"]({router:Kr,store:Zr,render:function(t){return t(m)}}).$mount("#app")},"5c0b":function(t,a,e){"use strict";var s=e("6879"),r=e.n(s);r.a},"60af":function(t,a,e){},"60f2":function(t,a,e){},6879:function(t,a,e){},"70af":function(t,a,e){},"7a2b":function(t,a,e){},"82bb":function(t,a,e){"use strict";var s=e("3028"),r=e.n(s);r.a},"8d7f":function(t,a,e){"use strict";var s=e("60af"),r=e.n(s);r.a},"8fba":function(t,a,e){"use strict";var s=e("9242"),r=e.n(s);r.a},"915a":function(t,a,e){"use strict";var s=e("d01c"),r=e.n(s);r.a},9242:function(t,a,e){},"94f9":function(t,a,e){"use strict";var s=e("e073"),r=e.n(s);r.a},"96dc":function(t,a,e){"use strict";var s=e("980e"),r=e.n(s);r.a},"97ac":function(t,a,e){"use strict";var s=e("a808"),r=e.n(s);r.a},"980e":function(t,a,e){},"9ce9":function(t,a,e){},a006:function(t,a,e){"use strict";var s=e("9ce9"),r=e.n(s);r.a},a114:function(t,a,e){},a808:function(t,a,e){},aa36:function(t,a,e){"use strict";var s=e("4c39"),r=e.n(s);r.a},badc:function(t,a,e){"use strict";var s=e("60f2"),r=e.n(s);r.a},bc00:function(t,a,e){},bc5a:function(t,a,e){"use strict";var s=e("cd5d"),r=e.n(s);r.a},be79:function(t,a,e){},bf60:function(t,a,e){"use strict";var s=e("be79"),r=e.n(s);r.a},ca26:function(t,a,e){"use strict";var s=e("09ec"),r=e.n(s);r.a},cd5d:function(t,a,e){},d01c:function(t,a,e){},d8bb:function(t,a,e){},dba5:function(t,a,e){},e073:function(t,a,e){},e540:function(t,a,e){},f737:function(t,a,e){"use strict";var s=e("dba5"),r=e.n(s);r.a},f7b6:function(t,a,e){"use strict";var s=e("3ab0"),r=e.n(s);r.a},fab3:function(t,a,e){"use strict";var s=e("7a2b"),r=e.n(s);r.a}});
//# sourceMappingURL=app.77d6d459.js.map